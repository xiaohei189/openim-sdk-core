2025-12-13T15:18:04.770831Z  INFO src/bin/openim-cli.rs:77: ğŸ“ æ—¥å¿—å·²åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶: debug.log
2025-12-13T15:18:04.770856Z  INFO src/bin/openim-cli.rs:193: ğŸš€ OpenIM CLI å®¢æˆ·ç«¯ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰
2025-12-13T15:18:04.770866Z  INFO src/bin/openim-cli.rs:194: ğŸ“± æ‰‹æœºå·: 17764338283
2025-12-13T15:18:04.770875Z  INFO src/bin/openim-cli.rs:195: â±ï¸  è¿è¡Œæ—¶é•¿: 0 ç§’ï¼ˆ0=æŒç»­è¿è¡Œï¼‰
2025-12-13T15:18:04.770883Z  INFO src/bin/openim-cli.rs:198: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T15:18:04.771110Z  INFO src/im/auth.rs:48: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T15:18:04.771122Z DEBUG src/im/auth.rs:49:    URL: http://localhost:10008/account/login
2025-12-13T15:18:04.771130Z DEBUG src/im/auth.rs:50:    æ‰‹æœºå·: 17764338283
2025-12-13T15:18:04.771138Z DEBUG src/im/auth.rs:51:    OperationID: 4d4d5840-0041-4ca6-9ae6-59c3d95c3353
2025-12-13T15:18:04.777017Z DEBUG src/im/auth.rs:83: âœ… ç™»å½•å“åº”: {"errCode":0,"errMsg":"","errDlt":"","data":{"imToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiUGxhdGZvcm1JRCI6NSwiZXhwIjoxNzczNDE1MDg0LCJpYXQiOjE3NjU2MzkwNzl9.NxJ6ddWiNOmmEDs9hoMznOoUOf3ct3t5ZhDWCS3dJYY","chatToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiVXNlclR5cGUiOjEsIlBsYXRmb3JtSUQiOjAsImV4cCI6MTc3MzQxNTA4NCwibmJmIjoxNzY1NjM5MDI0LCJpYXQiOjE3NjU2MzkwODR9.MmLB2JQ6J6IOpTAyCzFy-gS9eOWAhlllIAjp3cWTJKs","userID":"3217717393"}}
2025-12-13T15:18:04.777107Z  INFO src/bin/openim-cli.rs:213: âœ… ç™»å½•æˆåŠŸï¼ç”¨æˆ·ID: 3217717393
2025-12-13T15:18:04.777141Z  INFO src/bin/openim-cli.rs:225: ğŸ”— æ­£åœ¨è¿æ¥æœåŠ¡å™¨...
2025-12-13T15:18:04.777182Z  INFO src/im/client.rs:210: [Client/WS] ğŸ”— è¿æ¥åˆ° OpenIM Server (user=3217717393, platform=5)
2025-12-13T15:18:04.777977Z  INFO src/im/client.rs:216: [Client/WS] âœ… WebSocket è¿æ¥æˆåŠŸ, çŠ¶æ€: 101 Switching Protocols
2025-12-13T15:18:04.778007Z  INFO src/im/client.rs:229: [Client/WS] âœ… æœåŠ¡å™¨è¿æ¥é‰´æƒæˆåŠŸ
2025-12-13T15:18:04.778034Z  INFO src/im/client.rs:242: [Client/WS] ğŸ’“ å¯åŠ¨å¿ƒè·³
2025-12-13T15:18:04.778044Z  INFO src/im/client.rs:243: [Client/WS] ğŸ“¥ å¼€å§‹ç›‘å¬æœåŠ¡å™¨æ¶ˆæ¯
2025-12-13T15:18:04.778056Z  INFO src/im/conversation.rs:197: [ConvSync] åˆ›å»ºä¼šè¯åŒæ­¥å™¨ï¼Œç”¨æˆ·ID: 3217717393, SQLiteæ•°æ®åº“: sqlite://conversations.db?mode=rwc
2025-12-13T15:18:04.778078Z  INFO src/bin/openim-cli.rs:173: [æ¶ˆæ¯] ğŸ”— å·²è¿æ¥: è¿æ¥æˆåŠŸ
2025-12-13T15:18:04.778885Z  INFO src/im/conversation.rs:222: [ConvSync/DB] åˆå§‹åŒ–æ•°æ®åº“è¡¨ç»“æ„
2025-12-13T15:18:04.779188Z  INFO src/im/conversation.rs:274: [ConvSync/DB] æ•°æ®åº“è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-13T15:18:04.779212Z  INFO src/im/friend.rs:123: [FriendSync/DB] åˆ›å»ºå¥½å‹åŒæ­¥å™¨ï¼Œç”¨æˆ·ID: 3217717393, SQLiteæ•°æ®åº“: sqlite://conversations.db?mode=rwc
2025-12-13T15:18:04.779232Z  INFO src/im/client.rs:258: [Client/Conv] ğŸ”„ å¯åŠ¨ä¼šè¯å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-13T15:18:04.779341Z  INFO src/im/conversation.rs:1542: [ConvSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥ä¼šè¯...
2025-12-13T15:18:04.779665Z DEBUG src/im/conversation.rs:1548: [ConvSync] æœ¬åœ°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: b2816108-d883-441b-afb0-e64938a21b3a
2025-12-13T15:18:04.779750Z  INFO src/im/friend.rs:149: [FriendSync/DB] åˆå§‹åŒ–å¥½å‹è¡¨ç»“æ„
2025-12-13T15:18:04.780100Z  INFO src/im/friend.rs:173: [FriendSync/DB] å¥½å‹è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-13T15:18:04.780145Z  INFO src/im/client.rs:278: [Client/Friend] ğŸ”„ å¯åŠ¨å¥½å‹å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-13T15:18:04.780196Z  INFO src/im/friend.rs:965: [FriendSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥å¥½å‹...
2025-12-13T15:18:04.780212Z DEBUG src/im/conversation.rs:315: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:18:04.780463Z  INFO src/bin/openim-cli.rs:233: âœ… è¿æ¥æˆåŠŸï¼
2025-12-13T15:18:04.780469Z DEBUG src/im/conversation.rs:334: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-13T15:18:04.780486Z DEBUG src/im/conversation.rs:1903: [ConvSync] è·å–æ‰€æœ‰ä¼šè¯åˆ—è¡¨
2025-12-13T15:18:04.780489Z  INFO src/im/conversation.rs:1559: [ConvSync] æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-13T15:18:04.780499Z DEBUG src/im/conversation.rs:1861: [ConvSync] è·å–ä¼šè¯åˆ—è¡¨ï¼Œåç§»: 0, æ•°é‡: 18446744073709551615
2025-12-13T15:18:04.780506Z  INFO src/im/conversation.rs:1646: [ConvSync] ä½¿ç”¨å¢é‡åŒæ­¥ï¼Œç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: b2816108-d883-441b-afb0-e64938a21b3a
2025-12-13T15:18:04.780517Z DEBUG src/im/friend.rs:970: [FriendSync] æœ¬åœ°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-13T15:18:04.780528Z  INFO src/bin/openim-cli.rs:87: [ä¼šè¯] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-13T15:18:04.780583Z  INFO src/im/conversation.rs:1003: [ConvSync/HTTP] ğŸ“¡ è¯·æ±‚å¢é‡ä¼šè¯åŒæ­¥
   è¯·æ±‚URL: http://localhost:10002/conversation/get_incremental_conversations
   ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: b2816108-d883-441b-afb0-e64938a21b3a
   ç”¨æˆ·ID: 3217717393
   æ“ä½œID: d2cfe93e-e8cd-422b-b6ba-5cef0bd2183f
2025-12-13T15:18:04.780775Z DEBUG src/im/friend.rs:202: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-13T15:18:04.780936Z DEBUG src/im/conversation.rs:315: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:18:04.780957Z DEBUG src/im/conversation.rs:1868: [ConvSync] è¿‡æ»¤åä¼šè¯æ•°: 0 (è¿‡æ»¤æ‰æ— æ¶ˆæ¯æ—¶é—´çš„ä¼šè¯)
2025-12-13T15:18:04.780971Z DEBUG src/im/friend.rs:221: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹IDåˆ—è¡¨ï¼Œå…± 1 ä¸ª
2025-12-13T15:18:04.780980Z DEBUG src/im/conversation.rs:1892: [ConvSync] è¿”å› 0 ä¸ªä¼šè¯ (èŒƒå›´: 0 - 0)
2025-12-13T15:18:04.780995Z  INFO src/bin/openim-cli.rs:239: ğŸ“‹ ä¼šè¯åˆ—è¡¨ï¼ˆå…± 0 ä¸ªï¼‰:
2025-12-13T15:18:04.781001Z  INFO src/im/friend.rs:402: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚å¢é‡å¥½å‹åŒæ­¥
2025-12-13T15:18:04.781014Z DEBUG src/im/friend.rs:403: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_incremental_friends
2025-12-13T15:18:04.781028Z DEBUG src/im/friend.rs:404: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:18:04.781042Z DEBUG src/im/friend.rs:405: [FriendSync/HTTP]   æ“ä½œID: d8ac9bab-4420-4c80-8311-649a877a4838
2025-12-13T15:18:04.781303Z DEBUG src/im/friend.rs:202: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-13T15:18:04.781328Z  INFO src/bin/openim-cli.rs:255: ğŸ‘¥ å¥½å‹åˆ—è¡¨ï¼ˆå…± 1 ä¸ªï¼‰
2025-12-13T15:18:04.781544Z  INFO src/bin/openim-cli.rs:259: ğŸ“¬ æ€»æœªè¯»æ•°: 37
2025-12-13T15:18:04.781560Z  INFO src/bin/openim-cli.rs:263: ğŸ“¥ å¼€å§‹ç›‘å¬æ¶ˆæ¯...
2025-12-13T15:18:04.781568Z  INFO src/bin/openim-cli.rs:264: ğŸ’¡ æç¤ºï¼šç¨‹åºå°†æŒç»­è¿è¡Œå¹¶æ˜¾ç¤ºæ¥æ”¶åˆ°çš„æ‰€æœ‰æ¶ˆæ¯å’Œäº‹ä»¶
2025-12-13T15:18:04.781578Z  INFO src/bin/openim-cli.rs:270: â° æŒç»­è¿è¡Œä¸­ï¼ŒæŒ‰ Ctrl+C é€€å‡º
2025-12-13T15:18:04.782075Z DEBUG src/im/conversation.rs:1031: [ConvSync/HTTP] å¢é‡ä¼šè¯åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:18:04.782147Z  INFO src/im/conversation.rs:1105: [ConvSync/HTTP] âœ… å¢é‡ä¼šè¯åŒæ­¥å“åº”
2025-12-13T15:18:04.782164Z  INFO src/im/conversation.rs:1106: [ConvSync/HTTP]   å…¨é‡åŒæ­¥: true
2025-12-13T15:18:04.782177Z  INFO src/im/conversation.rs:1107: [ConvSync/HTTP]   ç‰ˆæœ¬ID: 68e1e4982a00312739a80eef
2025-12-13T15:18:04.782191Z  INFO src/im/conversation.rs:1108: [ConvSync/HTTP]   ç‰ˆæœ¬: 3
2025-12-13T15:18:04.782205Z  INFO src/im/conversation.rs:1109: [ConvSync/HTTP]   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-13T15:18:04.782222Z DEBUG src/im/conversation.rs:1115: [ConvSync/HTTP]   åˆ é™¤çš„ä¼šè¯ID: []
2025-12-13T15:18:04.782248Z  WARN src/im/conversation.rs:1672: [ConvSync]   æœåŠ¡å™¨è¦æ±‚å…¨é‡åŒæ­¥...
2025-12-13T15:18:04.782252Z DEBUG src/im/friend.rs:427: [FriendSync/HTTP] å¢é‡å¥½å‹åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:18:04.782263Z  INFO src/im/conversation.rs:1757: [ConvSync] ğŸ”„ å¼€å§‹å…¨é‡åŒæ­¥ä¼šè¯...
2025-12-13T15:18:04.782305Z  INFO src/im/friend.rs:496: [FriendSync/HTTP] âœ… å¢é‡å¥½å‹åŒæ­¥å“åº”
2025-12-13T15:18:04.782322Z  INFO src/im/friend.rs:497: [FriendSync/HTTP]   å…¨é‡åŒæ­¥: false, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa, ç‰ˆæœ¬: 2
2025-12-13T15:18:04.782335Z  INFO src/im/friend.rs:501: [FriendSync/HTTP]   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-13T15:18:04.782363Z  INFO src/im/friend.rs:874: [FriendSync] å¼€å§‹åŒæ­¥å¥½å‹ï¼ŒæœåŠ¡å™¨å¥½å‹æ•°: 0, æœ¬åœ°å¥½å‹æ•°: 1
2025-12-13T15:18:04.782394Z  INFO src/im/friend.rs:944: [FriendSync] å¥½å‹åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-13T15:18:04.782510Z DEBUG src/im/conversation.rs:334: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-13T15:18:04.782532Z DEBUG src/im/conversation.rs:1760: [ConvSync] full_sync -> on_sync_server_start(reinstalled=false)
2025-12-13T15:18:04.782544Z  INFO src/bin/openim-cli.rs:87: [ä¼šè¯] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-13T15:18:04.782558Z DEBUG src/im/conversation.rs:1765: [ConvSync] full_sync -> on_sync_server_progress(10)
2025-12-13T15:18:04.782581Z  INFO src/im/conversation.rs:1134: [ConvSync/HTTP] ğŸ“¡ è¯·æ±‚å…¨é‡ä¼šè¯åŒæ­¥
2025-12-13T15:18:04.782594Z DEBUG src/im/conversation.rs:1135: [ConvSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/conversation/get_all_conversations
2025-12-13T15:18:04.782606Z DEBUG src/im/conversation.rs:1136: [ConvSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:18:04.782619Z DEBUG src/im/conversation.rs:1137: [ConvSync/HTTP]   æ“ä½œID: ed181a9f-5205-47c1-93d7-c66c1eaf7527
2025-12-13T15:18:04.782680Z  INFO src/im/friend.rs:1120: [FriendSync] å·²æ›´æ–°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2 -> 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-13T15:18:04.782696Z  INFO src/im/friend.rs:1126: [FriendSync] âœ… å¢é‡åŒæ­¥å¥½å‹å®Œæˆ
2025-12-13T15:18:04.782716Z  INFO src/im/friend.rs:721: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚é»‘åå•åˆ—è¡¨
2025-12-13T15:18:04.782732Z DEBUG src/im/friend.rs:722: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_black_list
2025-12-13T15:18:04.782747Z DEBUG src/im/friend.rs:723: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:18:04.782758Z DEBUG src/im/friend.rs:724: [FriendSync/HTTP]   æ“ä½œID: 18839182-5c02-49e0-ab93-207e21135921
2025-12-13T15:18:04.783604Z DEBUG src/im/conversation.rs:1159: [ConvSync/HTTP] å…¨é‡ä¼šè¯åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:18:04.783709Z  INFO src/im/conversation.rs:1196: [ConvSync/HTTP] âœ… å…¨é‡ä¼šè¯åŒæ­¥å“åº”
2025-12-13T15:18:04.783722Z  INFO src/im/conversation.rs:1197: [ConvSync/HTTP]   ä¼šè¯æ•°: 2
2025-12-13T15:18:04.783738Z DEBUG src/im/conversation.rs:1198: [ConvSync/HTTP]   ä¼šè¯è¯¦æƒ…: ["si_1056224172_3217717393", "sg_3250046082"]
2025-12-13T15:18:04.783762Z  INFO src/im/conversation.rs:1781: [ConvSync] ä»æœåŠ¡å™¨è·å–åˆ° 2 ä¸ªä¼šè¯
2025-12-13T15:18:04.783782Z DEBUG src/im/conversation.rs:1793: [ConvSync] å·²è½¬æ¢ 2 ä¸ªä¼šè¯ä¸ºæœ¬åœ°æ ¼å¼
2025-12-13T15:18:04.783796Z DEBUG src/im/conversation.rs:1797: [ConvSync] full_sync -> on_sync_server_progress(50)
2025-12-13T15:18:04.784060Z DEBUG src/im/friend.rs:746: [FriendSync/HTTP] é»‘åå•åˆ—è¡¨è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:18:04.784108Z  INFO src/im/friend.rs:778: [FriendSync/HTTP] âœ… é»‘åå•åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-13T15:18:04.784114Z DEBUG src/im/conversation.rs:315: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:18:04.784130Z  INFO src/bin/openim-cli.rs:130: [å¥½å‹] ğŸš« é»‘åå•å˜æ›´: null
2025-12-13T15:18:04.784132Z  INFO src/im/conversation.rs:1802: [ConvSync] æœ¬åœ°å·²æœ‰ 2 ä¸ªä¼šè¯
2025-12-13T15:18:04.784155Z  INFO src/im/conversation.rs:694: [ConvSync/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-13T15:18:04.784162Z  INFO src/im/friend.rs:802: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚å¥½å‹ç”³è¯·åˆ—è¡¨
2025-12-13T15:18:04.784171Z DEBUG src/im/conversation.rs:695: [ConvSync/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-13T15:18:04.784173Z DEBUG src/im/friend.rs:803: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_friend_apply_list
2025-12-13T15:18:04.784184Z DEBUG src/im/conversation.rs:696: [ConvSync/Seq]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:18:04.784188Z DEBUG src/im/friend.rs:804: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:18:04.784199Z DEBUG src/im/conversation.rs:697: [ConvSync/Seq]   æ“ä½œID: 89652f4b-e1ee-4e6b-835a-771c78562831
2025-12-13T15:18:04.784203Z DEBUG src/im/friend.rs:805: [FriendSync/HTTP]   æ“ä½œID: 68393e26-efd6-471c-9cab-8aae5f9a6db3
2025-12-13T15:18:04.785893Z DEBUG src/im/conversation.rs:719: [ConvSync/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:18:04.785975Z  INFO src/im/conversation.rs:726: [ConvSync/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-13T15:18:04.786051Z  INFO src/im/conversation.rs:749: [ConvSync/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data å­—æ®µ: {
  "pinnedConversationIDs": null,
  "seqs": {
    "sg_3250046082": {
      "hasReadSeq": 13,
      "maxSeq": 26,
      "maxSeqTime": 1765380998099
    },
    "si_1056224172_3217717393": {
      "hasReadSeq": 19,
      "maxSeq": 43,
      "maxSeqTime": 1765637683035
    }
  }
}
2025-12-13T15:18:04.786095Z  INFO src/im/conversation.rs:758: [ConvSync/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-13T15:18:04.786108Z  INFO src/im/conversation.rs:770: [ConvSync/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-13T15:18:04.786126Z  INFO src/im/conversation.rs:770: [ConvSync/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-13T15:18:04.786137Z  INFO src/im/conversation.rs:820: [ConvSync/Seq] âœ… ä¼šè¯ Seq è§£æå®Œæˆï¼ŒæˆåŠŸè§£æ 2 ä¸ªä¼šè¯
2025-12-13T15:18:04.786150Z  INFO src/im/conversation.rs:1807: [ConvSync] è·å–åˆ° 2 ä¸ªä¼šè¯çš„ seqs ä¿¡æ¯ï¼Œç”¨äºè®¾ç½®æœªè¯»æ•°
2025-12-13T15:18:04.786161Z  INFO src/im/conversation.rs:1402: [ConvSync] å¼€å§‹åŒæ­¥ä¼šè¯ï¼ŒæœåŠ¡å™¨ä¼šè¯æ•°: 2, æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-13T15:18:04.786181Z  INFO src/im/conversation.rs:1430: [ConvSync]   ä¼šè¯ sg_3250046082 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-13T15:18:04.786192Z  INFO src/im/conversation.rs:1430: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-13T15:18:04.786204Z DEBUG src/im/conversation.rs:1467: [ConvSync]   ä¼šè¯ sg_3250046082 æ— éœ€æ›´æ–°
2025-12-13T15:18:04.786213Z DEBUG src/im/conversation.rs:1467: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ— éœ€æ›´æ–°
2025-12-13T15:18:04.786229Z  INFO src/im/conversation.rs:1516: [ConvSync] ä¼šè¯åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-13T15:18:04.786243Z DEBUG src/im/conversation.rs:1822: [ConvSync] full_sync -> on_sync_server_progress(80)
2025-12-13T15:18:04.786479Z DEBUG src/im/friend.rs:827: [FriendSync/HTTP] å¥½å‹ç”³è¯·åˆ—è¡¨è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:18:04.786543Z  INFO src/im/friend.rs:859: [FriendSync/HTTP] âœ… å¥½å‹ç”³è¯·åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-13T15:18:04.786568Z  INFO src/bin/openim-cli.rs:134: [å¥½å‹] ğŸ“ å¥½å‹ç”³è¯·å˜æ›´: []
2025-12-13T15:18:04.786582Z  INFO src/im/client.rs:281: [Client/Friend] âœ… å¥½å‹åŒæ­¥å®Œæˆ
2025-12-13T15:18:04.790612Z  INFO src/im/conversation.rs:1833: [ConvSync] å·²æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 4c959ddd-f626-453e-956e-2bfd5f4564ad
2025-12-13T15:18:04.790631Z DEBUG src/im/conversation.rs:1838: [ConvSync] full_sync -> on_sync_server_progress(100)
2025-12-13T15:18:04.790650Z DEBUG src/im/conversation.rs:1840: [ConvSync] full_sync -> on_sync_server_finish(reinstalled=false)
2025-12-13T15:18:04.790670Z  INFO src/bin/openim-cli.rs:91: [ä¼šè¯] âœ… åŒæ­¥å®Œæˆ: reinstalled=false
2025-12-13T15:18:04.790688Z  INFO src/im/conversation.rs:829: [ConvSync/Seq] ğŸ”„ å¼€å§‹æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°...
2025-12-13T15:18:04.790993Z DEBUG src/im/conversation.rs:315: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:18:04.791027Z  INFO src/im/conversation.rs:694: [ConvSync/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-13T15:18:04.791047Z DEBUG src/im/conversation.rs:695: [ConvSync/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-13T15:18:04.791063Z DEBUG src/im/conversation.rs:696: [ConvSync/Seq]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:18:04.791084Z DEBUG src/im/conversation.rs:697: [ConvSync/Seq]   æ“ä½œID: fa8364cf-4550-4955-acb2-2e4d876e2321
2025-12-13T15:18:04.792278Z DEBUG src/im/conversation.rs:719: [ConvSync/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:18:04.792343Z  INFO src/im/conversation.rs:726: [ConvSync/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-13T15:18:04.792383Z  INFO src/im/conversation.rs:749: [ConvSync/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data å­—æ®µ: {
  "pinnedConversationIDs": null,
  "seqs": {
    "sg_3250046082": {
      "hasReadSeq": 13,
      "maxSeq": 26,
      "maxSeqTime": 1765380998099
    },
    "si_1056224172_3217717393": {
      "hasReadSeq": 19,
      "maxSeq": 43,
      "maxSeqTime": 1765637683035
    }
  }
}
2025-12-13T15:18:04.792404Z  INFO src/im/conversation.rs:758: [ConvSync/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-13T15:18:04.792418Z  INFO src/im/conversation.rs:770: [ConvSync/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-13T15:18:04.792435Z  INFO src/im/conversation.rs:770: [ConvSync/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-13T15:18:04.792448Z  INFO src/im/conversation.rs:820: [ConvSync/Seq] âœ… ä¼šè¯ Seq è§£æå®Œæˆï¼ŒæˆåŠŸè§£æ 2 ä¸ªä¼šè¯
2025-12-13T15:18:04.792468Z  INFO src/im/conversation.rs:850: [ConvSync/Seq] ğŸ”„ å¼€å§‹æ ¡æ­£æœªè¯»æ•°ï¼ŒæœåŠ¡å™¨è¿”å› 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-13T15:18:04.792483Z DEBUG src/im/conversation.rs:870: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=sg_3250046082, unreadCount=13, maxSeq=26
2025-12-13T15:18:04.792499Z DEBUG src/im/conversation.rs:870: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=si_1056224172_3217717393, unreadCount=24, maxSeq=43
2025-12-13T15:18:04.792511Z  INFO src/im/conversation.rs:885: [ConvSync/Seq] ğŸ“Š æœªè¯»æ•°æ ¡æ­£ç»Ÿè®¡: å·²æ›´æ–° 0 ä¸ªä¼šè¯ï¼Œå‘ç° 0 ä¸ªæœ¬åœ°ç¼ºå¤±ä¼šè¯
2025-12-13T15:18:04.792760Z  INFO src/im/conversation.rs:893: [ConvSync/Seq] ğŸ“Š æ ¡æ­£å‰æ€»æœªè¯»æ•°: 37
2025-12-13T15:18:04.792776Z  INFO src/im/conversation.rs:977: [ConvSync/Seq] â„¹ï¸ æ— ä¼šè¯å˜æ›´ï¼Œè·³è¿‡å›è°ƒ
2025-12-13T15:18:04.792786Z  INFO src/im/conversation.rs:980: [ConvSync/Seq] âœ… æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°å®Œæˆ
2025-12-13T15:18:04.792799Z  INFO src/im/conversation.rs:1851: [ConvSync] âœ… å…¨é‡åŒæ­¥å®Œæˆ

2025-12-13T15:18:04.792814Z  INFO src/im/client.rs:261: [Client/Conv] âœ… ä¼šè¯åŒæ­¥å®Œæˆ
2025-12-13T15:24:43.134384Z  INFO src/bin/openim-cli.rs:77: ğŸ“ æ—¥å¿—å·²åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶: debug.log
2025-12-13T15:24:43.134410Z  INFO src/bin/openim-cli.rs:193: ğŸš€ OpenIM CLI å®¢æˆ·ç«¯ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰
2025-12-13T15:24:43.134424Z  INFO src/bin/openim-cli.rs:194: ğŸ“± æ‰‹æœºå·: 17764338283
2025-12-13T15:24:43.134435Z  INFO src/bin/openim-cli.rs:195: â±ï¸  è¿è¡Œæ—¶é•¿: 0 ç§’ï¼ˆ0=æŒç»­è¿è¡Œï¼‰
2025-12-13T15:24:43.134447Z  INFO src/bin/openim-cli.rs:198: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T15:24:43.134748Z  INFO src/im/auth.rs:48: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T15:24:43.134766Z DEBUG src/im/auth.rs:49:    URL: http://localhost:10008/account/login
2025-12-13T15:24:43.134779Z DEBUG src/im/auth.rs:50:    æ‰‹æœºå·: 17764338283
2025-12-13T15:24:43.134792Z DEBUG src/im/auth.rs:51:    OperationID: b78b2b11-0ef5-4742-a358-e73f5253ea3a
2025-12-13T15:24:43.140389Z DEBUG src/im/auth.rs:83: âœ… ç™»å½•å“åº”: {"errCode":0,"errMsg":"","errDlt":"","data":{"imToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiUGxhdGZvcm1JRCI6NSwiZXhwIjoxNzczNDE1NDgzLCJpYXQiOjE3NjU2Mzk0Nzh9.4NWcPF62zLnfaYS-R1iSq7uFWlLfQ3ZctRtmx_qwn7s","chatToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiVXNlclR5cGUiOjEsIlBsYXRmb3JtSUQiOjAsImV4cCI6MTc3MzQxNTQ4MywibmJmIjoxNzY1NjM5NDIzLCJpYXQiOjE3NjU2Mzk0ODN9.9Z_g0OinCDWspgXehOMpTX87L2NDMjjmcffXo1Dz0CE","userID":"3217717393"}}
2025-12-13T15:24:43.140480Z  INFO src/bin/openim-cli.rs:213: âœ… ç™»å½•æˆåŠŸï¼ç”¨æˆ·ID: 3217717393
2025-12-13T15:24:43.140511Z  INFO src/bin/openim-cli.rs:225: ğŸ”— æ­£åœ¨è¿æ¥æœåŠ¡å™¨...
2025-12-13T15:24:43.140549Z  INFO src/im/client.rs:210: [Client/WS] ğŸ”— è¿æ¥åˆ° OpenIM Server (user=3217717393, platform=5)
2025-12-13T15:24:43.141327Z  INFO src/im/client.rs:216: [Client/WS] âœ… WebSocket è¿æ¥æˆåŠŸ, çŠ¶æ€: 101 Switching Protocols
2025-12-13T15:24:43.141364Z  INFO src/im/client.rs:229: [Client/WS] âœ… æœåŠ¡å™¨è¿æ¥é‰´æƒæˆåŠŸ
2025-12-13T15:24:43.141395Z  INFO src/im/client.rs:242: [Client/WS] ğŸ’“ å¯åŠ¨å¿ƒè·³
2025-12-13T15:24:43.141405Z  INFO src/im/client.rs:243: [Client/WS] ğŸ“¥ å¼€å§‹ç›‘å¬æœåŠ¡å™¨æ¶ˆæ¯
2025-12-13T15:24:43.141420Z  INFO src/im/conversation.rs:197: [ConvSync] åˆ›å»ºä¼šè¯åŒæ­¥å™¨ï¼Œç”¨æˆ·ID: 3217717393, SQLiteæ•°æ®åº“: sqlite://conversations.db?mode=rwc
2025-12-13T15:24:43.141435Z  INFO src/bin/openim-cli.rs:173: [æ¶ˆæ¯] ğŸ”— å·²è¿æ¥: è¿æ¥æˆåŠŸ
2025-12-13T15:24:43.142274Z  INFO src/im/conversation.rs:222: [ConvSync/DB] åˆå§‹åŒ–æ•°æ®åº“è¡¨ç»“æ„
2025-12-13T15:24:43.142579Z  INFO src/im/conversation.rs:274: [ConvSync/DB] æ•°æ®åº“è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-13T15:24:43.142602Z  INFO src/im/friend.rs:123: [FriendSync/DB] åˆ›å»ºå¥½å‹åŒæ­¥å™¨ï¼Œç”¨æˆ·ID: 3217717393, SQLiteæ•°æ®åº“: sqlite://conversations.db?mode=rwc
2025-12-13T15:24:43.142610Z  INFO src/im/client.rs:258: [Client/Conv] ğŸ”„ å¯åŠ¨ä¼šè¯å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-13T15:24:43.142658Z  INFO src/im/conversation.rs:1542: [ConvSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥ä¼šè¯...
2025-12-13T15:24:43.142937Z DEBUG src/im/conversation.rs:1548: [ConvSync] æœ¬åœ°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 4c959ddd-f626-453e-956e-2bfd5f4564ad
2025-12-13T15:24:43.143046Z  INFO src/im/friend.rs:149: [FriendSync/DB] åˆå§‹åŒ–å¥½å‹è¡¨ç»“æ„
2025-12-13T15:24:43.143330Z  INFO src/im/friend.rs:173: [FriendSync/DB] å¥½å‹è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-13T15:24:43.143366Z  INFO src/im/client.rs:278: [Client/Friend] ğŸ”„ å¯åŠ¨å¥½å‹å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-13T15:24:43.143387Z  INFO src/im/friend.rs:965: [FriendSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥å¥½å‹...
2025-12-13T15:24:43.143445Z DEBUG src/im/conversation.rs:315: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:24:43.143593Z DEBUG src/im/friend.rs:970: [FriendSync] æœ¬åœ°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-13T15:24:43.143695Z  INFO src/bin/openim-cli.rs:233: âœ… è¿æ¥æˆåŠŸï¼
2025-12-13T15:24:43.143723Z DEBUG src/im/conversation.rs:334: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-13T15:24:43.143729Z DEBUG src/im/conversation.rs:1903: [ConvSync] è·å–æ‰€æœ‰ä¼šè¯åˆ—è¡¨
2025-12-13T15:24:43.143741Z  INFO src/im/conversation.rs:1559: [ConvSync] æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-13T15:24:43.143747Z DEBUG src/im/conversation.rs:1861: [ConvSync] è·å–ä¼šè¯åˆ—è¡¨ï¼Œåç§»: 0, æ•°é‡: 18446744073709551615
2025-12-13T15:24:43.143753Z  INFO src/im/conversation.rs:1646: [ConvSync] ä½¿ç”¨å¢é‡åŒæ­¥ï¼Œç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 4c959ddd-f626-453e-956e-2bfd5f4564ad
2025-12-13T15:24:43.143766Z  INFO src/bin/openim-cli.rs:87: [ä¼šè¯] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-13T15:24:43.143809Z  INFO src/im/conversation.rs:1003: [ConvSync/HTTP] ğŸ“¡ è¯·æ±‚å¢é‡ä¼šè¯åŒæ­¥
   è¯·æ±‚URL: http://localhost:10002/conversation/get_incremental_conversations
   ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 4c959ddd-f626-453e-956e-2bfd5f4564ad
   ç”¨æˆ·ID: 3217717393
   æ“ä½œID: 70812c8c-8eb1-4067-846f-b530b6dec174
2025-12-13T15:24:43.143922Z DEBUG src/im/friend.rs:202: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-13T15:24:43.144106Z DEBUG src/im/friend.rs:221: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹IDåˆ—è¡¨ï¼Œå…± 1 ä¸ª
2025-12-13T15:24:43.144130Z  INFO src/im/friend.rs:402: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚å¢é‡å¥½å‹åŒæ­¥
2025-12-13T15:24:43.144142Z DEBUG src/im/conversation.rs:315: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:24:43.144143Z DEBUG src/im/friend.rs:403: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_incremental_friends
2025-12-13T15:24:43.144161Z DEBUG src/im/friend.rs:404: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:24:43.144165Z DEBUG src/im/conversation.rs:1868: [ConvSync] è¿‡æ»¤åä¼šè¯æ•°: 0 (è¿‡æ»¤æ‰æ— æ¶ˆæ¯æ—¶é—´çš„ä¼šè¯)
2025-12-13T15:24:43.144171Z DEBUG src/im/friend.rs:405: [FriendSync/HTTP]   æ“ä½œID: 1b8b7fc0-7e2f-4dc3-af81-9eb83e0a1098
2025-12-13T15:24:43.144177Z DEBUG src/im/conversation.rs:1892: [ConvSync] è¿”å› 0 ä¸ªä¼šè¯ (èŒƒå›´: 0 - 0)
2025-12-13T15:24:43.144189Z  INFO src/bin/openim-cli.rs:239: ğŸ“‹ ä¼šè¯åˆ—è¡¨ï¼ˆå…± 0 ä¸ªï¼‰:
2025-12-13T15:24:43.144379Z DEBUG src/im/friend.rs:202: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-13T15:24:43.144399Z  INFO src/bin/openim-cli.rs:255: ğŸ‘¥ å¥½å‹åˆ—è¡¨ï¼ˆå…± 1 ä¸ªï¼‰
2025-12-13T15:24:43.144603Z  INFO src/bin/openim-cli.rs:259: ğŸ“¬ æ€»æœªè¯»æ•°: 37
2025-12-13T15:24:43.144618Z  INFO src/bin/openim-cli.rs:263: ğŸ“¥ å¼€å§‹ç›‘å¬æ¶ˆæ¯...
2025-12-13T15:24:43.144627Z  INFO src/bin/openim-cli.rs:264: ğŸ’¡ æç¤ºï¼šç¨‹åºå°†æŒç»­è¿è¡Œå¹¶æ˜¾ç¤ºæ¥æ”¶åˆ°çš„æ‰€æœ‰æ¶ˆæ¯å’Œäº‹ä»¶
2025-12-13T15:24:43.144636Z  INFO src/bin/openim-cli.rs:270: â° æŒç»­è¿è¡Œä¸­ï¼ŒæŒ‰ Ctrl+C é€€å‡º
2025-12-13T15:24:43.145218Z DEBUG src/im/conversation.rs:1031: [ConvSync/HTTP] å¢é‡ä¼šè¯åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:24:43.145280Z  INFO src/im/conversation.rs:1105: [ConvSync/HTTP] âœ… å¢é‡ä¼šè¯åŒæ­¥å“åº”
2025-12-13T15:24:43.145295Z  INFO src/im/conversation.rs:1106: [ConvSync/HTTP]   å…¨é‡åŒæ­¥: true
2025-12-13T15:24:43.145307Z  INFO src/im/conversation.rs:1107: [ConvSync/HTTP]   ç‰ˆæœ¬ID: 68e1e4982a00312739a80eef
2025-12-13T15:24:43.145320Z  INFO src/im/conversation.rs:1108: [ConvSync/HTTP]   ç‰ˆæœ¬: 3
2025-12-13T15:24:43.145333Z  INFO src/im/conversation.rs:1109: [ConvSync/HTTP]   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-13T15:24:43.145346Z DEBUG src/im/conversation.rs:1115: [ConvSync/HTTP]   åˆ é™¤çš„ä¼šè¯ID: []
2025-12-13T15:24:43.145370Z  WARN src/im/conversation.rs:1672: [ConvSync]   æœåŠ¡å™¨è¦æ±‚å…¨é‡åŒæ­¥...
2025-12-13T15:24:43.145384Z  INFO src/im/conversation.rs:1757: [ConvSync] ğŸ”„ å¼€å§‹å…¨é‡åŒæ­¥ä¼šè¯...
2025-12-13T15:24:43.145416Z DEBUG src/im/friend.rs:427: [FriendSync/HTTP] å¢é‡å¥½å‹åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:24:43.145464Z  INFO src/im/friend.rs:496: [FriendSync/HTTP] âœ… å¢é‡å¥½å‹åŒæ­¥å“åº”
2025-12-13T15:24:43.145476Z  INFO src/im/friend.rs:497: [FriendSync/HTTP]   å…¨é‡åŒæ­¥: false, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa, ç‰ˆæœ¬: 2
2025-12-13T15:24:43.145486Z  INFO src/im/friend.rs:501: [FriendSync/HTTP]   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-13T15:24:43.145500Z  INFO src/im/friend.rs:874: [FriendSync] å¼€å§‹åŒæ­¥å¥½å‹ï¼ŒæœåŠ¡å™¨å¥½å‹æ•°: 0, æœ¬åœ°å¥½å‹æ•°: 1
2025-12-13T15:24:43.145521Z  INFO src/im/friend.rs:944: [FriendSync] å¥½å‹åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-13T15:24:43.145696Z DEBUG src/im/conversation.rs:334: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-13T15:24:43.145713Z DEBUG src/im/conversation.rs:1760: [ConvSync] full_sync -> on_sync_server_start(reinstalled=false)
2025-12-13T15:24:43.145723Z  INFO src/bin/openim-cli.rs:87: [ä¼šè¯] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-13T15:24:43.145733Z DEBUG src/im/conversation.rs:1765: [ConvSync] full_sync -> on_sync_server_progress(10)
2025-12-13T15:24:43.145750Z  INFO src/im/conversation.rs:1134: [ConvSync/HTTP] ğŸ“¡ è¯·æ±‚å…¨é‡ä¼šè¯åŒæ­¥
2025-12-13T15:24:43.145760Z DEBUG src/im/conversation.rs:1135: [ConvSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/conversation/get_all_conversations
2025-12-13T15:24:43.145770Z DEBUG src/im/conversation.rs:1136: [ConvSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:24:43.145778Z DEBUG src/im/conversation.rs:1137: [ConvSync/HTTP]   æ“ä½œID: 440aedc4-a630-43fb-8815-dd4b3de956ed
2025-12-13T15:24:43.145791Z  INFO src/im/friend.rs:1120: [FriendSync] å·²æ›´æ–°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2 -> 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-13T15:24:43.145811Z  INFO src/im/friend.rs:1126: [FriendSync] âœ… å¢é‡åŒæ­¥å¥½å‹å®Œæˆ
2025-12-13T15:24:43.145827Z  INFO src/im/friend.rs:721: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚é»‘åå•åˆ—è¡¨
2025-12-13T15:24:43.145837Z DEBUG src/im/friend.rs:722: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_black_list
2025-12-13T15:24:43.145847Z DEBUG src/im/friend.rs:723: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:24:43.145856Z DEBUG src/im/friend.rs:724: [FriendSync/HTTP]   æ“ä½œID: d9c3346e-97f0-41e5-9179-71fee59fe8ad
2025-12-13T15:24:43.146789Z DEBUG src/im/conversation.rs:1159: [ConvSync/HTTP] å…¨é‡ä¼šè¯åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:24:43.146884Z  INFO src/im/conversation.rs:1196: [ConvSync/HTTP] âœ… å…¨é‡ä¼šè¯åŒæ­¥å“åº”
2025-12-13T15:24:43.146896Z  INFO src/im/conversation.rs:1197: [ConvSync/HTTP]   ä¼šè¯æ•°: 2
2025-12-13T15:24:43.146910Z DEBUG src/im/conversation.rs:1198: [ConvSync/HTTP]   ä¼šè¯è¯¦æƒ…: ["sg_3250046082", "si_1056224172_3217717393"]
2025-12-13T15:24:43.146929Z  INFO src/im/conversation.rs:1781: [ConvSync] ä»æœåŠ¡å™¨è·å–åˆ° 2 ä¸ªä¼šè¯
2025-12-13T15:24:43.146947Z DEBUG src/im/conversation.rs:1793: [ConvSync] å·²è½¬æ¢ 2 ä¸ªä¼šè¯ä¸ºæœ¬åœ°æ ¼å¼
2025-12-13T15:24:43.146956Z DEBUG src/im/conversation.rs:1797: [ConvSync] full_sync -> on_sync_server_progress(50)
2025-12-13T15:24:43.147176Z DEBUG src/im/friend.rs:746: [FriendSync/HTTP] é»‘åå•åˆ—è¡¨è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:24:43.147198Z DEBUG src/im/conversation.rs:315: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:24:43.147212Z  INFO src/im/conversation.rs:1802: [ConvSync] æœ¬åœ°å·²æœ‰ 2 ä¸ªä¼šè¯
2025-12-13T15:24:43.147221Z  INFO src/im/friend.rs:778: [FriendSync/HTTP] âœ… é»‘åå•åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-13T15:24:43.147232Z  INFO src/im/conversation.rs:694: [ConvSync/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-13T15:24:43.147239Z  INFO src/bin/openim-cli.rs:130: [å¥½å‹] ğŸš« é»‘åå•å˜æ›´: null
2025-12-13T15:24:43.147246Z DEBUG src/im/conversation.rs:695: [ConvSync/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-13T15:24:43.147255Z  INFO src/im/friend.rs:802: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚å¥½å‹ç”³è¯·åˆ—è¡¨
2025-12-13T15:24:43.147261Z DEBUG src/im/conversation.rs:696: [ConvSync/Seq]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:24:43.147269Z DEBUG src/im/friend.rs:803: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_friend_apply_list
2025-12-13T15:24:43.147273Z DEBUG src/im/conversation.rs:697: [ConvSync/Seq]   æ“ä½œID: 115f985f-88e9-455e-aa80-2af8ae088483
2025-12-13T15:24:43.147282Z DEBUG src/im/friend.rs:804: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:24:43.147296Z DEBUG src/im/friend.rs:805: [FriendSync/HTTP]   æ“ä½œID: 74b59f2c-2ad1-4b68-b500-5404b87a6b8f
2025-12-13T15:24:43.148739Z DEBUG src/im/conversation.rs:719: [ConvSync/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:24:43.148799Z  INFO src/im/conversation.rs:726: [ConvSync/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-13T15:24:43.148834Z  INFO src/im/conversation.rs:749: [ConvSync/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data å­—æ®µ: {
  "pinnedConversationIDs": null,
  "seqs": {
    "sg_3250046082": {
      "hasReadSeq": 13,
      "maxSeq": 26,
      "maxSeqTime": 1765380998099
    },
    "si_1056224172_3217717393": {
      "hasReadSeq": 19,
      "maxSeq": 43,
      "maxSeqTime": 1765637683035
    }
  }
}
2025-12-13T15:24:43.148850Z  INFO src/im/conversation.rs:758: [ConvSync/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-13T15:24:43.148861Z  INFO src/im/conversation.rs:770: [ConvSync/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-13T15:24:43.148878Z  INFO src/im/conversation.rs:770: [ConvSync/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-13T15:24:43.148896Z  INFO src/im/conversation.rs:820: [ConvSync/Seq] âœ… ä¼šè¯ Seq è§£æå®Œæˆï¼ŒæˆåŠŸè§£æ 2 ä¸ªä¼šè¯
2025-12-13T15:24:43.148909Z  INFO src/im/conversation.rs:1807: [ConvSync] è·å–åˆ° 2 ä¸ªä¼šè¯çš„ seqs ä¿¡æ¯ï¼Œç”¨äºè®¾ç½®æœªè¯»æ•°
2025-12-13T15:24:43.148926Z  INFO src/im/conversation.rs:1402: [ConvSync] å¼€å§‹åŒæ­¥ä¼šè¯ï¼ŒæœåŠ¡å™¨ä¼šè¯æ•°: 2, æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-13T15:24:43.148973Z  INFO src/im/conversation.rs:1430: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-13T15:24:43.148993Z  INFO src/im/conversation.rs:1430: [ConvSync]   ä¼šè¯ sg_3250046082 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-13T15:24:43.149006Z DEBUG src/im/conversation.rs:1467: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ— éœ€æ›´æ–°
2025-12-13T15:24:43.149018Z DEBUG src/im/conversation.rs:1467: [ConvSync]   ä¼šè¯ sg_3250046082 æ— éœ€æ›´æ–°
2025-12-13T15:24:43.149040Z  INFO src/im/conversation.rs:1516: [ConvSync] ä¼šè¯åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-13T15:24:43.149057Z DEBUG src/im/conversation.rs:1822: [ConvSync] full_sync -> on_sync_server_progress(80)
2025-12-13T15:24:43.149278Z DEBUG src/im/friend.rs:827: [FriendSync/HTTP] å¥½å‹ç”³è¯·åˆ—è¡¨è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:24:43.149331Z  INFO src/im/friend.rs:859: [FriendSync/HTTP] âœ… å¥½å‹ç”³è¯·åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-13T15:24:43.149352Z  INFO src/bin/openim-cli.rs:134: [å¥½å‹] ğŸ“ å¥½å‹ç”³è¯·å˜æ›´: []
2025-12-13T15:24:43.149365Z  INFO src/im/client.rs:281: [Client/Friend] âœ… å¥½å‹åŒæ­¥å®Œæˆ
2025-12-13T15:24:43.153060Z  INFO src/im/conversation.rs:1833: [ConvSync] å·²æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 6a030639-6a08-4f7c-a7e9-30d296395df3
2025-12-13T15:24:43.153082Z DEBUG src/im/conversation.rs:1838: [ConvSync] full_sync -> on_sync_server_progress(100)
2025-12-13T15:24:43.153103Z DEBUG src/im/conversation.rs:1840: [ConvSync] full_sync -> on_sync_server_finish(reinstalled=false)
2025-12-13T15:24:43.153119Z  INFO src/bin/openim-cli.rs:91: [ä¼šè¯] âœ… åŒæ­¥å®Œæˆ: reinstalled=false
2025-12-13T15:24:43.153132Z  INFO src/im/conversation.rs:829: [ConvSync/Seq] ğŸ”„ å¼€å§‹æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°...
2025-12-13T15:24:43.153399Z DEBUG src/im/conversation.rs:315: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:24:43.153431Z  INFO src/im/conversation.rs:694: [ConvSync/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-13T15:24:43.153446Z DEBUG src/im/conversation.rs:695: [ConvSync/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-13T15:24:43.153461Z DEBUG src/im/conversation.rs:696: [ConvSync/Seq]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:24:43.153475Z DEBUG src/im/conversation.rs:697: [ConvSync/Seq]   æ“ä½œID: 10581492-d084-4076-95b6-9d4b54ba6596
2025-12-13T15:24:43.154643Z DEBUG src/im/conversation.rs:719: [ConvSync/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:24:43.154710Z  INFO src/im/conversation.rs:726: [ConvSync/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-13T15:24:43.154757Z  INFO src/im/conversation.rs:749: [ConvSync/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data å­—æ®µ: {
  "pinnedConversationIDs": null,
  "seqs": {
    "sg_3250046082": {
      "hasReadSeq": 13,
      "maxSeq": 26,
      "maxSeqTime": 1765380998099
    },
    "si_1056224172_3217717393": {
      "hasReadSeq": 19,
      "maxSeq": 43,
      "maxSeqTime": 1765637683035
    }
  }
}
2025-12-13T15:24:43.154783Z  INFO src/im/conversation.rs:758: [ConvSync/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-13T15:24:43.154794Z  INFO src/im/conversation.rs:770: [ConvSync/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-13T15:24:43.154817Z  INFO src/im/conversation.rs:770: [ConvSync/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-13T15:24:43.154828Z  INFO src/im/conversation.rs:820: [ConvSync/Seq] âœ… ä¼šè¯ Seq è§£æå®Œæˆï¼ŒæˆåŠŸè§£æ 2 ä¸ªä¼šè¯
2025-12-13T15:24:43.154849Z  INFO src/im/conversation.rs:850: [ConvSync/Seq] ğŸ”„ å¼€å§‹æ ¡æ­£æœªè¯»æ•°ï¼ŒæœåŠ¡å™¨è¿”å› 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-13T15:24:43.154864Z DEBUG src/im/conversation.rs:870: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=sg_3250046082, unreadCount=13, maxSeq=26
2025-12-13T15:24:43.154879Z DEBUG src/im/conversation.rs:870: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=si_1056224172_3217717393, unreadCount=24, maxSeq=43
2025-12-13T15:24:43.154892Z  INFO src/im/conversation.rs:885: [ConvSync/Seq] ğŸ“Š æœªè¯»æ•°æ ¡æ­£ç»Ÿè®¡: å·²æ›´æ–° 0 ä¸ªä¼šè¯ï¼Œå‘ç° 0 ä¸ªæœ¬åœ°ç¼ºå¤±ä¼šè¯
2025-12-13T15:24:43.155118Z  INFO src/im/conversation.rs:893: [ConvSync/Seq] ğŸ“Š æ ¡æ­£å‰æ€»æœªè¯»æ•°: 37
2025-12-13T15:24:43.155135Z  INFO src/im/conversation.rs:977: [ConvSync/Seq] â„¹ï¸ æ— ä¼šè¯å˜æ›´ï¼Œè·³è¿‡å›è°ƒ
2025-12-13T15:24:43.155147Z  INFO src/im/conversation.rs:980: [ConvSync/Seq] âœ… æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°å®Œæˆ
2025-12-13T15:24:43.155160Z  INFO src/im/conversation.rs:1851: [ConvSync] âœ… å…¨é‡åŒæ­¥å®Œæˆ

2025-12-13T15:24:43.155177Z  INFO src/im/client.rs:261: [Client/Conv] âœ… ä¼šè¯åŒæ­¥å®Œæˆ
2025-12-13T15:30:10.800892Z  INFO src/bin/openim-cli.rs:77: ğŸ“ æ—¥å¿—å·²åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶: debug.log
2025-12-13T15:30:10.800916Z  INFO src/bin/openim-cli.rs:193: ğŸš€ OpenIM CLI å®¢æˆ·ç«¯ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰
2025-12-13T15:30:10.800927Z  INFO src/bin/openim-cli.rs:194: ğŸ“± æ‰‹æœºå·: 17764338283
2025-12-13T15:30:10.800943Z  INFO src/bin/openim-cli.rs:195: â±ï¸  è¿è¡Œæ—¶é•¿: 0 ç§’ï¼ˆ0=æŒç»­è¿è¡Œï¼‰
2025-12-13T15:30:10.800954Z  INFO src/bin/openim-cli.rs:198: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T15:30:10.801194Z  INFO src/im/auth.rs:48: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T15:30:10.801207Z DEBUG src/im/auth.rs:49:    URL: http://localhost:10008/account/login
2025-12-13T15:30:10.801216Z DEBUG src/im/auth.rs:50:    æ‰‹æœºå·: 17764338283
2025-12-13T15:30:10.801226Z DEBUG src/im/auth.rs:51:    OperationID: 6e4f9728-d630-46ab-afe1-d39a6813a986
2025-12-13T15:30:10.806854Z DEBUG src/im/auth.rs:83: âœ… ç™»å½•å“åº”: {"errCode":0,"errMsg":"","errDlt":"","data":{"imToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiUGxhdGZvcm1JRCI6NSwiZXhwIjoxNzczNDE1ODEwLCJpYXQiOjE3NjU2Mzk4MDV9.I5LFC1meupfkdq1vp-A6ACVLj-0DGdIupZ54uaDTbck","chatToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiVXNlclR5cGUiOjEsIlBsYXRmb3JtSUQiOjAsImV4cCI6MTc3MzQxNTgxMCwibmJmIjoxNzY1NjM5NzUwLCJpYXQiOjE3NjU2Mzk4MTB9._fOMWyFSNPtLE0IFtbVWTu5kTVNND68Ybqb3c9WTjjw","userID":"3217717393"}}
2025-12-13T15:30:10.806950Z  INFO src/bin/openim-cli.rs:213: âœ… ç™»å½•æˆåŠŸï¼ç”¨æˆ·ID: 3217717393
2025-12-13T15:30:10.806980Z  INFO src/bin/openim-cli.rs:225: ğŸ”— æ­£åœ¨è¿æ¥æœåŠ¡å™¨...
2025-12-13T15:30:10.807021Z  INFO src/im/client.rs:210: [Client/WS] ğŸ”— è¿æ¥åˆ° OpenIM Server (user=3217717393, platform=5)
2025-12-13T15:30:10.807801Z  INFO src/im/client.rs:216: [Client/WS] âœ… WebSocket è¿æ¥æˆåŠŸ, çŠ¶æ€: 101 Switching Protocols
2025-12-13T15:30:10.807844Z  INFO src/im/client.rs:229: [Client/WS] âœ… æœåŠ¡å™¨è¿æ¥é‰´æƒæˆåŠŸ
2025-12-13T15:30:10.807883Z  INFO src/im/client.rs:242: [Client/WS] ğŸ’“ å¯åŠ¨å¿ƒè·³
2025-12-13T15:30:10.807895Z  INFO src/im/client.rs:243: [Client/WS] ğŸ“¥ å¼€å§‹ç›‘å¬æœåŠ¡å™¨æ¶ˆæ¯
2025-12-13T15:30:10.807912Z  INFO src/im/conversation.rs:197: [ConvSync] åˆ›å»ºä¼šè¯åŒæ­¥å™¨ï¼Œç”¨æˆ·ID: 3217717393, SQLiteæ•°æ®åº“: sqlite://conversations.db?mode=rwc
2025-12-13T15:30:10.807934Z  INFO src/bin/openim-cli.rs:173: [æ¶ˆæ¯] ğŸ”— å·²è¿æ¥: è¿æ¥æˆåŠŸ
2025-12-13T15:30:10.808783Z  INFO src/im/conversation.rs:222: [ConvSync/DB] åˆå§‹åŒ–æ•°æ®åº“è¡¨ç»“æ„
2025-12-13T15:30:10.809152Z  INFO src/im/conversation.rs:274: [ConvSync/DB] æ•°æ®åº“è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-13T15:30:10.809186Z  INFO src/im/friend.rs:123: [FriendSync/DB] åˆ›å»ºå¥½å‹åŒæ­¥å™¨ï¼Œç”¨æˆ·ID: 3217717393, SQLiteæ•°æ®åº“: sqlite://conversations.db?mode=rwc
2025-12-13T15:30:10.809200Z  INFO src/im/client.rs:258: [Client/Conv] ğŸ”„ å¯åŠ¨ä¼šè¯å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-13T15:30:10.809256Z  INFO src/im/conversation.rs:1542: [ConvSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥ä¼šè¯...
2025-12-13T15:30:10.809532Z DEBUG src/im/conversation.rs:1548: [ConvSync] æœ¬åœ°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 6a030639-6a08-4f7c-a7e9-30d296395df3
2025-12-13T15:30:10.809641Z  INFO src/im/friend.rs:149: [FriendSync/DB] åˆå§‹åŒ–å¥½å‹è¡¨ç»“æ„
2025-12-13T15:30:10.809930Z  INFO src/im/friend.rs:173: [FriendSync/DB] å¥½å‹è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-13T15:30:10.809972Z  INFO src/im/client.rs:278: [Client/Friend] ğŸ”„ å¯åŠ¨å¥½å‹å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-13T15:30:10.809995Z  INFO src/im/friend.rs:965: [FriendSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥å¥½å‹...
2025-12-13T15:30:10.810007Z DEBUG src/im/conversation.rs:315: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:30:10.810196Z DEBUG src/im/friend.rs:970: [FriendSync] æœ¬åœ°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-13T15:30:10.810240Z DEBUG src/im/conversation.rs:334: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-13T15:30:10.810255Z  INFO src/im/conversation.rs:1559: [ConvSync] æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-13T15:30:10.810266Z  INFO src/im/conversation.rs:1646: [ConvSync] ä½¿ç”¨å¢é‡åŒæ­¥ï¼Œç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 6a030639-6a08-4f7c-a7e9-30d296395df3
2025-12-13T15:30:10.810276Z  INFO src/bin/openim-cli.rs:87: [ä¼šè¯] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-13T15:30:10.810313Z  INFO src/im/conversation.rs:1003: [ConvSync/HTTP] ğŸ“¡ è¯·æ±‚å¢é‡ä¼šè¯åŒæ­¥
   è¯·æ±‚URL: http://localhost:10002/conversation/get_incremental_conversations
   ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 6a030639-6a08-4f7c-a7e9-30d296395df3
   ç”¨æˆ·ID: 3217717393
   æ“ä½œID: 2e689b0e-9501-4b1d-863d-26798d737bc5
2025-12-13T15:30:10.810320Z  INFO src/bin/openim-cli.rs:233: âœ… è¿æ¥æˆåŠŸï¼
2025-12-13T15:30:10.810343Z DEBUG src/im/conversation.rs:1903: [ConvSync] è·å–æ‰€æœ‰ä¼šè¯åˆ—è¡¨
2025-12-13T15:30:10.810359Z DEBUG src/im/conversation.rs:1861: [ConvSync] è·å–ä¼šè¯åˆ—è¡¨ï¼Œåç§»: 0, æ•°é‡: 18446744073709551615
2025-12-13T15:30:10.810491Z DEBUG src/im/friend.rs:202: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-13T15:30:10.810652Z DEBUG src/im/conversation.rs:315: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:30:10.810672Z DEBUG src/im/conversation.rs:1868: [ConvSync] è¿‡æ»¤åä¼šè¯æ•°: 0 (è¿‡æ»¤æ‰æ— æ¶ˆæ¯æ—¶é—´çš„ä¼šè¯)
2025-12-13T15:30:10.810685Z DEBUG src/im/conversation.rs:1892: [ConvSync] è¿”å› 0 ä¸ªä¼šè¯ (èŒƒå›´: 0 - 0)
2025-12-13T15:30:10.810699Z  INFO src/bin/openim-cli.rs:239: ğŸ“‹ ä¼šè¯åˆ—è¡¨ï¼ˆå…± 0 ä¸ªï¼‰:
2025-12-13T15:30:10.810738Z DEBUG src/im/friend.rs:221: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹IDåˆ—è¡¨ï¼Œå…± 1 ä¸ª
2025-12-13T15:30:10.810765Z  INFO src/im/friend.rs:402: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚å¢é‡å¥½å‹åŒæ­¥
2025-12-13T15:30:10.810776Z DEBUG src/im/friend.rs:403: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_incremental_friends
2025-12-13T15:30:10.810788Z DEBUG src/im/friend.rs:404: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:30:10.810798Z DEBUG src/im/friend.rs:405: [FriendSync/HTTP]   æ“ä½œID: 84dc3723-464b-4fea-b2f0-0651a33d93c4
2025-12-13T15:30:10.811058Z DEBUG src/im/friend.rs:202: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-13T15:30:10.811078Z  INFO src/bin/openim-cli.rs:255: ğŸ‘¥ å¥½å‹åˆ—è¡¨ï¼ˆå…± 1 ä¸ªï¼‰
2025-12-13T15:30:10.811340Z  INFO src/bin/openim-cli.rs:259: ğŸ“¬ æ€»æœªè¯»æ•°: 37
2025-12-13T15:30:10.811361Z  INFO src/bin/openim-cli.rs:263: ğŸ“¥ å¼€å§‹ç›‘å¬æ¶ˆæ¯...
2025-12-13T15:30:10.811373Z  INFO src/bin/openim-cli.rs:264: ğŸ’¡ æç¤ºï¼šç¨‹åºå°†æŒç»­è¿è¡Œå¹¶æ˜¾ç¤ºæ¥æ”¶åˆ°çš„æ‰€æœ‰æ¶ˆæ¯å’Œäº‹ä»¶
2025-12-13T15:30:10.811384Z  INFO src/bin/openim-cli.rs:270: â° æŒç»­è¿è¡Œä¸­ï¼ŒæŒ‰ Ctrl+C é€€å‡º
2025-12-13T15:30:10.811746Z DEBUG src/im/conversation.rs:1031: [ConvSync/HTTP] å¢é‡ä¼šè¯åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:30:10.811802Z  INFO src/im/conversation.rs:1105: [ConvSync/HTTP] âœ… å¢é‡ä¼šè¯åŒæ­¥å“åº”
2025-12-13T15:30:10.811815Z  INFO src/im/conversation.rs:1106: [ConvSync/HTTP]   å…¨é‡åŒæ­¥: true
2025-12-13T15:30:10.811824Z  INFO src/im/conversation.rs:1107: [ConvSync/HTTP]   ç‰ˆæœ¬ID: 68e1e4982a00312739a80eef
2025-12-13T15:30:10.811832Z  INFO src/im/conversation.rs:1108: [ConvSync/HTTP]   ç‰ˆæœ¬: 3
2025-12-13T15:30:10.811842Z  INFO src/im/conversation.rs:1109: [ConvSync/HTTP]   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-13T15:30:10.811851Z DEBUG src/im/conversation.rs:1115: [ConvSync/HTTP]   åˆ é™¤çš„ä¼šè¯ID: []
2025-12-13T15:30:10.811870Z  WARN src/im/conversation.rs:1672: [ConvSync]   æœåŠ¡å™¨è¦æ±‚å…¨é‡åŒæ­¥...
2025-12-13T15:30:10.811880Z  INFO src/im/conversation.rs:1757: [ConvSync] ğŸ”„ å¼€å§‹å…¨é‡åŒæ­¥ä¼šè¯...
2025-12-13T15:30:10.811922Z DEBUG src/im/friend.rs:427: [FriendSync/HTTP] å¢é‡å¥½å‹åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:30:10.811995Z  INFO src/im/friend.rs:496: [FriendSync/HTTP] âœ… å¢é‡å¥½å‹åŒæ­¥å“åº”
2025-12-13T15:30:10.812011Z  INFO src/im/friend.rs:497: [FriendSync/HTTP]   å…¨é‡åŒæ­¥: false, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa, ç‰ˆæœ¬: 2
2025-12-13T15:30:10.812025Z  INFO src/im/friend.rs:501: [FriendSync/HTTP]   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-13T15:30:10.812044Z  INFO src/im/friend.rs:874: [FriendSync] å¼€å§‹åŒæ­¥å¥½å‹ï¼ŒæœåŠ¡å™¨å¥½å‹æ•°: 0, æœ¬åœ°å¥½å‹æ•°: 1
2025-12-13T15:30:10.812065Z  INFO src/im/friend.rs:944: [FriendSync] å¥½å‹åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-13T15:30:10.812090Z DEBUG src/im/conversation.rs:334: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-13T15:30:10.812109Z DEBUG src/im/conversation.rs:1760: [ConvSync] full_sync -> on_sync_server_start(reinstalled=false)
2025-12-13T15:30:10.812120Z  INFO src/bin/openim-cli.rs:87: [ä¼šè¯] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-13T15:30:10.812130Z DEBUG src/im/conversation.rs:1765: [ConvSync] full_sync -> on_sync_server_progress(10)
2025-12-13T15:30:10.812148Z  INFO src/im/conversation.rs:1134: [ConvSync/HTTP] ğŸ“¡ è¯·æ±‚å…¨é‡ä¼šè¯åŒæ­¥
2025-12-13T15:30:10.812158Z DEBUG src/im/conversation.rs:1135: [ConvSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/conversation/get_all_conversations
2025-12-13T15:30:10.812168Z DEBUG src/im/conversation.rs:1136: [ConvSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:30:10.812176Z DEBUG src/im/conversation.rs:1137: [ConvSync/HTTP]   æ“ä½œID: c8bcc60d-5af1-4c51-9786-199e3022ff3f
2025-12-13T15:30:10.812336Z  INFO src/im/friend.rs:1120: [FriendSync] å·²æ›´æ–°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2 -> 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-13T15:30:10.812354Z  INFO src/im/friend.rs:1126: [FriendSync] âœ… å¢é‡åŒæ­¥å¥½å‹å®Œæˆ
2025-12-13T15:30:10.812372Z  INFO src/im/friend.rs:721: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚é»‘åå•åˆ—è¡¨
2025-12-13T15:30:10.812388Z DEBUG src/im/friend.rs:722: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_black_list
2025-12-13T15:30:10.812402Z DEBUG src/im/friend.rs:723: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:30:10.812414Z DEBUG src/im/friend.rs:724: [FriendSync/HTTP]   æ“ä½œID: f979dfe1-86ea-4c92-9b28-f3dc3719d973
2025-12-13T15:30:10.813036Z DEBUG src/im/conversation.rs:1159: [ConvSync/HTTP] å…¨é‡ä¼šè¯åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:30:10.813106Z  INFO src/im/conversation.rs:1196: [ConvSync/HTTP] âœ… å…¨é‡ä¼šè¯åŒæ­¥å“åº”
2025-12-13T15:30:10.813116Z  INFO src/im/conversation.rs:1197: [ConvSync/HTTP]   ä¼šè¯æ•°: 2
2025-12-13T15:30:10.813128Z DEBUG src/im/conversation.rs:1198: [ConvSync/HTTP]   ä¼šè¯è¯¦æƒ…: ["sg_3250046082", "si_1056224172_3217717393"]
2025-12-13T15:30:10.813144Z  INFO src/im/conversation.rs:1781: [ConvSync] ä»æœåŠ¡å™¨è·å–åˆ° 2 ä¸ªä¼šè¯
2025-12-13T15:30:10.813163Z DEBUG src/im/conversation.rs:1793: [ConvSync] å·²è½¬æ¢ 2 ä¸ªä¼šè¯ä¸ºæœ¬åœ°æ ¼å¼
2025-12-13T15:30:10.813182Z DEBUG src/im/conversation.rs:1797: [ConvSync] full_sync -> on_sync_server_progress(50)
2025-12-13T15:30:10.813406Z DEBUG src/im/conversation.rs:315: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:30:10.813422Z  INFO src/im/conversation.rs:1802: [ConvSync] æœ¬åœ°å·²æœ‰ 2 ä¸ªä¼šè¯
2025-12-13T15:30:10.813436Z  INFO src/im/conversation.rs:694: [ConvSync/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-13T15:30:10.813447Z DEBUG src/im/conversation.rs:695: [ConvSync/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-13T15:30:10.813451Z DEBUG src/im/friend.rs:746: [FriendSync/HTTP] é»‘åå•åˆ—è¡¨è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:30:10.813457Z DEBUG src/im/conversation.rs:696: [ConvSync/Seq]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:30:10.813468Z DEBUG src/im/conversation.rs:697: [ConvSync/Seq]   æ“ä½œID: 9340308b-b4fe-4732-ac5c-e69e1de14e62
2025-12-13T15:30:10.813492Z  INFO src/im/friend.rs:778: [FriendSync/HTTP] âœ… é»‘åå•åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-13T15:30:10.813511Z  INFO src/bin/openim-cli.rs:130: [å¥½å‹] ğŸš« é»‘åå•å˜æ›´: null
2025-12-13T15:30:10.813526Z  INFO src/im/friend.rs:802: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚å¥½å‹ç”³è¯·åˆ—è¡¨
2025-12-13T15:30:10.813539Z DEBUG src/im/friend.rs:803: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_friend_apply_list
2025-12-13T15:30:10.813549Z DEBUG src/im/friend.rs:804: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:30:10.813560Z DEBUG src/im/friend.rs:805: [FriendSync/HTTP]   æ“ä½œID: 24303146-b503-4a99-8eee-3aa8cb665347
2025-12-13T15:30:10.814956Z DEBUG src/im/friend.rs:827: [FriendSync/HTTP] å¥½å‹ç”³è¯·åˆ—è¡¨è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:30:10.815028Z  INFO src/im/friend.rs:859: [FriendSync/HTTP] âœ… å¥½å‹ç”³è¯·åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-13T15:30:10.815052Z  INFO src/bin/openim-cli.rs:134: [å¥½å‹] ğŸ“ å¥½å‹ç”³è¯·å˜æ›´: []
2025-12-13T15:30:10.815065Z  INFO src/im/client.rs:281: [Client/Friend] âœ… å¥½å‹åŒæ­¥å®Œæˆ
2025-12-13T15:30:10.815215Z DEBUG src/im/conversation.rs:719: [ConvSync/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:30:10.815268Z  INFO src/im/conversation.rs:726: [ConvSync/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-13T15:30:10.815313Z  INFO src/im/conversation.rs:749: [ConvSync/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data å­—æ®µ: {
  "pinnedConversationIDs": null,
  "seqs": {
    "sg_3250046082": {
      "hasReadSeq": 13,
      "maxSeq": 26,
      "maxSeqTime": 1765380998099
    },
    "si_1056224172_3217717393": {
      "hasReadSeq": 19,
      "maxSeq": 43,
      "maxSeqTime": 1765637683035
    }
  }
}
2025-12-13T15:30:10.815332Z  INFO src/im/conversation.rs:758: [ConvSync/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-13T15:30:10.815347Z  INFO src/im/conversation.rs:770: [ConvSync/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-13T15:30:10.815369Z  INFO src/im/conversation.rs:770: [ConvSync/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-13T15:30:10.815384Z  INFO src/im/conversation.rs:820: [ConvSync/Seq] âœ… ä¼šè¯ Seq è§£æå®Œæˆï¼ŒæˆåŠŸè§£æ 2 ä¸ªä¼šè¯
2025-12-13T15:30:10.815402Z  INFO src/im/conversation.rs:1807: [ConvSync] è·å–åˆ° 2 ä¸ªä¼šè¯çš„ seqs ä¿¡æ¯ï¼Œç”¨äºè®¾ç½®æœªè¯»æ•°
2025-12-13T15:30:10.815417Z  INFO src/im/conversation.rs:1402: [ConvSync] å¼€å§‹åŒæ­¥ä¼šè¯ï¼ŒæœåŠ¡å™¨ä¼šè¯æ•°: 2, æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-13T15:30:10.815440Z  INFO src/im/conversation.rs:1430: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-13T15:30:10.815456Z  INFO src/im/conversation.rs:1430: [ConvSync]   ä¼šè¯ sg_3250046082 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-13T15:30:10.815477Z DEBUG src/im/conversation.rs:1467: [ConvSync]   ä¼šè¯ sg_3250046082 æ— éœ€æ›´æ–°
2025-12-13T15:30:10.815490Z DEBUG src/im/conversation.rs:1467: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ— éœ€æ›´æ–°
2025-12-13T15:30:10.815511Z  INFO src/im/conversation.rs:1516: [ConvSync] ä¼šè¯åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-13T15:30:10.815527Z DEBUG src/im/conversation.rs:1822: [ConvSync] full_sync -> on_sync_server_progress(80)
2025-12-13T15:30:10.819712Z  INFO src/im/conversation.rs:1833: [ConvSync] å·²æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: c95313e6-2b25-4cfc-99b2-49d171e7eb38
2025-12-13T15:30:10.819734Z DEBUG src/im/conversation.rs:1838: [ConvSync] full_sync -> on_sync_server_progress(100)
2025-12-13T15:30:10.819754Z DEBUG src/im/conversation.rs:1840: [ConvSync] full_sync -> on_sync_server_finish(reinstalled=false)
2025-12-13T15:30:10.819771Z  INFO src/bin/openim-cli.rs:91: [ä¼šè¯] âœ… åŒæ­¥å®Œæˆ: reinstalled=false
2025-12-13T15:30:10.819786Z  INFO src/im/conversation.rs:829: [ConvSync/Seq] ğŸ”„ å¼€å§‹æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°...
2025-12-13T15:30:10.820073Z DEBUG src/im/conversation.rs:315: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:30:10.820104Z  INFO src/im/conversation.rs:694: [ConvSync/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-13T15:30:10.820119Z DEBUG src/im/conversation.rs:695: [ConvSync/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-13T15:30:10.820136Z DEBUG src/im/conversation.rs:696: [ConvSync/Seq]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:30:10.820150Z DEBUG src/im/conversation.rs:697: [ConvSync/Seq]   æ“ä½œID: a1994e01-9eff-41bd-9e75-41ea57f45652
2025-12-13T15:30:10.821253Z DEBUG src/im/conversation.rs:719: [ConvSync/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:30:10.821318Z  INFO src/im/conversation.rs:726: [ConvSync/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-13T15:30:10.821365Z  INFO src/im/conversation.rs:749: [ConvSync/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data å­—æ®µ: {
  "pinnedConversationIDs": null,
  "seqs": {
    "sg_3250046082": {
      "hasReadSeq": 13,
      "maxSeq": 26,
      "maxSeqTime": 1765380998099
    },
    "si_1056224172_3217717393": {
      "hasReadSeq": 19,
      "maxSeq": 43,
      "maxSeqTime": 1765637683035
    }
  }
}
2025-12-13T15:30:10.821385Z  INFO src/im/conversation.rs:758: [ConvSync/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-13T15:30:10.821398Z  INFO src/im/conversation.rs:770: [ConvSync/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-13T15:30:10.821415Z  INFO src/im/conversation.rs:770: [ConvSync/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-13T15:30:10.821432Z  INFO src/im/conversation.rs:820: [ConvSync/Seq] âœ… ä¼šè¯ Seq è§£æå®Œæˆï¼ŒæˆåŠŸè§£æ 2 ä¸ªä¼šè¯
2025-12-13T15:30:10.821451Z  INFO src/im/conversation.rs:850: [ConvSync/Seq] ğŸ”„ å¼€å§‹æ ¡æ­£æœªè¯»æ•°ï¼ŒæœåŠ¡å™¨è¿”å› 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-13T15:30:10.821469Z DEBUG src/im/conversation.rs:870: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=sg_3250046082, unreadCount=13, maxSeq=26
2025-12-13T15:30:10.821487Z DEBUG src/im/conversation.rs:870: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=si_1056224172_3217717393, unreadCount=24, maxSeq=43
2025-12-13T15:30:10.821504Z  INFO src/im/conversation.rs:885: [ConvSync/Seq] ğŸ“Š æœªè¯»æ•°æ ¡æ­£ç»Ÿè®¡: å·²æ›´æ–° 0 ä¸ªä¼šè¯ï¼Œå‘ç° 0 ä¸ªæœ¬åœ°ç¼ºå¤±ä¼šè¯
2025-12-13T15:30:10.821732Z  INFO src/im/conversation.rs:893: [ConvSync/Seq] ğŸ“Š æ ¡æ­£å‰æ€»æœªè¯»æ•°: 37
2025-12-13T15:30:10.821749Z  INFO src/im/conversation.rs:977: [ConvSync/Seq] â„¹ï¸ æ— ä¼šè¯å˜æ›´ï¼Œè·³è¿‡å›è°ƒ
2025-12-13T15:30:10.821760Z  INFO src/im/conversation.rs:980: [ConvSync/Seq] âœ… æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°å®Œæˆ
2025-12-13T15:30:10.821782Z  INFO src/im/conversation.rs:1851: [ConvSync] âœ… å…¨é‡åŒæ­¥å®Œæˆ

2025-12-13T15:30:10.821800Z  INFO src/im/client.rs:261: [Client/Conv] âœ… ä¼šè¯åŒæ­¥å®Œæˆ
2025-12-13T15:30:32.302097Z  INFO src/bin/openim-cli.rs:77: ğŸ“ æ—¥å¿—å·²åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶: debug.log
2025-12-13T15:30:32.302118Z  INFO src/bin/openim-cli.rs:193: ğŸš€ OpenIM CLI å®¢æˆ·ç«¯ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰
2025-12-13T15:30:32.302127Z  INFO src/bin/openim-cli.rs:194: ğŸ“± æ‰‹æœºå·: 17764338283
2025-12-13T15:30:32.302135Z  INFO src/bin/openim-cli.rs:195: â±ï¸  è¿è¡Œæ—¶é•¿: 0 ç§’ï¼ˆ0=æŒç»­è¿è¡Œï¼‰
2025-12-13T15:30:32.302143Z  INFO src/bin/openim-cli.rs:198: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T15:30:32.302390Z  INFO src/im/auth.rs:48: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T15:30:32.302402Z DEBUG src/im/auth.rs:49:    URL: http://localhost:10008/account/login
2025-12-13T15:30:32.302410Z DEBUG src/im/auth.rs:50:    æ‰‹æœºå·: 17764338283
2025-12-13T15:30:32.302419Z DEBUG src/im/auth.rs:51:    OperationID: 6b98edf6-58c9-459f-a699-84097c57afd4
2025-12-13T15:30:32.307336Z DEBUG src/im/auth.rs:83: âœ… ç™»å½•å“åº”: {"errCode":0,"errMsg":"","errDlt":"","data":{"imToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiUGxhdGZvcm1JRCI6NSwiZXhwIjoxNzczNDE1ODMyLCJpYXQiOjE3NjU2Mzk4Mjd9.SDc6WJXP7kCCveZ2yxWMKD6FCz0Sd9QCM5QRR-0bvzc","chatToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiVXNlclR5cGUiOjEsIlBsYXRmb3JtSUQiOjAsImV4cCI6MTc3MzQxNTgzMiwibmJmIjoxNzY1NjM5NzcyLCJpYXQiOjE3NjU2Mzk4MzJ9.J03g9DZuOV043_xqZuoBIYdr9uggIICd6chxHQAIQ0Q","userID":"3217717393"}}
2025-12-13T15:30:32.307424Z  INFO src/bin/openim-cli.rs:213: âœ… ç™»å½•æˆåŠŸï¼ç”¨æˆ·ID: 3217717393
2025-12-13T15:30:32.307456Z  INFO src/bin/openim-cli.rs:225: ğŸ”— æ­£åœ¨è¿æ¥æœåŠ¡å™¨...
2025-12-13T15:30:32.307491Z  INFO src/im/client.rs:236: [Client/WS] ğŸ”— è¿æ¥åˆ° OpenIM Server (user=3217717393, platform=5)
2025-12-13T15:30:32.308306Z  INFO src/im/client.rs:242: [Client/WS] âœ… WebSocket è¿æ¥æˆåŠŸ, çŠ¶æ€: 101 Switching Protocols
2025-12-13T15:30:32.308343Z  INFO src/im/client.rs:255: [Client/WS] âœ… æœåŠ¡å™¨è¿æ¥é‰´æƒæˆåŠŸ
2025-12-13T15:30:32.308374Z  INFO src/im/client.rs:268: [Client/WS] ğŸ’“ å¯åŠ¨å¿ƒè·³
2025-12-13T15:30:32.308386Z  INFO src/im/client.rs:269: [Client/WS] ğŸ“¥ å¼€å§‹ç›‘å¬æœåŠ¡å™¨æ¶ˆæ¯
2025-12-13T15:30:32.308397Z  INFO src/im/client.rs:272: [Client/DB] ğŸ”— åˆ›å»ºå…±äº«æ•°æ®åº“è¿æ¥: sqlite://conversations.db?mode=rwc
2025-12-13T15:30:32.308431Z  INFO src/bin/openim-cli.rs:173: [æ¶ˆæ¯] ğŸ”— å·²è¿æ¥: è¿æ¥æˆåŠŸ
2025-12-13T15:30:32.309221Z  INFO src/im/client.rs:283: [Client/DB] ğŸ“‹ åˆå§‹åŒ–æ•°æ®åº“è¡¨ç»“æ„
2025-12-13T15:30:32.309244Z  INFO src/im/conversation.rs:244: [ConvSync/DB] åˆå§‹åŒ–ä¼šè¯æ•°æ®åº“è¡¨ç»“æ„
2025-12-13T15:30:32.309541Z  INFO src/im/conversation.rs:293: [ConvSync/DB] æ•°æ®åº“è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-13T15:30:32.309559Z  INFO src/im/friend.rs:171: [FriendSync/DB] åˆå§‹åŒ–å¥½å‹è¡¨ç»“æ„
2025-12-13T15:30:32.309620Z  INFO src/im/friend.rs:194: [FriendSync/DB] å¥½å‹è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-13T15:30:32.309634Z  INFO src/im/conversation.rs:226: [ConvSync] åˆ›å»ºä¼šè¯åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-13T15:30:32.309726Z  INFO src/im/friend.rs:151: [FriendSync/DB] åˆ›å»ºå¥½å‹åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-13T15:30:32.309741Z  INFO src/im/client.rs:300: [Client/Conv] ğŸ”„ å¯åŠ¨ä¼šè¯å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-13T15:30:32.309790Z  INFO src/im/client.rs:320: [Client/Friend] ğŸ”„ å¯åŠ¨å¥½å‹å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-13T15:30:32.309796Z  INFO src/im/conversation.rs:1619: [ConvSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥ä¼šè¯...
2025-12-13T15:30:32.309844Z  INFO src/im/friend.rs:1018: [FriendSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥å¥½å‹...
2025-12-13T15:30:32.310090Z DEBUG src/im/conversation.rs:1625: [ConvSync] æœ¬åœ°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: c95313e6-2b25-4cfc-99b2-49d171e7eb38
2025-12-13T15:30:32.310130Z  INFO src/bin/openim-cli.rs:233: âœ… è¿æ¥æˆåŠŸï¼
2025-12-13T15:30:32.310152Z DEBUG src/im/conversation.rs:1980: [ConvSync] è·å–æ‰€æœ‰ä¼šè¯åˆ—è¡¨
2025-12-13T15:30:32.310164Z DEBUG src/im/conversation.rs:1938: [ConvSync] è·å–ä¼šè¯åˆ—è¡¨ï¼Œåç§»: 0, æ•°é‡: 18446744073709551615
2025-12-13T15:30:32.310273Z DEBUG src/im/friend.rs:1023: [FriendSync] æœ¬åœ°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-13T15:30:32.310558Z DEBUG src/im/conversation.rs:392: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:30:32.310745Z DEBUG src/im/conversation.rs:392: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:30:32.310761Z DEBUG src/im/conversation.rs:1945: [ConvSync] è¿‡æ»¤åä¼šè¯æ•°: 0 (è¿‡æ»¤æ‰æ— æ¶ˆæ¯æ—¶é—´çš„ä¼šè¯)
2025-12-13T15:30:32.310771Z DEBUG src/im/conversation.rs:1969: [ConvSync] è¿”å› 0 ä¸ªä¼šè¯ (èŒƒå›´: 0 - 0)
2025-12-13T15:30:32.310781Z  INFO src/bin/openim-cli.rs:239: ğŸ“‹ ä¼šè¯åˆ—è¡¨ï¼ˆå…± 0 ä¸ªï¼‰:
2025-12-13T15:30:32.310945Z DEBUG src/im/friend.rs:255: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-13T15:30:32.311151Z DEBUG src/im/conversation.rs:411: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-13T15:30:32.311168Z  INFO src/im/conversation.rs:1636: [ConvSync] æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-13T15:30:32.311183Z  INFO src/im/conversation.rs:1723: [ConvSync] ä½¿ç”¨å¢é‡åŒæ­¥ï¼Œç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: c95313e6-2b25-4cfc-99b2-49d171e7eb38
2025-12-13T15:30:32.311197Z  INFO src/bin/openim-cli.rs:87: [ä¼šè¯] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-13T15:30:32.311235Z  INFO src/im/conversation.rs:1080: [ConvSync/HTTP] ğŸ“¡ è¯·æ±‚å¢é‡ä¼šè¯åŒæ­¥
   è¯·æ±‚URL: http://localhost:10002/conversation/get_incremental_conversations
   ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: c95313e6-2b25-4cfc-99b2-49d171e7eb38
   ç”¨æˆ·ID: 3217717393
   æ“ä½œID: 01faa4f6-fdb7-4865-b308-66eb13525ca4
2025-12-13T15:30:32.311541Z DEBUG src/im/friend.rs:255: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-13T15:30:32.311562Z  INFO src/bin/openim-cli.rs:255: ğŸ‘¥ å¥½å‹åˆ—è¡¨ï¼ˆå…± 1 ä¸ªï¼‰
2025-12-13T15:30:32.311701Z DEBUG src/im/friend.rs:274: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹IDåˆ—è¡¨ï¼Œå…± 1 ä¸ª
2025-12-13T15:30:32.311728Z  INFO src/im/friend.rs:455: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚å¢é‡å¥½å‹åŒæ­¥
2025-12-13T15:30:32.311740Z DEBUG src/im/friend.rs:456: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_incremental_friends
2025-12-13T15:30:32.311750Z DEBUG src/im/friend.rs:457: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:30:32.311760Z DEBUG src/im/friend.rs:458: [FriendSync/HTTP]   æ“ä½œID: 263f8741-765e-4c77-b5de-a9d5628b0f01
2025-12-13T15:30:32.312046Z  INFO src/bin/openim-cli.rs:259: ğŸ“¬ æ€»æœªè¯»æ•°: 37
2025-12-13T15:30:32.312067Z  INFO src/bin/openim-cli.rs:263: ğŸ“¥ å¼€å§‹ç›‘å¬æ¶ˆæ¯...
2025-12-13T15:30:32.312092Z  INFO src/bin/openim-cli.rs:264: ğŸ’¡ æç¤ºï¼šç¨‹åºå°†æŒç»­è¿è¡Œå¹¶æ˜¾ç¤ºæ¥æ”¶åˆ°çš„æ‰€æœ‰æ¶ˆæ¯å’Œäº‹ä»¶
2025-12-13T15:30:32.312129Z  INFO src/bin/openim-cli.rs:270: â° æŒç»­è¿è¡Œä¸­ï¼ŒæŒ‰ Ctrl+C é€€å‡º
2025-12-13T15:30:32.312611Z DEBUG src/im/conversation.rs:1108: [ConvSync/HTTP] å¢é‡ä¼šè¯åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:30:32.312671Z  INFO src/im/conversation.rs:1182: [ConvSync/HTTP] âœ… å¢é‡ä¼šè¯åŒæ­¥å“åº”
2025-12-13T15:30:32.312683Z  INFO src/im/conversation.rs:1183: [ConvSync/HTTP]   å…¨é‡åŒæ­¥: true
2025-12-13T15:30:32.312696Z  INFO src/im/conversation.rs:1184: [ConvSync/HTTP]   ç‰ˆæœ¬ID: 68e1e4982a00312739a80eef
2025-12-13T15:30:32.312707Z  INFO src/im/conversation.rs:1185: [ConvSync/HTTP]   ç‰ˆæœ¬: 3
2025-12-13T15:30:32.312719Z  INFO src/im/conversation.rs:1186: [ConvSync/HTTP]   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-13T15:30:32.312732Z DEBUG src/im/conversation.rs:1192: [ConvSync/HTTP]   åˆ é™¤çš„ä¼šè¯ID: []
2025-12-13T15:30:32.312755Z  WARN src/im/conversation.rs:1749: [ConvSync]   æœåŠ¡å™¨è¦æ±‚å…¨é‡åŒæ­¥...
2025-12-13T15:30:32.312768Z  INFO src/im/conversation.rs:1834: [ConvSync] ğŸ”„ å¼€å§‹å…¨é‡åŒæ­¥ä¼šè¯...
2025-12-13T15:30:32.312901Z DEBUG src/im/friend.rs:480: [FriendSync/HTTP] å¢é‡å¥½å‹åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:30:32.312964Z  INFO src/im/friend.rs:549: [FriendSync/HTTP] âœ… å¢é‡å¥½å‹åŒæ­¥å“åº”
2025-12-13T15:30:32.312977Z  INFO src/im/friend.rs:550: [FriendSync/HTTP]   å…¨é‡åŒæ­¥: false, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa, ç‰ˆæœ¬: 2
2025-12-13T15:30:32.312991Z  INFO src/im/friend.rs:554: [FriendSync/HTTP]   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-13T15:30:32.313010Z  INFO src/im/friend.rs:927: [FriendSync] å¼€å§‹åŒæ­¥å¥½å‹ï¼ŒæœåŠ¡å™¨å¥½å‹æ•°: 0, æœ¬åœ°å¥½å‹æ•°: 1
2025-12-13T15:30:32.313032Z DEBUG src/im/conversation.rs:411: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-13T15:30:32.313035Z  INFO src/im/friend.rs:997: [FriendSync] å¥½å‹åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-13T15:30:32.313060Z DEBUG src/im/conversation.rs:1837: [ConvSync] full_sync -> on_sync_server_start(reinstalled=false)
2025-12-13T15:30:32.313078Z  INFO src/bin/openim-cli.rs:87: [ä¼šè¯] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-13T15:30:32.313093Z DEBUG src/im/conversation.rs:1842: [ConvSync] full_sync -> on_sync_server_progress(10)
2025-12-13T15:30:32.313128Z  INFO src/im/conversation.rs:1211: [ConvSync/HTTP] ğŸ“¡ è¯·æ±‚å…¨é‡ä¼šè¯åŒæ­¥
2025-12-13T15:30:32.313145Z DEBUG src/im/conversation.rs:1212: [ConvSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/conversation/get_all_conversations
2025-12-13T15:30:32.313158Z DEBUG src/im/conversation.rs:1213: [ConvSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:30:32.313173Z DEBUG src/im/conversation.rs:1214: [ConvSync/HTTP]   æ“ä½œID: c77346ab-9918-4bb3-8b17-9fd60b533b23
2025-12-13T15:30:32.313538Z  INFO src/im/friend.rs:1173: [FriendSync] å·²æ›´æ–°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2 -> 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-13T15:30:32.313554Z  INFO src/im/friend.rs:1179: [FriendSync] âœ… å¢é‡åŒæ­¥å¥½å‹å®Œæˆ
2025-12-13T15:30:32.313573Z  INFO src/im/friend.rs:774: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚é»‘åå•åˆ—è¡¨
2025-12-13T15:30:32.313587Z DEBUG src/im/friend.rs:775: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_black_list
2025-12-13T15:30:32.313597Z DEBUG src/im/friend.rs:776: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:30:32.313606Z DEBUG src/im/friend.rs:777: [FriendSync/HTTP]   æ“ä½œID: 72e8defc-4766-4100-baf0-34d73412e4f2
2025-12-13T15:30:32.314116Z DEBUG src/im/conversation.rs:1236: [ConvSync/HTTP] å…¨é‡ä¼šè¯åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:30:32.314197Z  INFO src/im/conversation.rs:1273: [ConvSync/HTTP] âœ… å…¨é‡ä¼šè¯åŒæ­¥å“åº”
2025-12-13T15:30:32.314209Z  INFO src/im/conversation.rs:1274: [ConvSync/HTTP]   ä¼šè¯æ•°: 2
2025-12-13T15:30:32.314225Z DEBUG src/im/conversation.rs:1275: [ConvSync/HTTP]   ä¼šè¯è¯¦æƒ…: ["sg_3250046082", "si_1056224172_3217717393"]
2025-12-13T15:30:32.314244Z  INFO src/im/conversation.rs:1858: [ConvSync] ä»æœåŠ¡å™¨è·å–åˆ° 2 ä¸ªä¼šè¯
2025-12-13T15:30:32.314260Z DEBUG src/im/conversation.rs:1870: [ConvSync] å·²è½¬æ¢ 2 ä¸ªä¼šè¯ä¸ºæœ¬åœ°æ ¼å¼
2025-12-13T15:30:32.314271Z DEBUG src/im/conversation.rs:1874: [ConvSync] full_sync -> on_sync_server_progress(50)
2025-12-13T15:30:32.314506Z DEBUG src/im/conversation.rs:392: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:30:32.314525Z  INFO src/im/conversation.rs:1879: [ConvSync] æœ¬åœ°å·²æœ‰ 2 ä¸ªä¼šè¯
2025-12-13T15:30:32.314541Z  INFO src/im/conversation.rs:771: [ConvSync/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-13T15:30:32.314554Z DEBUG src/im/conversation.rs:772: [ConvSync/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-13T15:30:32.314567Z DEBUG src/im/conversation.rs:773: [ConvSync/Seq]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:30:32.314579Z DEBUG src/im/conversation.rs:774: [ConvSync/Seq]   æ“ä½œID: 43ccc83e-82e4-45ae-abc9-21228cb2fb86
2025-12-13T15:30:32.314620Z DEBUG src/im/friend.rs:799: [FriendSync/HTTP] é»‘åå•åˆ—è¡¨è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:30:32.314673Z  INFO src/im/friend.rs:831: [FriendSync/HTTP] âœ… é»‘åå•åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-13T15:30:32.314707Z  INFO src/bin/openim-cli.rs:130: [å¥½å‹] ğŸš« é»‘åå•å˜æ›´: null
2025-12-13T15:30:32.314729Z  INFO src/im/friend.rs:855: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚å¥½å‹ç”³è¯·åˆ—è¡¨
2025-12-13T15:30:32.314746Z DEBUG src/im/friend.rs:856: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_friend_apply_list
2025-12-13T15:30:32.314760Z DEBUG src/im/friend.rs:857: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:30:32.314775Z DEBUG src/im/friend.rs:858: [FriendSync/HTTP]   æ“ä½œID: c723a207-8da7-4e6d-bdd1-58d7a8276499
2025-12-13T15:30:32.315465Z DEBUG src/im/conversation.rs:796: [ConvSync/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:30:32.315516Z  INFO src/im/conversation.rs:803: [ConvSync/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-13T15:30:32.315550Z  INFO src/im/conversation.rs:826: [ConvSync/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data å­—æ®µ: {
  "pinnedConversationIDs": null,
  "seqs": {
    "sg_3250046082": {
      "hasReadSeq": 13,
      "maxSeq": 26,
      "maxSeqTime": 1765380998099
    },
    "si_1056224172_3217717393": {
      "hasReadSeq": 19,
      "maxSeq": 43,
      "maxSeqTime": 1765637683035
    }
  }
}
2025-12-13T15:30:32.315567Z  INFO src/im/conversation.rs:835: [ConvSync/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-13T15:30:32.315578Z  INFO src/im/conversation.rs:847: [ConvSync/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-13T15:30:32.315595Z  INFO src/im/conversation.rs:847: [ConvSync/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-13T15:30:32.315606Z  INFO src/im/conversation.rs:897: [ConvSync/Seq] âœ… ä¼šè¯ Seq è§£æå®Œæˆï¼ŒæˆåŠŸè§£æ 2 ä¸ªä¼šè¯
2025-12-13T15:30:32.315619Z  INFO src/im/conversation.rs:1884: [ConvSync] è·å–åˆ° 2 ä¸ªä¼šè¯çš„ seqs ä¿¡æ¯ï¼Œç”¨äºè®¾ç½®æœªè¯»æ•°
2025-12-13T15:30:32.315630Z  INFO src/im/conversation.rs:1479: [ConvSync] å¼€å§‹åŒæ­¥ä¼šè¯ï¼ŒæœåŠ¡å™¨ä¼šè¯æ•°: 2, æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-13T15:30:32.315649Z  INFO src/im/conversation.rs:1507: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-13T15:30:32.315660Z  INFO src/im/conversation.rs:1507: [ConvSync]   ä¼šè¯ sg_3250046082 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-13T15:30:32.315670Z DEBUG src/im/conversation.rs:1544: [ConvSync]   ä¼šè¯ sg_3250046082 æ— éœ€æ›´æ–°
2025-12-13T15:30:32.315679Z DEBUG src/im/conversation.rs:1544: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ— éœ€æ›´æ–°
2025-12-13T15:30:32.315696Z  INFO src/im/conversation.rs:1593: [ConvSync] ä¼šè¯åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-13T15:30:32.315708Z DEBUG src/im/conversation.rs:1899: [ConvSync] full_sync -> on_sync_server_progress(80)
2025-12-13T15:30:32.316264Z DEBUG src/im/friend.rs:880: [FriendSync/HTTP] å¥½å‹ç”³è¯·åˆ—è¡¨è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:30:32.316332Z  INFO src/im/friend.rs:912: [FriendSync/HTTP] âœ… å¥½å‹ç”³è¯·åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-13T15:30:32.316353Z  INFO src/bin/openim-cli.rs:134: [å¥½å‹] ğŸ“ å¥½å‹ç”³è¯·å˜æ›´: []
2025-12-13T15:30:32.316371Z  INFO src/im/client.rs:323: [Client/Friend] âœ… å¥½å‹åŒæ­¥å®Œæˆ
2025-12-13T15:30:32.319258Z  INFO src/im/conversation.rs:1910: [ConvSync] å·²æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: f7839215-7497-4583-9e17-ebef2989f96a
2025-12-13T15:30:32.319277Z DEBUG src/im/conversation.rs:1915: [ConvSync] full_sync -> on_sync_server_progress(100)
2025-12-13T15:30:32.319296Z DEBUG src/im/conversation.rs:1917: [ConvSync] full_sync -> on_sync_server_finish(reinstalled=false)
2025-12-13T15:30:32.319315Z  INFO src/bin/openim-cli.rs:91: [ä¼šè¯] âœ… åŒæ­¥å®Œæˆ: reinstalled=false
2025-12-13T15:30:32.319333Z  INFO src/im/conversation.rs:906: [ConvSync/Seq] ğŸ”„ å¼€å§‹æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°...
2025-12-13T15:30:32.319638Z DEBUG src/im/conversation.rs:392: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:30:32.319671Z  INFO src/im/conversation.rs:771: [ConvSync/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-13T15:30:32.319688Z DEBUG src/im/conversation.rs:772: [ConvSync/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-13T15:30:32.319705Z DEBUG src/im/conversation.rs:773: [ConvSync/Seq]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:30:32.319721Z DEBUG src/im/conversation.rs:774: [ConvSync/Seq]   æ“ä½œID: 266b1454-abbb-4170-ac48-caa8bb519c08
2025-12-13T15:30:32.320775Z DEBUG src/im/conversation.rs:796: [ConvSync/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:30:32.320833Z  INFO src/im/conversation.rs:803: [ConvSync/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-13T15:30:32.320874Z  INFO src/im/conversation.rs:826: [ConvSync/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data å­—æ®µ: {
  "pinnedConversationIDs": null,
  "seqs": {
    "sg_3250046082": {
      "hasReadSeq": 13,
      "maxSeq": 26,
      "maxSeqTime": 1765380998099
    },
    "si_1056224172_3217717393": {
      "hasReadSeq": 19,
      "maxSeq": 43,
      "maxSeqTime": 1765637683035
    }
  }
}
2025-12-13T15:30:32.320894Z  INFO src/im/conversation.rs:835: [ConvSync/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-13T15:30:32.320908Z  INFO src/im/conversation.rs:847: [ConvSync/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-13T15:30:32.320932Z  INFO src/im/conversation.rs:847: [ConvSync/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-13T15:30:32.320945Z  INFO src/im/conversation.rs:897: [ConvSync/Seq] âœ… ä¼šè¯ Seq è§£æå®Œæˆï¼ŒæˆåŠŸè§£æ 2 ä¸ªä¼šè¯
2025-12-13T15:30:32.320967Z  INFO src/im/conversation.rs:927: [ConvSync/Seq] ğŸ”„ å¼€å§‹æ ¡æ­£æœªè¯»æ•°ï¼ŒæœåŠ¡å™¨è¿”å› 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-13T15:30:32.320984Z DEBUG src/im/conversation.rs:947: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=sg_3250046082, unreadCount=13, maxSeq=26
2025-12-13T15:30:32.320998Z DEBUG src/im/conversation.rs:947: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=si_1056224172_3217717393, unreadCount=24, maxSeq=43
2025-12-13T15:30:32.321017Z  INFO src/im/conversation.rs:962: [ConvSync/Seq] ğŸ“Š æœªè¯»æ•°æ ¡æ­£ç»Ÿè®¡: å·²æ›´æ–° 0 ä¸ªä¼šè¯ï¼Œå‘ç° 0 ä¸ªæœ¬åœ°ç¼ºå¤±ä¼šè¯
2025-12-13T15:30:32.321258Z  INFO src/im/conversation.rs:970: [ConvSync/Seq] ğŸ“Š æ ¡æ­£å‰æ€»æœªè¯»æ•°: 37
2025-12-13T15:30:32.321276Z  INFO src/im/conversation.rs:1054: [ConvSync/Seq] â„¹ï¸ æ— ä¼šè¯å˜æ›´ï¼Œè·³è¿‡å›è°ƒ
2025-12-13T15:30:32.321290Z  INFO src/im/conversation.rs:1057: [ConvSync/Seq] âœ… æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°å®Œæˆ
2025-12-13T15:30:32.321302Z  INFO src/im/conversation.rs:1928: [ConvSync] âœ… å…¨é‡åŒæ­¥å®Œæˆ

2025-12-13T15:30:32.321315Z  INFO src/im/client.rs:303: [Client/Conv] âœ… ä¼šè¯åŒæ­¥å®Œæˆ
2025-12-13T15:40:10.298016Z  INFO src/bin/openim-cli.rs:77: ğŸ“ æ—¥å¿—å·²åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶: debug.log
2025-12-13T15:40:10.298042Z  INFO src/bin/openim-cli.rs:193: ğŸš€ OpenIM CLI å®¢æˆ·ç«¯ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰
2025-12-13T15:40:10.298051Z  INFO src/bin/openim-cli.rs:194: ğŸ“± æ‰‹æœºå·: 17764338283
2025-12-13T15:40:10.298060Z  INFO src/bin/openim-cli.rs:195: â±ï¸  è¿è¡Œæ—¶é•¿: 0 ç§’ï¼ˆ0=æŒç»­è¿è¡Œï¼‰
2025-12-13T15:40:10.298072Z  INFO src/bin/openim-cli.rs:198: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T15:40:10.298340Z  INFO src/im/auth.rs:48: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T15:40:10.298355Z DEBUG src/im/auth.rs:49:    URL: http://localhost:10008/account/login
2025-12-13T15:40:10.298365Z DEBUG src/im/auth.rs:50:    æ‰‹æœºå·: 17764338283
2025-12-13T15:40:10.298378Z DEBUG src/im/auth.rs:51:    OperationID: 9d1a0ea0-564d-45cd-912e-ad2288ddc58a
2025-12-13T15:40:10.304185Z DEBUG src/im/auth.rs:83: âœ… ç™»å½•å“åº”: {"errCode":0,"errMsg":"","errDlt":"","data":{"imToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiUGxhdGZvcm1JRCI6NSwiZXhwIjoxNzczNDE2NDEwLCJpYXQiOjE3NjU2NDA0MDV9.DT1tIxkPks9aEKzXHeGHskxkDsrKYNmJrlvfwR-KPmY","chatToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiVXNlclR5cGUiOjEsIlBsYXRmb3JtSUQiOjAsImV4cCI6MTc3MzQxNjQxMCwibmJmIjoxNzY1NjQwMzUwLCJpYXQiOjE3NjU2NDA0MTB9.FDd_KoDWtvgsvbeZzP8qNKXiRnn8JXjBx7p-GWfTg-o","userID":"3217717393"}}
2025-12-13T15:40:10.304262Z  INFO src/bin/openim-cli.rs:213: âœ… ç™»å½•æˆåŠŸï¼ç”¨æˆ·ID: 3217717393
2025-12-13T15:40:10.304295Z  INFO src/bin/openim-cli.rs:225: ğŸ”— æ­£åœ¨è¿æ¥æœåŠ¡å™¨...
2025-12-13T15:40:10.304336Z  INFO src/im/client.rs:236: [Client] ğŸ”— è¿æ¥åˆ° OpenIM Server (user=3217717393, platform=5)
2025-12-13T15:40:10.305088Z  INFO src/im/client.rs:242: [Client] âœ… WebSocket è¿æ¥æˆåŠŸ, çŠ¶æ€: 101 Switching Protocols
2025-12-13T15:40:10.305118Z  INFO src/im/client.rs:255: [Client] âœ… æœåŠ¡å™¨è¿æ¥é‰´æƒæˆåŠŸ
2025-12-13T15:40:10.305147Z  INFO src/im/client.rs:268: [Client] ğŸ’“ å¯åŠ¨å¿ƒè·³
2025-12-13T15:40:10.305162Z  INFO src/im/client.rs:269: [Client] ğŸ“¥ å¼€å§‹ç›‘å¬æœåŠ¡å™¨æ¶ˆæ¯
2025-12-13T15:40:10.305174Z  INFO src/im/client.rs:272: [Client] ğŸ”— åˆ›å»ºå…±äº«æ•°æ®åº“è¿æ¥: sqlite://conversations.db?mode=rwc
2025-12-13T15:40:10.305189Z  INFO src/bin/openim-cli.rs:173: [CLI] ğŸ”— å·²è¿æ¥: è¿æ¥æˆåŠŸ
2025-12-13T15:40:10.305926Z  INFO src/im/client.rs:283: [Client] ğŸ“‹ åˆå§‹åŒ–æ•°æ®åº“è¡¨ç»“æ„
2025-12-13T15:40:10.305950Z  INFO src/im/conversation.rs:244: [ConvSync/DB] åˆå§‹åŒ–ä¼šè¯æ•°æ®åº“è¡¨ç»“æ„
2025-12-13T15:40:10.306244Z  INFO src/im/conversation.rs:293: [ConvSync/DB] æ•°æ®åº“è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-13T15:40:10.306263Z  INFO src/im/friend.rs:171: [FriendSync/DB] åˆå§‹åŒ–å¥½å‹è¡¨ç»“æ„
2025-12-13T15:40:10.306344Z  INFO src/im/friend.rs:194: [FriendSync/DB] å¥½å‹è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-13T15:40:10.306359Z  INFO src/im/conversation.rs:226: [ConvSync] åˆ›å»ºä¼šè¯åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-13T15:40:10.306460Z  INFO src/im/friend.rs:151: [FriendSync/DB] åˆ›å»ºå¥½å‹åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-13T15:40:10.306474Z  INFO src/im/client.rs:300: [Client] ğŸ”„ å¯åŠ¨ä¼šè¯å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-13T15:40:10.306522Z  INFO src/im/conversation.rs:1619: [ConvSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥ä¼šè¯...
2025-12-13T15:40:10.306527Z  INFO src/im/client.rs:320: [Client] ğŸ”„ å¯åŠ¨å¥½å‹å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-13T15:40:10.306572Z  INFO src/im/friend.rs:1018: [FriendSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥å¥½å‹...
2025-12-13T15:40:10.306797Z DEBUG src/im/conversation.rs:1625: [ConvSync] æœ¬åœ°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: f7839215-7497-4583-9e17-ebef2989f96a
2025-12-13T15:40:10.306878Z  INFO src/bin/openim-cli.rs:233: âœ… è¿æ¥æˆåŠŸï¼
2025-12-13T15:40:10.306894Z DEBUG src/im/conversation.rs:1980: [ConvSync] è·å–æ‰€æœ‰ä¼šè¯åˆ—è¡¨
2025-12-13T15:40:10.306908Z DEBUG src/im/conversation.rs:1938: [ConvSync] è·å–ä¼šè¯åˆ—è¡¨ï¼Œåç§»: 0, æ•°é‡: 18446744073709551615
2025-12-13T15:40:10.306997Z DEBUG src/im/friend.rs:1023: [FriendSync] æœ¬åœ°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-13T15:40:10.307307Z DEBUG src/im/conversation.rs:392: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:40:10.307511Z DEBUG src/im/conversation.rs:392: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:40:10.307528Z DEBUG src/im/conversation.rs:1945: [ConvSync] è¿‡æ»¤åä¼šè¯æ•°: 0 (è¿‡æ»¤æ‰æ— æ¶ˆæ¯æ—¶é—´çš„ä¼šè¯)
2025-12-13T15:40:10.307541Z DEBUG src/im/conversation.rs:1969: [ConvSync] è¿”å› 0 ä¸ªä¼šè¯ (èŒƒå›´: 0 - 0)
2025-12-13T15:40:10.307556Z  INFO src/bin/openim-cli.rs:239: ğŸ“‹ ä¼šè¯åˆ—è¡¨ï¼ˆå…± 0 ä¸ªï¼‰:
2025-12-13T15:40:10.307676Z DEBUG src/im/friend.rs:255: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-13T15:40:10.307888Z DEBUG src/im/conversation.rs:411: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-13T15:40:10.307908Z  INFO src/im/conversation.rs:1636: [ConvSync] æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-13T15:40:10.307918Z  INFO src/im/conversation.rs:1723: [ConvSync] ä½¿ç”¨å¢é‡åŒæ­¥ï¼Œç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: f7839215-7497-4583-9e17-ebef2989f96a
2025-12-13T15:40:10.307937Z  INFO src/bin/openim-cli.rs:87: [CLI] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-13T15:40:10.307972Z  INFO src/im/conversation.rs:1080: [ConvSync/HTTP] ğŸ“¡ è¯·æ±‚å¢é‡ä¼šè¯åŒæ­¥
   è¯·æ±‚URL: http://localhost:10002/conversation/get_incremental_conversations
   ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: f7839215-7497-4583-9e17-ebef2989f96a
   ç”¨æˆ·ID: 3217717393
   æ“ä½œID: f324af08-830d-431c-8437-243e15af9e4c
2025-12-13T15:40:10.308277Z DEBUG src/im/friend.rs:255: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-13T15:40:10.308300Z  INFO src/bin/openim-cli.rs:255: ğŸ‘¥ å¥½å‹åˆ—è¡¨ï¼ˆå…± 1 ä¸ªï¼‰
2025-12-13T15:40:10.308429Z DEBUG src/im/friend.rs:274: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹IDåˆ—è¡¨ï¼Œå…± 1 ä¸ª
2025-12-13T15:40:10.308454Z  INFO src/im/friend.rs:455: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚å¢é‡å¥½å‹åŒæ­¥
2025-12-13T15:40:10.308469Z DEBUG src/im/friend.rs:456: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_incremental_friends
2025-12-13T15:40:10.308484Z DEBUG src/im/friend.rs:457: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:40:10.308498Z DEBUG src/im/friend.rs:458: [FriendSync/HTTP]   æ“ä½œID: e79cc7fc-d62a-43d4-acb6-650d29b395de
2025-12-13T15:40:10.308770Z  INFO src/bin/openim-cli.rs:259: ğŸ“¬ æ€»æœªè¯»æ•°: 37
2025-12-13T15:40:10.308789Z  INFO src/bin/openim-cli.rs:263: ğŸ“¥ å¼€å§‹ç›‘å¬æ¶ˆæ¯...
2025-12-13T15:40:10.308798Z  INFO src/bin/openim-cli.rs:264: ğŸ’¡ æç¤ºï¼šç¨‹åºå°†æŒç»­è¿è¡Œå¹¶æ˜¾ç¤ºæ¥æ”¶åˆ°çš„æ‰€æœ‰æ¶ˆæ¯å’Œäº‹ä»¶
2025-12-13T15:40:10.308807Z  INFO src/bin/openim-cli.rs:270: â° æŒç»­è¿è¡Œä¸­ï¼ŒæŒ‰ Ctrl+C é€€å‡º
2025-12-13T15:40:10.309428Z DEBUG src/im/conversation.rs:1108: [ConvSync/HTTP] å¢é‡ä¼šè¯åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:40:10.309495Z  INFO src/im/conversation.rs:1182: [ConvSync/HTTP] âœ… å¢é‡ä¼šè¯åŒæ­¥å“åº”
2025-12-13T15:40:10.309508Z  INFO src/im/conversation.rs:1183: [ConvSync/HTTP]   å…¨é‡åŒæ­¥: true
2025-12-13T15:40:10.309516Z  INFO src/im/conversation.rs:1184: [ConvSync/HTTP]   ç‰ˆæœ¬ID: 68e1e4982a00312739a80eef
2025-12-13T15:40:10.309526Z  INFO src/im/conversation.rs:1185: [ConvSync/HTTP]   ç‰ˆæœ¬: 3
2025-12-13T15:40:10.309534Z  INFO src/im/conversation.rs:1186: [ConvSync/HTTP]   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-13T15:40:10.309544Z DEBUG src/im/conversation.rs:1192: [ConvSync/HTTP]   åˆ é™¤çš„ä¼šè¯ID: []
2025-12-13T15:40:10.309563Z  WARN src/im/conversation.rs:1749: [ConvSync]   æœåŠ¡å™¨è¦æ±‚å…¨é‡åŒæ­¥...
2025-12-13T15:40:10.309574Z  INFO src/im/conversation.rs:1834: [ConvSync] ğŸ”„ å¼€å§‹å…¨é‡åŒæ­¥ä¼šè¯...
2025-12-13T15:40:10.309610Z DEBUG src/im/friend.rs:480: [FriendSync/HTTP] å¢é‡å¥½å‹åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:40:10.309663Z  INFO src/im/friend.rs:549: [FriendSync/HTTP] âœ… å¢é‡å¥½å‹åŒæ­¥å“åº”
2025-12-13T15:40:10.309675Z  INFO src/im/friend.rs:550: [FriendSync/HTTP]   å…¨é‡åŒæ­¥: false, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa, ç‰ˆæœ¬: 2
2025-12-13T15:40:10.309687Z  INFO src/im/friend.rs:554: [FriendSync/HTTP]   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-13T15:40:10.309708Z  INFO src/im/friend.rs:927: [FriendSync] å¼€å§‹åŒæ­¥å¥½å‹ï¼ŒæœåŠ¡å™¨å¥½å‹æ•°: 0, æœ¬åœ°å¥½å‹æ•°: 1
2025-12-13T15:40:10.309729Z  INFO src/im/friend.rs:997: [FriendSync] å¥½å‹åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-13T15:40:10.309782Z DEBUG src/im/conversation.rs:411: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-13T15:40:10.309799Z DEBUG src/im/conversation.rs:1837: [ConvSync] full_sync -> on_sync_server_start(reinstalled=false)
2025-12-13T15:40:10.309809Z  INFO src/bin/openim-cli.rs:87: [CLI] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-13T15:40:10.309818Z DEBUG src/im/conversation.rs:1842: [ConvSync] full_sync -> on_sync_server_progress(10)
2025-12-13T15:40:10.309846Z  INFO src/im/conversation.rs:1211: [ConvSync/HTTP] ğŸ“¡ è¯·æ±‚å…¨é‡ä¼šè¯åŒæ­¥
2025-12-13T15:40:10.309856Z DEBUG src/im/conversation.rs:1212: [ConvSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/conversation/get_all_conversations
2025-12-13T15:40:10.309865Z DEBUG src/im/conversation.rs:1213: [ConvSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:40:10.309875Z DEBUG src/im/conversation.rs:1214: [ConvSync/HTTP]   æ“ä½œID: 33439d52-b7bc-4550-860a-e2ff9b915024
2025-12-13T15:40:10.310224Z  INFO src/im/friend.rs:1173: [FriendSync] å·²æ›´æ–°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2 -> 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-13T15:40:10.310241Z  INFO src/im/friend.rs:1179: [FriendSync] âœ… å¢é‡åŒæ­¥å¥½å‹å®Œæˆ
2025-12-13T15:40:10.310257Z  INFO src/im/friend.rs:774: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚é»‘åå•åˆ—è¡¨
2025-12-13T15:40:10.310268Z DEBUG src/im/friend.rs:775: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_black_list
2025-12-13T15:40:10.310283Z DEBUG src/im/friend.rs:776: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:40:10.310293Z DEBUG src/im/friend.rs:777: [FriendSync/HTTP]   æ“ä½œID: 3216b747-c304-419f-b2b1-3e5cfe89376d
2025-12-13T15:40:10.310725Z DEBUG src/im/conversation.rs:1236: [ConvSync/HTTP] å…¨é‡ä¼šè¯åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:40:10.310809Z  INFO src/im/conversation.rs:1273: [ConvSync/HTTP] âœ… å…¨é‡ä¼šè¯åŒæ­¥å“åº”
2025-12-13T15:40:10.310820Z  INFO src/im/conversation.rs:1274: [ConvSync/HTTP]   ä¼šè¯æ•°: 2
2025-12-13T15:40:10.310832Z DEBUG src/im/conversation.rs:1275: [ConvSync/HTTP]   ä¼šè¯è¯¦æƒ…: ["sg_3250046082", "si_1056224172_3217717393"]
2025-12-13T15:40:10.310848Z  INFO src/im/conversation.rs:1858: [ConvSync] ä»æœåŠ¡å™¨è·å–åˆ° 2 ä¸ªä¼šè¯
2025-12-13T15:40:10.310862Z DEBUG src/im/conversation.rs:1870: [ConvSync] å·²è½¬æ¢ 2 ä¸ªä¼šè¯ä¸ºæœ¬åœ°æ ¼å¼
2025-12-13T15:40:10.310871Z DEBUG src/im/conversation.rs:1874: [ConvSync] full_sync -> on_sync_server_progress(50)
2025-12-13T15:40:10.311114Z DEBUG src/im/conversation.rs:392: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:40:10.311130Z  INFO src/im/conversation.rs:1879: [ConvSync] æœ¬åœ°å·²æœ‰ 2 ä¸ªä¼šè¯
2025-12-13T15:40:10.311144Z  INFO src/im/conversation.rs:771: [ConvSync/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-13T15:40:10.311155Z DEBUG src/im/conversation.rs:772: [ConvSync/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-13T15:40:10.311165Z DEBUG src/im/conversation.rs:773: [ConvSync/Seq]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:40:10.311174Z DEBUG src/im/conversation.rs:774: [ConvSync/Seq]   æ“ä½œID: 42ac3d71-bcc8-4320-a395-4f23d648112f
2025-12-13T15:40:10.311366Z DEBUG src/im/friend.rs:799: [FriendSync/HTTP] é»‘åå•åˆ—è¡¨è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:40:10.311409Z  INFO src/im/friend.rs:831: [FriendSync/HTTP] âœ… é»‘åå•åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-13T15:40:10.311432Z  INFO src/bin/openim-cli.rs:130: [CLI] ğŸš« é»‘åå•å˜æ›´: null
2025-12-13T15:40:10.311453Z  INFO src/im/friend.rs:855: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚å¥½å‹ç”³è¯·åˆ—è¡¨
2025-12-13T15:40:10.311467Z DEBUG src/im/friend.rs:856: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_friend_apply_list
2025-12-13T15:40:10.311482Z DEBUG src/im/friend.rs:857: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:40:10.311497Z DEBUG src/im/friend.rs:858: [FriendSync/HTTP]   æ“ä½œID: e09d0310-e8d1-4cc2-974c-2d1fdcd71752
2025-12-13T15:40:10.312659Z DEBUG src/im/conversation.rs:796: [ConvSync/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:40:10.312733Z  INFO src/im/conversation.rs:803: [ConvSync/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-13T15:40:10.312778Z  INFO src/im/conversation.rs:826: [ConvSync/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data å­—æ®µ: {
  "pinnedConversationIDs": null,
  "seqs": {
    "sg_3250046082": {
      "hasReadSeq": 13,
      "maxSeq": 26,
      "maxSeqTime": 1765380998099
    },
    "si_1056224172_3217717393": {
      "hasReadSeq": 19,
      "maxSeq": 43,
      "maxSeqTime": 1765637683035
    }
  }
}
2025-12-13T15:40:10.312805Z  INFO src/im/conversation.rs:835: [ConvSync/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-13T15:40:10.312820Z  INFO src/im/conversation.rs:847: [ConvSync/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-13T15:40:10.312842Z  INFO src/im/conversation.rs:847: [ConvSync/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-13T15:40:10.312858Z  INFO src/im/conversation.rs:897: [ConvSync/Seq] âœ… ä¼šè¯ Seq è§£æå®Œæˆï¼ŒæˆåŠŸè§£æ 2 ä¸ªä¼šè¯
2025-12-13T15:40:10.312876Z  INFO src/im/conversation.rs:1884: [ConvSync] è·å–åˆ° 2 ä¸ªä¼šè¯çš„ seqs ä¿¡æ¯ï¼Œç”¨äºè®¾ç½®æœªè¯»æ•°
2025-12-13T15:40:10.312891Z  INFO src/im/conversation.rs:1479: [ConvSync] å¼€å§‹åŒæ­¥ä¼šè¯ï¼ŒæœåŠ¡å™¨ä¼šè¯æ•°: 2, æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-13T15:40:10.312920Z  INFO src/im/conversation.rs:1507: [ConvSync]   ä¼šè¯ sg_3250046082 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-13T15:40:10.312945Z  INFO src/im/conversation.rs:1507: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-13T15:40:10.312960Z DEBUG src/im/conversation.rs:1544: [ConvSync]   ä¼šè¯ sg_3250046082 æ— éœ€æ›´æ–°
2025-12-13T15:40:10.312973Z DEBUG src/im/conversation.rs:1544: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ— éœ€æ›´æ–°
2025-12-13T15:40:10.312994Z  INFO src/im/conversation.rs:1593: [ConvSync] ä¼šè¯åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-13T15:40:10.313012Z DEBUG src/im/conversation.rs:1899: [ConvSync] full_sync -> on_sync_server_progress(80)
2025-12-13T15:40:10.313258Z DEBUG src/im/friend.rs:880: [FriendSync/HTTP] å¥½å‹ç”³è¯·åˆ—è¡¨è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:40:10.313314Z  INFO src/im/friend.rs:912: [FriendSync/HTTP] âœ… å¥½å‹ç”³è¯·åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-13T15:40:10.313334Z  INFO src/bin/openim-cli.rs:134: [CLI] ğŸ“ å¥½å‹ç”³è¯·å˜æ›´: []
2025-12-13T15:40:10.313346Z  INFO src/im/client.rs:323: [Client] âœ… å¥½å‹åŒæ­¥å®Œæˆ
2025-12-13T15:40:10.317224Z  INFO src/im/conversation.rs:1910: [ConvSync] å·²æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 66f80f56-ee7a-49e7-ba5b-f675219aeae9
2025-12-13T15:40:10.317242Z DEBUG src/im/conversation.rs:1915: [ConvSync] full_sync -> on_sync_server_progress(100)
2025-12-13T15:40:10.317256Z DEBUG src/im/conversation.rs:1917: [ConvSync] full_sync -> on_sync_server_finish(reinstalled=false)
2025-12-13T15:40:10.317273Z  INFO src/bin/openim-cli.rs:91: [CLI] âœ… åŒæ­¥å®Œæˆ: reinstalled=false
2025-12-13T15:40:10.317289Z  INFO src/im/conversation.rs:906: [ConvSync/Seq] ğŸ”„ å¼€å§‹æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°...
2025-12-13T15:40:10.317590Z DEBUG src/im/conversation.rs:392: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:40:10.317616Z  INFO src/im/conversation.rs:771: [ConvSync/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-13T15:40:10.317634Z DEBUG src/im/conversation.rs:772: [ConvSync/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-13T15:40:10.317649Z DEBUG src/im/conversation.rs:773: [ConvSync/Seq]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:40:10.317665Z DEBUG src/im/conversation.rs:774: [ConvSync/Seq]   æ“ä½œID: 0b0d0c44-fc8a-4ead-b70a-17b1d0c092ff
2025-12-13T15:40:10.318731Z DEBUG src/im/conversation.rs:796: [ConvSync/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:40:10.318797Z  INFO src/im/conversation.rs:803: [ConvSync/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-13T15:40:10.318856Z  INFO src/im/conversation.rs:826: [ConvSync/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data å­—æ®µ: {
  "pinnedConversationIDs": null,
  "seqs": {
    "sg_3250046082": {
      "hasReadSeq": 13,
      "maxSeq": 26,
      "maxSeqTime": 1765380998099
    },
    "si_1056224172_3217717393": {
      "hasReadSeq": 19,
      "maxSeq": 43,
      "maxSeqTime": 1765637683035
    }
  }
}
2025-12-13T15:40:10.318878Z  INFO src/im/conversation.rs:835: [ConvSync/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-13T15:40:10.318896Z  INFO src/im/conversation.rs:847: [ConvSync/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-13T15:40:10.318919Z  INFO src/im/conversation.rs:847: [ConvSync/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-13T15:40:10.318947Z  INFO src/im/conversation.rs:897: [ConvSync/Seq] âœ… ä¼šè¯ Seq è§£æå®Œæˆï¼ŒæˆåŠŸè§£æ 2 ä¸ªä¼šè¯
2025-12-13T15:40:10.318970Z  INFO src/im/conversation.rs:927: [ConvSync/Seq] ğŸ”„ å¼€å§‹æ ¡æ­£æœªè¯»æ•°ï¼ŒæœåŠ¡å™¨è¿”å› 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-13T15:40:10.318991Z DEBUG src/im/conversation.rs:947: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=sg_3250046082, unreadCount=13, maxSeq=26
2025-12-13T15:40:10.319012Z DEBUG src/im/conversation.rs:947: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=si_1056224172_3217717393, unreadCount=24, maxSeq=43
2025-12-13T15:40:10.319031Z  INFO src/im/conversation.rs:962: [ConvSync/Seq] ğŸ“Š æœªè¯»æ•°æ ¡æ­£ç»Ÿè®¡: å·²æ›´æ–° 0 ä¸ªä¼šè¯ï¼Œå‘ç° 0 ä¸ªæœ¬åœ°ç¼ºå¤±ä¼šè¯
2025-12-13T15:40:10.319250Z  INFO src/im/conversation.rs:970: [ConvSync/Seq] ğŸ“Š æ ¡æ­£å‰æ€»æœªè¯»æ•°: 37
2025-12-13T15:40:10.319267Z  INFO src/im/conversation.rs:1054: [ConvSync/Seq] â„¹ï¸ æ— ä¼šè¯å˜æ›´ï¼Œè·³è¿‡å›è°ƒ
2025-12-13T15:40:10.319279Z  INFO src/im/conversation.rs:1057: [ConvSync/Seq] âœ… æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°å®Œæˆ
2025-12-13T15:40:10.319293Z  INFO src/im/conversation.rs:1928: [ConvSync] âœ… å…¨é‡åŒæ­¥å®Œæˆ

2025-12-13T15:40:10.319308Z  INFO src/im/client.rs:303: [Client] âœ… ä¼šè¯åŒæ­¥å®Œæˆ
2025-12-13T15:41:01.837248Z  INFO src/bin/openim-cli.rs:77: ğŸ“ æ—¥å¿—å·²åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶: debug.log
2025-12-13T15:41:01.837274Z  INFO src/bin/openim-cli.rs:193: ğŸš€ OpenIM CLI å®¢æˆ·ç«¯ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰
2025-12-13T15:41:01.837283Z  INFO src/bin/openim-cli.rs:194: ğŸ“± æ‰‹æœºå·: 17764338283
2025-12-13T15:41:01.837292Z  INFO src/bin/openim-cli.rs:195: â±ï¸  è¿è¡Œæ—¶é•¿: 0 ç§’ï¼ˆ0=æŒç»­è¿è¡Œï¼‰
2025-12-13T15:41:01.837301Z  INFO src/bin/openim-cli.rs:198: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T15:41:01.837538Z  INFO src/im/auth.rs:48: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T15:41:01.837552Z DEBUG src/im/auth.rs:49:    URL: http://localhost:10008/account/login
2025-12-13T15:41:01.837561Z DEBUG src/im/auth.rs:50:    æ‰‹æœºå·: 17764338283
2025-12-13T15:41:01.837570Z DEBUG src/im/auth.rs:51:    OperationID: 263c6971-9ecf-43ce-9e56-02c1ef3a61bf
2025-12-13T15:41:01.842826Z DEBUG src/im/auth.rs:83: âœ… ç™»å½•å“åº”: {"errCode":0,"errMsg":"","errDlt":"","data":{"imToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiUGxhdGZvcm1JRCI6NSwiZXhwIjoxNzczNDE2NDYxLCJpYXQiOjE3NjU2NDA0NTZ9.rKrfxfnXHEqWhAWmCm6tHcRnUD2OmhnFXkxA0yuCUN4","chatToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiVXNlclR5cGUiOjEsIlBsYXRmb3JtSUQiOjAsImV4cCI6MTc3MzQxNjQ2MSwibmJmIjoxNzY1NjQwNDAxLCJpYXQiOjE3NjU2NDA0NjF9.UuVvxKvOECRQP2PPB17DTXN6wGlr5y9BKTDUJb-2MuE","userID":"3217717393"}}
2025-12-13T15:41:01.842923Z  INFO src/bin/openim-cli.rs:213: âœ… ç™»å½•æˆåŠŸï¼ç”¨æˆ·ID: 3217717393
2025-12-13T15:41:01.842967Z  INFO src/bin/openim-cli.rs:225: ğŸ”— æ­£åœ¨è¿æ¥æœåŠ¡å™¨...
2025-12-13T15:41:01.843003Z  INFO src/im/client.rs:236: [Client] ğŸ”— è¿æ¥åˆ° OpenIM Server (user=3217717393, platform=5)
2025-12-13T15:41:01.843775Z  INFO src/im/client.rs:242: [Client] âœ… WebSocket è¿æ¥æˆåŠŸ, çŠ¶æ€: 101 Switching Protocols
2025-12-13T15:41:01.843805Z  INFO src/im/client.rs:255: [Client] âœ… æœåŠ¡å™¨è¿æ¥é‰´æƒæˆåŠŸ
2025-12-13T15:41:01.843835Z  INFO src/im/client.rs:268: [Client] ğŸ’“ å¯åŠ¨å¿ƒè·³
2025-12-13T15:41:01.843844Z  INFO src/im/client.rs:269: [Client] ğŸ“¥ å¼€å§‹ç›‘å¬æœåŠ¡å™¨æ¶ˆæ¯
2025-12-13T15:41:01.843853Z  INFO src/im/client.rs:272: [Client] ğŸ”— åˆ›å»ºå…±äº«æ•°æ®åº“è¿æ¥: sqlite://conversations.db?mode=rwc
2025-12-13T15:41:01.843888Z  INFO src/bin/openim-cli.rs:173: [CLI] ğŸ”— å·²è¿æ¥: è¿æ¥æˆåŠŸ
2025-12-13T15:41:01.844688Z  INFO src/im/client.rs:283: [Client] ğŸ“‹ åˆå§‹åŒ–æ•°æ®åº“è¡¨ç»“æ„
2025-12-13T15:41:01.844716Z  INFO src/im/conversation.rs:244: [ConvSync/DB] åˆå§‹åŒ–ä¼šè¯æ•°æ®åº“è¡¨ç»“æ„
2025-12-13T15:41:01.845023Z  INFO src/im/conversation.rs:293: [ConvSync/DB] æ•°æ®åº“è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-13T15:41:01.845046Z  INFO src/im/friend.rs:171: [FriendSync/DB] åˆå§‹åŒ–å¥½å‹è¡¨ç»“æ„
2025-12-13T15:41:01.845122Z  INFO src/im/friend.rs:194: [FriendSync/DB] å¥½å‹è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-13T15:41:01.845139Z  INFO src/im/conversation.rs:226: [ConvSync] åˆ›å»ºä¼šè¯åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-13T15:41:01.845256Z  INFO src/im/friend.rs:151: [FriendSync/DB] åˆ›å»ºå¥½å‹åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-13T15:41:01.845265Z  INFO src/im/client.rs:300: [Client] ğŸ”„ å¯åŠ¨ä¼šè¯å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-13T15:41:01.845321Z  INFO src/im/conversation.rs:1619: [ConvSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥ä¼šè¯...
2025-12-13T15:41:01.845334Z  INFO src/im/client.rs:320: [Client] ğŸ”„ å¯åŠ¨å¥½å‹å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-13T15:41:01.845376Z  INFO src/im/friend.rs:1018: [FriendSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥å¥½å‹...
2025-12-13T15:41:01.845577Z DEBUG src/im/conversation.rs:1625: [ConvSync] æœ¬åœ°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 66f80f56-ee7a-49e7-ba5b-f675219aeae9
2025-12-13T15:41:01.845660Z  INFO src/bin/openim-cli.rs:233: âœ… è¿æ¥æˆåŠŸï¼
2025-12-13T15:41:01.845683Z DEBUG src/im/conversation.rs:1980: [ConvSync] è·å–æ‰€æœ‰ä¼šè¯åˆ—è¡¨
2025-12-13T15:41:01.845694Z DEBUG src/im/conversation.rs:1938: [ConvSync] è·å–ä¼šè¯åˆ—è¡¨ï¼Œåç§»: 0, æ•°é‡: 18446744073709551615
2025-12-13T15:41:01.845757Z DEBUG src/im/friend.rs:1023: [FriendSync] æœ¬åœ°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-13T15:41:01.846128Z DEBUG src/im/conversation.rs:392: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:41:01.846351Z DEBUG src/im/conversation.rs:392: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:41:01.846368Z DEBUG src/im/conversation.rs:1945: [ConvSync] è¿‡æ»¤åä¼šè¯æ•°: 0 (è¿‡æ»¤æ‰æ— æ¶ˆæ¯æ—¶é—´çš„ä¼šè¯)
2025-12-13T15:41:01.846381Z DEBUG src/im/conversation.rs:1969: [ConvSync] è¿”å› 0 ä¸ªä¼šè¯ (èŒƒå›´: 0 - 0)
2025-12-13T15:41:01.846397Z  INFO src/bin/openim-cli.rs:239: ğŸ“‹ ä¼šè¯åˆ—è¡¨ï¼ˆå…± 0 ä¸ªï¼‰:
2025-12-13T15:41:01.846507Z DEBUG src/im/friend.rs:255: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-13T15:41:01.846683Z DEBUG src/im/conversation.rs:411: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-13T15:41:01.846697Z  INFO src/im/conversation.rs:1636: [ConvSync] æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-13T15:41:01.846708Z  INFO src/im/conversation.rs:1723: [ConvSync] ä½¿ç”¨å¢é‡åŒæ­¥ï¼Œç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 66f80f56-ee7a-49e7-ba5b-f675219aeae9
2025-12-13T15:41:01.846724Z  INFO src/bin/openim-cli.rs:87: [CLI] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-13T15:41:01.846738Z  INFO src/bin/openim-cli.rs:95: [CLI] ğŸ“Š åŒæ­¥è¿›åº¦: 10%
2025-12-13T15:41:01.846774Z  INFO src/im/conversation.rs:1080: [ConvSync/HTTP] ğŸ“¡ è¯·æ±‚å¢é‡ä¼šè¯åŒæ­¥
   è¯·æ±‚URL: http://localhost:10002/conversation/get_incremental_conversations
   ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 66f80f56-ee7a-49e7-ba5b-f675219aeae9
   ç”¨æˆ·ID: 3217717393
   æ“ä½œID: bdd0e6d8-9a99-4cb6-b003-951e5b18eb7a
2025-12-13T15:41:01.847036Z DEBUG src/im/friend.rs:255: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-13T15:41:01.847053Z  INFO src/bin/openim-cli.rs:255: ğŸ‘¥ å¥½å‹åˆ—è¡¨ï¼ˆå…± 1 ä¸ªï¼‰
2025-12-13T15:41:01.847241Z DEBUG src/im/friend.rs:274: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹IDåˆ—è¡¨ï¼Œå…± 1 ä¸ª
2025-12-13T15:41:01.847281Z  INFO src/im/friend.rs:455: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚å¢é‡å¥½å‹åŒæ­¥
2025-12-13T15:41:01.847293Z DEBUG src/im/friend.rs:456: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_incremental_friends
2025-12-13T15:41:01.847303Z DEBUG src/im/friend.rs:457: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:41:01.847312Z DEBUG src/im/friend.rs:458: [FriendSync/HTTP]   æ“ä½œID: 31cac224-1fc1-4549-b1ef-425ea7551e82
2025-12-13T15:41:01.847585Z  INFO src/bin/openim-cli.rs:259: ğŸ“¬ æ€»æœªè¯»æ•°: 37
2025-12-13T15:41:01.847603Z  INFO src/bin/openim-cli.rs:263: ğŸ“¥ å¼€å§‹ç›‘å¬æ¶ˆæ¯...
2025-12-13T15:41:01.847611Z  INFO src/bin/openim-cli.rs:264: ğŸ’¡ æç¤ºï¼šç¨‹åºå°†æŒç»­è¿è¡Œå¹¶æ˜¾ç¤ºæ¥æ”¶åˆ°çš„æ‰€æœ‰æ¶ˆæ¯å’Œäº‹ä»¶
2025-12-13T15:41:01.847622Z  INFO src/bin/openim-cli.rs:270: â° æŒç»­è¿è¡Œä¸­ï¼ŒæŒ‰ Ctrl+C é€€å‡º
2025-12-13T15:41:01.848114Z DEBUG src/im/conversation.rs:1108: [ConvSync/HTTP] å¢é‡ä¼šè¯åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:41:01.848180Z  INFO src/im/conversation.rs:1182: [ConvSync/HTTP] âœ… å¢é‡ä¼šè¯åŒæ­¥å“åº”
2025-12-13T15:41:01.848195Z  INFO src/im/conversation.rs:1183: [ConvSync/HTTP]   å…¨é‡åŒæ­¥: true
2025-12-13T15:41:01.848208Z  INFO src/im/conversation.rs:1184: [ConvSync/HTTP]   ç‰ˆæœ¬ID: 68e1e4982a00312739a80eef
2025-12-13T15:41:01.848220Z  INFO src/im/conversation.rs:1185: [ConvSync/HTTP]   ç‰ˆæœ¬: 3
2025-12-13T15:41:01.848231Z  INFO src/im/conversation.rs:1186: [ConvSync/HTTP]   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-13T15:41:01.848241Z DEBUG src/im/conversation.rs:1192: [ConvSync/HTTP]   åˆ é™¤çš„ä¼šè¯ID: []
2025-12-13T15:41:01.848257Z  INFO src/bin/openim-cli.rs:95: [CLI] ğŸ“Š åŒæ­¥è¿›åº¦: 50%
2025-12-13T15:41:01.848273Z  WARN src/im/conversation.rs:1749: [ConvSync]   æœåŠ¡å™¨è¦æ±‚å…¨é‡åŒæ­¥...
2025-12-13T15:41:01.848285Z  INFO src/im/conversation.rs:1834: [ConvSync] ğŸ”„ å¼€å§‹å…¨é‡åŒæ­¥ä¼šè¯...
2025-12-13T15:41:01.848374Z DEBUG src/im/friend.rs:480: [FriendSync/HTTP] å¢é‡å¥½å‹åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:41:01.848419Z  INFO src/im/friend.rs:549: [FriendSync/HTTP] âœ… å¢é‡å¥½å‹åŒæ­¥å“åº”
2025-12-13T15:41:01.848431Z  INFO src/im/friend.rs:550: [FriendSync/HTTP]   å…¨é‡åŒæ­¥: false, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa, ç‰ˆæœ¬: 2
2025-12-13T15:41:01.848441Z  INFO src/im/friend.rs:554: [FriendSync/HTTP]   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-13T15:41:01.848457Z  INFO src/im/friend.rs:927: [FriendSync] å¼€å§‹åŒæ­¥å¥½å‹ï¼ŒæœåŠ¡å™¨å¥½å‹æ•°: 0, æœ¬åœ°å¥½å‹æ•°: 1
2025-12-13T15:41:01.848478Z  INFO src/im/friend.rs:997: [FriendSync] å¥½å‹åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-13T15:41:01.848551Z DEBUG src/im/conversation.rs:411: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-13T15:41:01.848569Z DEBUG src/im/conversation.rs:1837: [ConvSync] full_sync -> on_sync_server_start(reinstalled=false)
2025-12-13T15:41:01.848578Z  INFO src/bin/openim-cli.rs:87: [CLI] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-13T15:41:01.848588Z DEBUG src/im/conversation.rs:1842: [ConvSync] full_sync -> on_sync_server_progress(10)
2025-12-13T15:41:01.848597Z  INFO src/bin/openim-cli.rs:95: [CLI] ğŸ“Š åŒæ­¥è¿›åº¦: 10%
2025-12-13T15:41:01.848617Z  INFO src/im/conversation.rs:1211: [ConvSync/HTTP] ğŸ“¡ è¯·æ±‚å…¨é‡ä¼šè¯åŒæ­¥
2025-12-13T15:41:01.848627Z DEBUG src/im/conversation.rs:1212: [ConvSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/conversation/get_all_conversations
2025-12-13T15:41:01.848637Z DEBUG src/im/conversation.rs:1213: [ConvSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:41:01.848647Z DEBUG src/im/conversation.rs:1214: [ConvSync/HTTP]   æ“ä½œID: 5ec9ad43-f666-4761-b96f-092b4ca1458a
2025-12-13T15:41:01.848987Z  INFO src/im/friend.rs:1173: [FriendSync] å·²æ›´æ–°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2 -> 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-13T15:41:01.849005Z  INFO src/im/friend.rs:1179: [FriendSync] âœ… å¢é‡åŒæ­¥å¥½å‹å®Œæˆ
2025-12-13T15:41:01.849022Z  INFO src/im/friend.rs:774: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚é»‘åå•åˆ—è¡¨
2025-12-13T15:41:01.849040Z DEBUG src/im/friend.rs:775: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_black_list
2025-12-13T15:41:01.849051Z DEBUG src/im/friend.rs:776: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:41:01.849063Z DEBUG src/im/friend.rs:777: [FriendSync/HTTP]   æ“ä½œID: 7529d0a3-a56f-4d0a-b34e-0c55be78e37b
2025-12-13T15:41:01.849538Z DEBUG src/im/conversation.rs:1236: [ConvSync/HTTP] å…¨é‡ä¼šè¯åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:41:01.849618Z  INFO src/im/conversation.rs:1273: [ConvSync/HTTP] âœ… å…¨é‡ä¼šè¯åŒæ­¥å“åº”
2025-12-13T15:41:01.849632Z  INFO src/im/conversation.rs:1274: [ConvSync/HTTP]   ä¼šè¯æ•°: 2
2025-12-13T15:41:01.849646Z DEBUG src/im/conversation.rs:1275: [ConvSync/HTTP]   ä¼šè¯è¯¦æƒ…: ["si_1056224172_3217717393", "sg_3250046082"]
2025-12-13T15:41:01.849664Z  INFO src/im/conversation.rs:1858: [ConvSync] ä»æœåŠ¡å™¨è·å–åˆ° 2 ä¸ªä¼šè¯
2025-12-13T15:41:01.849675Z  INFO src/bin/openim-cli.rs:95: [CLI] ğŸ“Š åŒæ­¥è¿›åº¦: 30%
2025-12-13T15:41:01.849688Z DEBUG src/im/conversation.rs:1870: [ConvSync] å·²è½¬æ¢ 2 ä¸ªä¼šè¯ä¸ºæœ¬åœ°æ ¼å¼
2025-12-13T15:41:01.849699Z DEBUG src/im/conversation.rs:1874: [ConvSync] full_sync -> on_sync_server_progress(50)
2025-12-13T15:41:01.849709Z  INFO src/bin/openim-cli.rs:95: [CLI] ğŸ“Š åŒæ­¥è¿›åº¦: 50%
2025-12-13T15:41:01.849941Z DEBUG src/im/conversation.rs:392: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:41:01.849958Z  INFO src/im/conversation.rs:1879: [ConvSync] æœ¬åœ°å·²æœ‰ 2 ä¸ªä¼šè¯
2025-12-13T15:41:01.849973Z  INFO src/im/conversation.rs:771: [ConvSync/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-13T15:41:01.849983Z DEBUG src/im/conversation.rs:772: [ConvSync/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-13T15:41:01.849995Z DEBUG src/im/conversation.rs:773: [ConvSync/Seq]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:41:01.850008Z DEBUG src/im/conversation.rs:774: [ConvSync/Seq]   æ“ä½œID: 53cedd4a-d096-4d15-806d-3dae223de9c5
2025-12-13T15:41:01.850154Z DEBUG src/im/friend.rs:799: [FriendSync/HTTP] é»‘åå•åˆ—è¡¨è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:41:01.850190Z  INFO src/im/friend.rs:831: [FriendSync/HTTP] âœ… é»‘åå•åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-13T15:41:01.850206Z  INFO src/bin/openim-cli.rs:130: [CLI] ğŸš« é»‘åå•å˜æ›´: null
2025-12-13T15:41:01.850220Z  INFO src/im/friend.rs:855: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚å¥½å‹ç”³è¯·åˆ—è¡¨
2025-12-13T15:41:01.850233Z DEBUG src/im/friend.rs:856: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_friend_apply_list
2025-12-13T15:41:01.850245Z DEBUG src/im/friend.rs:857: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:41:01.850256Z DEBUG src/im/friend.rs:858: [FriendSync/HTTP]   æ“ä½œID: 587bcd4b-ad3e-4c60-8624-69637160deff
2025-12-13T15:41:01.850925Z DEBUG src/im/conversation.rs:796: [ConvSync/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:41:01.850988Z  INFO src/im/conversation.rs:803: [ConvSync/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-13T15:41:01.851031Z  INFO src/im/conversation.rs:826: [ConvSync/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data å­—æ®µ: {
  "pinnedConversationIDs": null,
  "seqs": {
    "sg_3250046082": {
      "hasReadSeq": 13,
      "maxSeq": 26,
      "maxSeqTime": 1765380998099
    },
    "si_1056224172_3217717393": {
      "hasReadSeq": 19,
      "maxSeq": 43,
      "maxSeqTime": 1765637683035
    }
  }
}
2025-12-13T15:41:01.851050Z  INFO src/im/conversation.rs:835: [ConvSync/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-13T15:41:01.851063Z  INFO src/im/conversation.rs:847: [ConvSync/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-13T15:41:01.851082Z  INFO src/im/conversation.rs:847: [ConvSync/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-13T15:41:01.851107Z  INFO src/im/conversation.rs:897: [ConvSync/Seq] âœ… ä¼šè¯ Seq è§£æå®Œæˆï¼ŒæˆåŠŸè§£æ 2 ä¸ªä¼šè¯
2025-12-13T15:41:01.851124Z  INFO src/im/conversation.rs:1884: [ConvSync] è·å–åˆ° 2 ä¸ªä¼šè¯çš„ seqs ä¿¡æ¯ï¼Œç”¨äºè®¾ç½®æœªè¯»æ•°
2025-12-13T15:41:01.851136Z  INFO src/im/conversation.rs:1479: [ConvSync] å¼€å§‹åŒæ­¥ä¼šè¯ï¼ŒæœåŠ¡å™¨ä¼šè¯æ•°: 2, æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-13T15:41:01.851158Z  INFO src/im/conversation.rs:1507: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-13T15:41:01.851204Z  INFO src/im/conversation.rs:1507: [ConvSync]   ä¼šè¯ sg_3250046082 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-13T15:41:01.851232Z DEBUG src/im/conversation.rs:1544: [ConvSync]   ä¼šè¯ sg_3250046082 æ— éœ€æ›´æ–°
2025-12-13T15:41:01.851241Z DEBUG src/im/conversation.rs:1544: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ— éœ€æ›´æ–°
2025-12-13T15:41:01.851259Z  INFO src/im/conversation.rs:1593: [ConvSync] ä¼šè¯åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-13T15:41:01.851273Z DEBUG src/im/conversation.rs:1899: [ConvSync] full_sync -> on_sync_server_progress(80)
2025-12-13T15:41:01.851284Z  INFO src/bin/openim-cli.rs:95: [CLI] ğŸ“Š åŒæ­¥è¿›åº¦: 80%
2025-12-13T15:41:01.851605Z DEBUG src/im/friend.rs:880: [FriendSync/HTTP] å¥½å‹ç”³è¯·åˆ—è¡¨è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:41:01.851652Z  INFO src/im/friend.rs:912: [FriendSync/HTTP] âœ… å¥½å‹ç”³è¯·åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-13T15:41:01.851670Z  INFO src/bin/openim-cli.rs:134: [CLI] ğŸ“ å¥½å‹ç”³è¯·å˜æ›´: []
2025-12-13T15:41:01.851679Z  INFO src/im/client.rs:323: [Client] âœ… å¥½å‹åŒæ­¥å®Œæˆ
2025-12-13T15:41:01.855184Z  INFO src/im/conversation.rs:1910: [ConvSync] å·²æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 06f676cf-3f01-4b6d-98c6-fc249eeaded3
2025-12-13T15:41:01.855202Z DEBUG src/im/conversation.rs:1915: [ConvSync] full_sync -> on_sync_server_progress(100)
2025-12-13T15:41:01.855213Z  INFO src/bin/openim-cli.rs:95: [CLI] ğŸ“Š åŒæ­¥è¿›åº¦: 100%
2025-12-13T15:41:01.855225Z DEBUG src/im/conversation.rs:1917: [ConvSync] full_sync -> on_sync_server_finish(reinstalled=false)
2025-12-13T15:41:01.855237Z  INFO src/bin/openim-cli.rs:91: [CLI] âœ… åŒæ­¥å®Œæˆ: reinstalled=false
2025-12-13T15:41:01.855248Z  INFO src/im/conversation.rs:906: [ConvSync/Seq] ğŸ”„ å¼€å§‹æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°...
2025-12-13T15:41:01.855546Z DEBUG src/im/conversation.rs:392: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:41:01.855574Z  INFO src/im/conversation.rs:771: [ConvSync/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-13T15:41:01.855587Z DEBUG src/im/conversation.rs:772: [ConvSync/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-13T15:41:01.855597Z DEBUG src/im/conversation.rs:773: [ConvSync/Seq]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:41:01.855608Z DEBUG src/im/conversation.rs:774: [ConvSync/Seq]   æ“ä½œID: b0c6fc16-372a-4198-9b0e-35c145206f16
2025-12-13T15:41:01.856604Z DEBUG src/im/conversation.rs:796: [ConvSync/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:41:01.856666Z  INFO src/im/conversation.rs:803: [ConvSync/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-13T15:41:01.856730Z  INFO src/im/conversation.rs:826: [ConvSync/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data å­—æ®µ: {
  "pinnedConversationIDs": null,
  "seqs": {
    "sg_3250046082": {
      "hasReadSeq": 13,
      "maxSeq": 26,
      "maxSeqTime": 1765380998099
    },
    "si_1056224172_3217717393": {
      "hasReadSeq": 19,
      "maxSeq": 43,
      "maxSeqTime": 1765637683035
    }
  }
}
2025-12-13T15:41:01.856760Z  INFO src/im/conversation.rs:835: [ConvSync/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-13T15:41:01.856791Z  INFO src/im/conversation.rs:847: [ConvSync/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-13T15:41:01.856817Z  INFO src/im/conversation.rs:847: [ConvSync/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-13T15:41:01.856837Z  INFO src/im/conversation.rs:897: [ConvSync/Seq] âœ… ä¼šè¯ Seq è§£æå®Œæˆï¼ŒæˆåŠŸè§£æ 2 ä¸ªä¼šè¯
2025-12-13T15:41:01.856903Z  INFO src/im/conversation.rs:927: [ConvSync/Seq] ğŸ”„ å¼€å§‹æ ¡æ­£æœªè¯»æ•°ï¼ŒæœåŠ¡å™¨è¿”å› 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-13T15:41:01.856939Z DEBUG src/im/conversation.rs:947: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=sg_3250046082, unreadCount=13, maxSeq=26
2025-12-13T15:41:01.856955Z DEBUG src/im/conversation.rs:947: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=si_1056224172_3217717393, unreadCount=24, maxSeq=43
2025-12-13T15:41:01.856972Z  INFO src/im/conversation.rs:962: [ConvSync/Seq] ğŸ“Š æœªè¯»æ•°æ ¡æ­£ç»Ÿè®¡: å·²æ›´æ–° 0 ä¸ªä¼šè¯ï¼Œå‘ç° 0 ä¸ªæœ¬åœ°ç¼ºå¤±ä¼šè¯
2025-12-13T15:41:01.857228Z  INFO src/im/conversation.rs:970: [ConvSync/Seq] ğŸ“Š æ ¡æ­£å‰æ€»æœªè¯»æ•°: 37
2025-12-13T15:41:01.857245Z  INFO src/im/conversation.rs:1054: [ConvSync/Seq] â„¹ï¸ æ— ä¼šè¯å˜æ›´ï¼Œè·³è¿‡å›è°ƒ
2025-12-13T15:41:01.857254Z  INFO src/im/conversation.rs:1057: [ConvSync/Seq] âœ… æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°å®Œæˆ
2025-12-13T15:41:01.857266Z  INFO src/im/conversation.rs:1928: [ConvSync] âœ… å…¨é‡åŒæ­¥å®Œæˆ

2025-12-13T15:41:01.857279Z  INFO src/im/client.rs:303: [Client] âœ… ä¼šè¯åŒæ­¥å®Œæˆ
2025-12-13T15:43:15.860800Z  INFO src/bin/openim-cli.rs:77: ğŸ“ æ—¥å¿—å·²åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶: debug.log
2025-12-13T15:43:15.860825Z  INFO src/bin/openim-cli.rs:193: ğŸš€ OpenIM CLI å®¢æˆ·ç«¯ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰
2025-12-13T15:43:15.860835Z  INFO src/bin/openim-cli.rs:194: ğŸ“± æ‰‹æœºå·: 17764338283
2025-12-13T15:43:15.860844Z  INFO src/bin/openim-cli.rs:195: â±ï¸  è¿è¡Œæ—¶é•¿: 0 ç§’ï¼ˆ0=æŒç»­è¿è¡Œï¼‰
2025-12-13T15:43:15.860853Z  INFO src/bin/openim-cli.rs:198: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T15:43:15.861118Z  INFO src/im/auth.rs:48: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T15:43:15.861131Z DEBUG src/im/auth.rs:49:    URL: http://localhost:10008/account/login
2025-12-13T15:43:15.861140Z DEBUG src/im/auth.rs:50:    æ‰‹æœºå·: 17764338283
2025-12-13T15:43:15.861149Z DEBUG src/im/auth.rs:51:    OperationID: ceb598d4-e1c4-4193-b9c8-cc1743687081
2025-12-13T15:43:15.866167Z DEBUG src/im/auth.rs:83: âœ… ç™»å½•å“åº”: {"errCode":0,"errMsg":"","errDlt":"","data":{"imToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiUGxhdGZvcm1JRCI6NSwiZXhwIjoxNzczNDE2NTk1LCJpYXQiOjE3NjU2NDA1OTB9.9pVyhR0OyPHIWyQkqJXZdTMiiVZ6hvgr3LPYb3t0blI","chatToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiVXNlclR5cGUiOjEsIlBsYXRmb3JtSUQiOjAsImV4cCI6MTc3MzQxNjU5NSwibmJmIjoxNzY1NjQwNTM1LCJpYXQiOjE3NjU2NDA1OTV9.pkJTdqqMa3jANDMIGh2d1UzQyNiDsmkOfF4A6N3Ipik","userID":"3217717393"}}
2025-12-13T15:43:15.866246Z  INFO src/bin/openim-cli.rs:213: âœ… ç™»å½•æˆåŠŸï¼ç”¨æˆ·ID: 3217717393
2025-12-13T15:43:15.866278Z  INFO src/bin/openim-cli.rs:225: ğŸ”— æ­£åœ¨è¿æ¥æœåŠ¡å™¨...
2025-12-13T15:43:15.866319Z  INFO src/im/client.rs:236: [Client] ğŸ”— è¿æ¥åˆ° OpenIM Server (user=3217717393, platform=5)
2025-12-13T15:43:15.867114Z  INFO src/im/client.rs:242: [Client] âœ… WebSocket è¿æ¥æˆåŠŸ, çŠ¶æ€: 101 Switching Protocols
2025-12-13T15:43:15.867147Z  INFO src/im/client.rs:255: [Client] âœ… æœåŠ¡å™¨è¿æ¥é‰´æƒæˆåŠŸ
2025-12-13T15:43:15.867174Z  INFO src/im/client.rs:268: [Client] ğŸ’“ å¯åŠ¨å¿ƒè·³
2025-12-13T15:43:15.867183Z  INFO src/im/client.rs:269: [Client] ğŸ“¥ å¼€å§‹ç›‘å¬æœåŠ¡å™¨æ¶ˆæ¯
2025-12-13T15:43:15.867192Z  INFO src/im/client.rs:272: [Client] ğŸ”— åˆ›å»ºå…±äº«æ•°æ®åº“è¿æ¥: sqlite://conversations.db?mode=rwc
2025-12-13T15:43:15.867216Z  INFO src/bin/openim-cli.rs:173: [CLI] ğŸ”— å·²è¿æ¥: è¿æ¥æˆåŠŸ
2025-12-13T15:43:15.867961Z  INFO src/im/client.rs:283: [Client] ğŸ“‹ åˆå§‹åŒ–æ•°æ®åº“è¡¨ç»“æ„
2025-12-13T15:43:15.867985Z  INFO src/im/conversation.rs:244: [ConvSync/DB] åˆå§‹åŒ–ä¼šè¯æ•°æ®åº“è¡¨ç»“æ„
2025-12-13T15:43:15.868295Z  INFO src/im/conversation.rs:293: [ConvSync/DB] æ•°æ®åº“è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-13T15:43:15.868313Z  INFO src/im/friend.rs:171: [FriendSync/DB] åˆå§‹åŒ–å¥½å‹è¡¨ç»“æ„
2025-12-13T15:43:15.868398Z  INFO src/im/friend.rs:194: [FriendSync/DB] å¥½å‹è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-13T15:43:15.868412Z  INFO src/im/conversation.rs:226: [ConvSync] åˆ›å»ºä¼šè¯åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-13T15:43:15.868501Z  INFO src/im/friend.rs:151: [FriendSync/DB] åˆ›å»ºå¥½å‹åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-13T15:43:15.868528Z  INFO src/im/client.rs:300: [Client] ğŸ”„ å¯åŠ¨ä¼šè¯å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-13T15:43:15.868567Z  INFO src/im/client.rs:320: [Client] ğŸ”„ å¯åŠ¨å¥½å‹å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-13T15:43:15.868598Z  INFO src/im/conversation.rs:1619: [ConvSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥ä¼šè¯...
2025-12-13T15:43:15.868631Z  INFO src/im/friend.rs:1018: [FriendSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥å¥½å‹...
2025-12-13T15:43:15.868891Z DEBUG src/im/conversation.rs:1625: [ConvSync] æœ¬åœ°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 06f676cf-3f01-4b6d-98c6-fc249eeaded3
2025-12-13T15:43:15.868935Z  INFO src/bin/openim-cli.rs:233: âœ… è¿æ¥æˆåŠŸï¼
2025-12-13T15:43:15.868951Z DEBUG src/im/conversation.rs:1980: [ConvSync] è·å–æ‰€æœ‰ä¼šè¯åˆ—è¡¨
2025-12-13T15:43:15.868961Z DEBUG src/im/conversation.rs:1938: [ConvSync] è·å–ä¼šè¯åˆ—è¡¨ï¼Œåç§»: 0, æ•°é‡: 18446744073709551615
2025-12-13T15:43:15.869097Z DEBUG src/im/friend.rs:1023: [FriendSync] æœ¬åœ°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-13T15:43:15.869391Z DEBUG src/im/conversation.rs:392: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:43:15.869593Z DEBUG src/im/conversation.rs:392: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:43:15.869610Z DEBUG src/im/conversation.rs:1945: [ConvSync] è¿‡æ»¤åä¼šè¯æ•°: 0 (è¿‡æ»¤æ‰æ— æ¶ˆæ¯æ—¶é—´çš„ä¼šè¯)
2025-12-13T15:43:15.869619Z DEBUG src/im/conversation.rs:1969: [ConvSync] è¿”å› 0 ä¸ªä¼šè¯ (èŒƒå›´: 0 - 0)
2025-12-13T15:43:15.869629Z  INFO src/bin/openim-cli.rs:239: ğŸ“‹ ä¼šè¯åˆ—è¡¨ï¼ˆå…± 0 ä¸ªï¼‰:
2025-12-13T15:43:15.869792Z DEBUG src/im/friend.rs:255: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-13T15:43:15.870018Z DEBUG src/im/conversation.rs:411: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-13T15:43:15.870038Z  INFO src/im/conversation.rs:1636: [ConvSync] æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-13T15:43:15.870049Z  INFO src/im/conversation.rs:1723: [ConvSync] ä½¿ç”¨å¢é‡åŒæ­¥ï¼Œç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 06f676cf-3f01-4b6d-98c6-fc249eeaded3
2025-12-13T15:43:15.870061Z  INFO src/bin/openim-cli.rs:87: [CLI] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-13T15:43:15.870071Z  INFO src/bin/openim-cli.rs:95: [CLI] ğŸ“Š åŒæ­¥è¿›åº¦: 10%
2025-12-13T15:43:15.870108Z  INFO src/im/conversation.rs:1080: [ConvSync/HTTP] ğŸ“¡ è¯·æ±‚å¢é‡ä¼šè¯åŒæ­¥
   è¯·æ±‚URL: http://localhost:10002/conversation/get_incremental_conversations
   ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 06f676cf-3f01-4b6d-98c6-fc249eeaded3
   ç”¨æˆ·ID: 3217717393
   æ“ä½œID: d049e69f-e6ab-4abd-8e73-bdeb557e322b
2025-12-13T15:43:15.870381Z DEBUG src/im/friend.rs:255: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-13T15:43:15.870398Z  INFO src/bin/openim-cli.rs:255: ğŸ‘¥ å¥½å‹åˆ—è¡¨ï¼ˆå…± 1 ä¸ªï¼‰
2025-12-13T15:43:15.870543Z DEBUG src/im/friend.rs:274: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹IDåˆ—è¡¨ï¼Œå…± 1 ä¸ª
2025-12-13T15:43:15.870579Z  INFO src/im/friend.rs:455: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚å¢é‡å¥½å‹åŒæ­¥
2025-12-13T15:43:15.870595Z DEBUG src/im/friend.rs:456: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_incremental_friends
2025-12-13T15:43:15.870604Z DEBUG src/im/friend.rs:457: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:43:15.870613Z DEBUG src/im/friend.rs:458: [FriendSync/HTTP]   æ“ä½œID: f5154a1f-e332-447f-95d5-15d8b15eb020
2025-12-13T15:43:15.870886Z  INFO src/bin/openim-cli.rs:259: ğŸ“¬ æ€»æœªè¯»æ•°: 37
2025-12-13T15:43:15.870901Z  INFO src/bin/openim-cli.rs:263: ğŸ“¥ å¼€å§‹ç›‘å¬æ¶ˆæ¯...
2025-12-13T15:43:15.870909Z  INFO src/bin/openim-cli.rs:264: ğŸ’¡ æç¤ºï¼šç¨‹åºå°†æŒç»­è¿è¡Œå¹¶æ˜¾ç¤ºæ¥æ”¶åˆ°çš„æ‰€æœ‰æ¶ˆæ¯å’Œäº‹ä»¶
2025-12-13T15:43:15.870919Z  INFO src/bin/openim-cli.rs:270: â° æŒç»­è¿è¡Œä¸­ï¼ŒæŒ‰ Ctrl+C é€€å‡º
2025-12-13T15:43:15.871444Z DEBUG src/im/conversation.rs:1108: [ConvSync/HTTP] å¢é‡ä¼šè¯åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:43:15.871508Z  INFO src/im/conversation.rs:1182: [ConvSync/HTTP] âœ… å¢é‡ä¼šè¯åŒæ­¥å“åº”
2025-12-13T15:43:15.871521Z  INFO src/im/conversation.rs:1183: [ConvSync/HTTP]   å…¨é‡åŒæ­¥: true
2025-12-13T15:43:15.871531Z  INFO src/im/conversation.rs:1184: [ConvSync/HTTP]   ç‰ˆæœ¬ID: 68e1e4982a00312739a80eef
2025-12-13T15:43:15.871541Z  INFO src/im/conversation.rs:1185: [ConvSync/HTTP]   ç‰ˆæœ¬: 3
2025-12-13T15:43:15.871550Z  INFO src/im/conversation.rs:1186: [ConvSync/HTTP]   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-13T15:43:15.871560Z DEBUG src/im/conversation.rs:1192: [ConvSync/HTTP]   åˆ é™¤çš„ä¼šè¯ID: []
2025-12-13T15:43:15.871575Z  INFO src/bin/openim-cli.rs:95: [CLI] ğŸ“Š åŒæ­¥è¿›åº¦: 50%
2025-12-13T15:43:15.871588Z  WARN src/im/conversation.rs:1749: [ConvSync]   æœåŠ¡å™¨è¦æ±‚å…¨é‡åŒæ­¥...
2025-12-13T15:43:15.871598Z  INFO src/im/conversation.rs:1834: [ConvSync] ğŸ”„ å¼€å§‹å…¨é‡åŒæ­¥ä¼šè¯...
2025-12-13T15:43:15.871746Z DEBUG src/im/friend.rs:480: [FriendSync/HTTP] å¢é‡å¥½å‹åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:43:15.871798Z  INFO src/im/friend.rs:549: [FriendSync/HTTP] âœ… å¢é‡å¥½å‹åŒæ­¥å“åº”
2025-12-13T15:43:15.871811Z  INFO src/im/friend.rs:550: [FriendSync/HTTP]   å…¨é‡åŒæ­¥: false, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa, ç‰ˆæœ¬: 2
2025-12-13T15:43:15.871821Z  INFO src/im/friend.rs:554: [FriendSync/HTTP]   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-13T15:43:15.871835Z  INFO src/im/friend.rs:927: [FriendSync] å¼€å§‹åŒæ­¥å¥½å‹ï¼ŒæœåŠ¡å™¨å¥½å‹æ•°: 0, æœ¬åœ°å¥½å‹æ•°: 1
2025-12-13T15:43:15.871852Z  INFO src/im/friend.rs:997: [FriendSync] å¥½å‹åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-13T15:43:15.871859Z DEBUG src/im/conversation.rs:411: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-13T15:43:15.871881Z DEBUG src/im/conversation.rs:1837: [ConvSync] full_sync -> on_sync_server_start(reinstalled=false)
2025-12-13T15:43:15.871894Z  INFO src/bin/openim-cli.rs:87: [CLI] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-13T15:43:15.871906Z DEBUG src/im/conversation.rs:1842: [ConvSync] full_sync -> on_sync_server_progress(10)
2025-12-13T15:43:15.871919Z  INFO src/bin/openim-cli.rs:95: [CLI] ğŸ“Š åŒæ­¥è¿›åº¦: 10%
2025-12-13T15:43:15.871953Z  INFO src/im/conversation.rs:1211: [ConvSync/HTTP] ğŸ“¡ è¯·æ±‚å…¨é‡ä¼šè¯åŒæ­¥
2025-12-13T15:43:15.871966Z DEBUG src/im/conversation.rs:1212: [ConvSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/conversation/get_all_conversations
2025-12-13T15:43:15.871977Z DEBUG src/im/conversation.rs:1213: [ConvSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:43:15.871991Z DEBUG src/im/conversation.rs:1214: [ConvSync/HTTP]   æ“ä½œID: b88732df-4c8f-46dd-8cc4-67b2206d720f
2025-12-13T15:43:15.872334Z  INFO src/im/friend.rs:1173: [FriendSync] å·²æ›´æ–°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2 -> 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-13T15:43:15.872350Z  INFO src/im/friend.rs:1179: [FriendSync] âœ… å¢é‡åŒæ­¥å¥½å‹å®Œæˆ
2025-12-13T15:43:15.872367Z  INFO src/im/friend.rs:774: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚é»‘åå•åˆ—è¡¨
2025-12-13T15:43:15.872380Z DEBUG src/im/friend.rs:775: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_black_list
2025-12-13T15:43:15.872394Z DEBUG src/im/friend.rs:776: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:43:15.872408Z DEBUG src/im/friend.rs:777: [FriendSync/HTTP]   æ“ä½œID: 94c1de02-a46d-42e6-8f08-9ce48220bf03
2025-12-13T15:43:15.872897Z DEBUG src/im/conversation.rs:1236: [ConvSync/HTTP] å…¨é‡ä¼šè¯åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:43:15.872994Z  INFO src/im/conversation.rs:1273: [ConvSync/HTTP] âœ… å…¨é‡ä¼šè¯åŒæ­¥å“åº”
2025-12-13T15:43:15.873010Z  INFO src/im/conversation.rs:1274: [ConvSync/HTTP]   ä¼šè¯æ•°: 2
2025-12-13T15:43:15.873022Z DEBUG src/im/conversation.rs:1275: [ConvSync/HTTP]   ä¼šè¯è¯¦æƒ…: ["sg_3250046082", "si_1056224172_3217717393"]
2025-12-13T15:43:15.873039Z  INFO src/im/conversation.rs:1858: [ConvSync] ä»æœåŠ¡å™¨è·å–åˆ° 2 ä¸ªä¼šè¯
2025-12-13T15:43:15.873048Z  INFO src/bin/openim-cli.rs:95: [CLI] ğŸ“Š åŒæ­¥è¿›åº¦: 30%
2025-12-13T15:43:15.873059Z DEBUG src/im/conversation.rs:1870: [ConvSync] å·²è½¬æ¢ 2 ä¸ªä¼šè¯ä¸ºæœ¬åœ°æ ¼å¼
2025-12-13T15:43:15.873068Z DEBUG src/im/conversation.rs:1874: [ConvSync] full_sync -> on_sync_server_progress(50)
2025-12-13T15:43:15.873076Z  INFO src/bin/openim-cli.rs:95: [CLI] ğŸ“Š åŒæ­¥è¿›åº¦: 50%
2025-12-13T15:43:15.873292Z DEBUG src/im/conversation.rs:392: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:43:15.873309Z  INFO src/im/conversation.rs:1879: [ConvSync] æœ¬åœ°å·²æœ‰ 2 ä¸ªä¼šè¯
2025-12-13T15:43:15.873323Z  INFO src/im/conversation.rs:771: [ConvSync/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-13T15:43:15.873334Z DEBUG src/im/conversation.rs:772: [ConvSync/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-13T15:43:15.873345Z DEBUG src/im/conversation.rs:773: [ConvSync/Seq]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:43:15.873354Z DEBUG src/im/conversation.rs:774: [ConvSync/Seq]   æ“ä½œID: 7a1e0784-7a56-4eb0-b837-af7fc4937671
2025-12-13T15:43:15.873554Z DEBUG src/im/friend.rs:799: [FriendSync/HTTP] é»‘åå•åˆ—è¡¨è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:43:15.873591Z  INFO src/im/friend.rs:831: [FriendSync/HTTP] âœ… é»‘åå•åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-13T15:43:15.873607Z  INFO src/bin/openim-cli.rs:130: [CLI] ğŸš« é»‘åå•å˜æ›´: null
2025-12-13T15:43:15.873620Z  INFO src/im/friend.rs:855: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚å¥½å‹ç”³è¯·åˆ—è¡¨
2025-12-13T15:43:15.873630Z DEBUG src/im/friend.rs:856: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_friend_apply_list
2025-12-13T15:43:15.873639Z DEBUG src/im/friend.rs:857: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:43:15.873649Z DEBUG src/im/friend.rs:858: [FriendSync/HTTP]   æ“ä½œID: e47f0028-d81b-4eab-908c-02a4e22d4ae2
2025-12-13T15:43:15.874211Z DEBUG src/im/conversation.rs:796: [ConvSync/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:43:15.874260Z  INFO src/im/conversation.rs:803: [ConvSync/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-13T15:43:15.874307Z  INFO src/im/conversation.rs:826: [ConvSync/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data å­—æ®µ: {
  "pinnedConversationIDs": null,
  "seqs": {
    "sg_3250046082": {
      "hasReadSeq": 13,
      "maxSeq": 26,
      "maxSeqTime": 1765380998099
    },
    "si_1056224172_3217717393": {
      "hasReadSeq": 19,
      "maxSeq": 43,
      "maxSeqTime": 1765637683035
    }
  }
}
2025-12-13T15:43:15.874325Z  INFO src/im/conversation.rs:835: [ConvSync/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-13T15:43:15.874337Z  INFO src/im/conversation.rs:847: [ConvSync/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-13T15:43:15.874352Z  INFO src/im/conversation.rs:847: [ConvSync/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-13T15:43:15.874363Z  INFO src/im/conversation.rs:897: [ConvSync/Seq] âœ… ä¼šè¯ Seq è§£æå®Œæˆï¼ŒæˆåŠŸè§£æ 2 ä¸ªä¼šè¯
2025-12-13T15:43:15.874376Z  INFO src/im/conversation.rs:1884: [ConvSync] è·å–åˆ° 2 ä¸ªä¼šè¯çš„ seqs ä¿¡æ¯ï¼Œç”¨äºè®¾ç½®æœªè¯»æ•°
2025-12-13T15:43:15.874387Z  INFO src/im/conversation.rs:1479: [ConvSync] å¼€å§‹åŒæ­¥ä¼šè¯ï¼ŒæœåŠ¡å™¨ä¼šè¯æ•°: 2, æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-13T15:43:15.874407Z  INFO src/im/conversation.rs:1507: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-13T15:43:15.874428Z  INFO src/im/conversation.rs:1507: [ConvSync]   ä¼šè¯ sg_3250046082 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-13T15:43:15.874440Z DEBUG src/im/conversation.rs:1544: [ConvSync]   ä¼šè¯ sg_3250046082 æ— éœ€æ›´æ–°
2025-12-13T15:43:15.874450Z DEBUG src/im/conversation.rs:1544: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ— éœ€æ›´æ–°
2025-12-13T15:43:15.874467Z  INFO src/im/conversation.rs:1593: [ConvSync] ä¼šè¯åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-13T15:43:15.874483Z DEBUG src/im/conversation.rs:1899: [ConvSync] full_sync -> on_sync_server_progress(80)
2025-12-13T15:43:15.874494Z  INFO src/bin/openim-cli.rs:95: [CLI] ğŸ“Š åŒæ­¥è¿›åº¦: 80%
2025-12-13T15:43:15.875118Z DEBUG src/im/friend.rs:880: [FriendSync/HTTP] å¥½å‹ç”³è¯·åˆ—è¡¨è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:43:15.875182Z  INFO src/im/friend.rs:912: [FriendSync/HTTP] âœ… å¥½å‹ç”³è¯·åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-13T15:43:15.875205Z  INFO src/bin/openim-cli.rs:134: [CLI] ğŸ“ å¥½å‹ç”³è¯·å˜æ›´: []
2025-12-13T15:43:15.875219Z  INFO src/im/client.rs:323: [Client] âœ… å¥½å‹åŒæ­¥å®Œæˆ
2025-12-13T15:43:15.878729Z  INFO src/im/conversation.rs:1910: [ConvSync] å·²æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 21340a81-a3da-4308-8bd3-806f46e708ac
2025-12-13T15:43:15.878751Z DEBUG src/im/conversation.rs:1915: [ConvSync] full_sync -> on_sync_server_progress(100)
2025-12-13T15:43:15.878766Z  INFO src/bin/openim-cli.rs:95: [CLI] ğŸ“Š åŒæ­¥è¿›åº¦: 100%
2025-12-13T15:43:15.878782Z DEBUG src/im/conversation.rs:1917: [ConvSync] full_sync -> on_sync_server_finish(reinstalled=false)
2025-12-13T15:43:15.878799Z  INFO src/bin/openim-cli.rs:91: [CLI] âœ… åŒæ­¥å®Œæˆ: reinstalled=false
2025-12-13T15:43:15.878816Z  INFO src/im/conversation.rs:906: [ConvSync/Seq] ğŸ”„ å¼€å§‹æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°...
2025-12-13T15:43:15.879136Z DEBUG src/im/conversation.rs:392: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T15:43:15.879170Z  INFO src/im/conversation.rs:771: [ConvSync/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-13T15:43:15.879186Z DEBUG src/im/conversation.rs:772: [ConvSync/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-13T15:43:15.879203Z DEBUG src/im/conversation.rs:773: [ConvSync/Seq]   ç”¨æˆ·ID: 3217717393
2025-12-13T15:43:15.879218Z DEBUG src/im/conversation.rs:774: [ConvSync/Seq]   æ“ä½œID: 9c829f49-b9b4-4fff-93d2-e146a4891818
2025-12-13T15:43:15.880313Z DEBUG src/im/conversation.rs:796: [ConvSync/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T15:43:15.880370Z  INFO src/im/conversation.rs:803: [ConvSync/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-13T15:43:15.880411Z  INFO src/im/conversation.rs:826: [ConvSync/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data å­—æ®µ: {
  "pinnedConversationIDs": null,
  "seqs": {
    "sg_3250046082": {
      "hasReadSeq": 13,
      "maxSeq": 26,
      "maxSeqTime": 1765380998099
    },
    "si_1056224172_3217717393": {
      "hasReadSeq": 19,
      "maxSeq": 43,
      "maxSeqTime": 1765637683035
    }
  }
}
2025-12-13T15:43:15.880429Z  INFO src/im/conversation.rs:835: [ConvSync/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-13T15:43:15.880441Z  INFO src/im/conversation.rs:847: [ConvSync/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-13T15:43:15.880455Z  INFO src/im/conversation.rs:847: [ConvSync/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-13T15:43:15.880465Z  INFO src/im/conversation.rs:897: [ConvSync/Seq] âœ… ä¼šè¯ Seq è§£æå®Œæˆï¼ŒæˆåŠŸè§£æ 2 ä¸ªä¼šè¯
2025-12-13T15:43:15.880481Z  INFO src/im/conversation.rs:927: [ConvSync/Seq] ğŸ”„ å¼€å§‹æ ¡æ­£æœªè¯»æ•°ï¼ŒæœåŠ¡å™¨è¿”å› 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-13T15:43:15.880499Z DEBUG src/im/conversation.rs:947: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=sg_3250046082, unreadCount=13, maxSeq=26
2025-12-13T15:43:15.880510Z DEBUG src/im/conversation.rs:947: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=si_1056224172_3217717393, unreadCount=24, maxSeq=43
2025-12-13T15:43:15.880528Z  INFO src/im/conversation.rs:962: [ConvSync/Seq] ğŸ“Š æœªè¯»æ•°æ ¡æ­£ç»Ÿè®¡: å·²æ›´æ–° 0 ä¸ªä¼šè¯ï¼Œå‘ç° 0 ä¸ªæœ¬åœ°ç¼ºå¤±ä¼šè¯
2025-12-13T15:43:15.880731Z  INFO src/im/conversation.rs:970: [ConvSync/Seq] ğŸ“Š æ ¡æ­£å‰æ€»æœªè¯»æ•°: 37
2025-12-13T15:43:15.880745Z  INFO src/im/conversation.rs:1054: [ConvSync/Seq] â„¹ï¸ æ— ä¼šè¯å˜æ›´ï¼Œè·³è¿‡å›è°ƒ
2025-12-13T15:43:15.880754Z  INFO src/im/conversation.rs:1057: [ConvSync/Seq] âœ… æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°å®Œæˆ
2025-12-13T15:43:15.880764Z  INFO src/im/conversation.rs:1928: [ConvSync] âœ… å…¨é‡åŒæ­¥å®Œæˆ

2025-12-13T15:43:15.880777Z  INFO src/im/client.rs:303: [Client] âœ… ä¼šè¯åŒæ­¥å®Œæˆ
2025-12-13T17:01:34.595963Z  INFO src/bin/openim-cli.rs:77: [CLI] ğŸ“ æ—¥å¿—å·²åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶: debug.log
2025-12-13T17:01:34.595988Z  INFO src/bin/openim-cli.rs:201: [CLI] ğŸš€ OpenIM CLI å®¢æˆ·ç«¯ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰
2025-12-13T17:01:34.595999Z  INFO src/bin/openim-cli.rs:202: [CLI] ğŸ“± æ‰‹æœºå·: 17764338283
2025-12-13T17:01:34.596012Z  INFO src/bin/openim-cli.rs:203: [CLI] â±ï¸  è¿è¡Œæ—¶é•¿: 0 ç§’ï¼ˆ0=æŒç»­è¿è¡Œï¼‰
2025-12-13T17:01:34.596024Z  INFO src/bin/openim-cli.rs:206: [CLI] ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T17:01:34.596284Z  INFO src/im/auth.rs:48: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T17:01:34.596299Z DEBUG src/im/auth.rs:49:    URL: http://localhost:10008/account/login
2025-12-13T17:01:34.596311Z DEBUG src/im/auth.rs:50:    æ‰‹æœºå·: 17764338283
2025-12-13T17:01:34.596323Z DEBUG src/im/auth.rs:51:    OperationID: 2a225c97-8b8c-4ee9-a0eb-e45c96d71a4f
2025-12-13T17:01:34.604329Z DEBUG src/im/auth.rs:83: âœ… ç™»å½•å“åº”: {"errCode":0,"errMsg":"","errDlt":"","data":{"imToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiUGxhdGZvcm1JRCI6NSwiZXhwIjoxNzczNDIxMjk0LCJpYXQiOjE3NjU2NDUyODl9.lyXiYNd5lK7cC2rf7HRCt7PkX0MBq_uXgZVcvHP_ZgE","chatToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiVXNlclR5cGUiOjEsIlBsYXRmb3JtSUQiOjAsImV4cCI6MTc3MzQyMTI5NCwibmJmIjoxNzY1NjQ1MjM0LCJpYXQiOjE3NjU2NDUyOTR9.ewNs701YRqQDfOXDE8HtAyQGu-XJAqNfm3ZN7JOK6ew","userID":"3217717393"}}
2025-12-13T17:01:34.604425Z  INFO src/bin/openim-cli.rs:221: [CLI] âœ… ç™»å½•æˆåŠŸï¼ç”¨æˆ·ID: 3217717393
2025-12-13T17:01:34.604460Z  INFO src/bin/openim-cli.rs:233: [CLI] ğŸ”— æ­£åœ¨è¿æ¥æœåŠ¡å™¨...
2025-12-13T17:01:34.604495Z  INFO src/im/client.rs:240: [Client] ğŸ”— è¿æ¥åˆ° OpenIM Server (user=3217717393, platform=5)
2025-12-13T17:01:34.605753Z  INFO src/im/client.rs:246: [Client] âœ… WebSocket è¿æ¥æˆåŠŸ, çŠ¶æ€: 101 Switching Protocols
2025-12-13T17:02:25.044829Z  INFO src/bin/openim-cli.rs:77: [CLI] ğŸ“ æ—¥å¿—å·²åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶: debug.log
2025-12-13T17:02:25.044858Z  INFO src/bin/openim-cli.rs:201: [CLI] ğŸš€ OpenIM CLI å®¢æˆ·ç«¯ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰
2025-12-13T17:02:25.044870Z  INFO src/bin/openim-cli.rs:202: [CLI] ğŸ“± æ‰‹æœºå·: 17764338283
2025-12-13T17:02:25.044882Z  INFO src/bin/openim-cli.rs:203: [CLI] â±ï¸  è¿è¡Œæ—¶é•¿: 0 ç§’ï¼ˆ0=æŒç»­è¿è¡Œï¼‰
2025-12-13T17:02:25.044894Z  INFO src/bin/openim-cli.rs:206: [CLI] ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T17:02:25.045157Z  INFO src/im/auth.rs:48: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T17:02:25.045174Z DEBUG src/im/auth.rs:49:    URL: http://localhost:10008/account/login
2025-12-13T17:02:25.045186Z DEBUG src/im/auth.rs:50:    æ‰‹æœºå·: 17764338283
2025-12-13T17:02:25.045199Z DEBUG src/im/auth.rs:51:    OperationID: a4797724-3c76-471b-ad83-746e9eac8c3f
2025-12-13T17:02:25.049971Z DEBUG src/im/auth.rs:83: âœ… ç™»å½•å“åº”: {"errCode":0,"errMsg":"","errDlt":"","data":{"imToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiUGxhdGZvcm1JRCI6NSwiZXhwIjoxNzczNDIxMzQ1LCJpYXQiOjE3NjU2NDUzNDB9.n8Bfs1XOYVqpQ04L9imYs1IYLIuhRcs0c4eX3kpj_tI","chatToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiVXNlclR5cGUiOjEsIlBsYXRmb3JtSUQiOjAsImV4cCI6MTc3MzQyMTM0NSwibmJmIjoxNzY1NjQ1Mjg1LCJpYXQiOjE3NjU2NDUzNDV9.hfeXdlT_bwP8SFJJCqH4jKmIRYTgpH1rOz5Yn9RY99c","userID":"3217717393"}}
2025-12-13T17:02:25.050078Z  INFO src/bin/openim-cli.rs:221: [CLI] âœ… ç™»å½•æˆåŠŸï¼ç”¨æˆ·ID: 3217717393
2025-12-13T17:02:25.050110Z  INFO src/bin/openim-cli.rs:233: [CLI] ğŸ”— æ­£åœ¨è¿æ¥æœåŠ¡å™¨...
2025-12-13T17:02:25.050148Z  INFO src/im/client.rs:240: [Client] ğŸ”— è¿æ¥åˆ° OpenIM Server (user=3217717393, platform=5)
2025-12-13T17:02:25.050933Z  INFO src/im/client.rs:246: [Client] âœ… WebSocket è¿æ¥æˆåŠŸ, çŠ¶æ€: 101 Switching Protocols
2025-12-13T17:04:49.825266Z  INFO src/bin/openim-cli.rs:77: [CLI] ğŸ“ æ—¥å¿—å·²åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶: debug.log
2025-12-13T17:04:49.825295Z  INFO src/bin/openim-cli.rs:201: [CLI] ğŸš€ OpenIM CLI å®¢æˆ·ç«¯ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰
2025-12-13T17:04:49.825308Z  INFO src/bin/openim-cli.rs:202: [CLI] ğŸ“± æ‰‹æœºå·: 17764338283
2025-12-13T17:04:49.825321Z  INFO src/bin/openim-cli.rs:203: [CLI] â±ï¸  è¿è¡Œæ—¶é•¿: 0 ç§’ï¼ˆ0=æŒç»­è¿è¡Œï¼‰
2025-12-13T17:04:49.825333Z  INFO src/bin/openim-cli.rs:206: [CLI] ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T17:04:49.825587Z  INFO src/im/auth.rs:48: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T17:04:49.825604Z DEBUG src/im/auth.rs:49:    URL: http://localhost:10008/account/login
2025-12-13T17:04:49.825617Z DEBUG src/im/auth.rs:50:    æ‰‹æœºå·: 17764338283
2025-12-13T17:04:49.825630Z DEBUG src/im/auth.rs:51:    OperationID: 9ae7a0ec-0cbb-4c2b-8356-340cc614f8d1
2025-12-13T17:04:49.830849Z DEBUG src/im/auth.rs:83: âœ… ç™»å½•å“åº”: {"errCode":0,"errMsg":"","errDlt":"","data":{"imToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiUGxhdGZvcm1JRCI6NSwiZXhwIjoxNzczNDIxNDg5LCJpYXQiOjE3NjU2NDU0ODR9.q3mGScxlhRCmlw8c20qsbElp85qbqUA6KE0ZfP7Ywo8","chatToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiVXNlclR5cGUiOjEsIlBsYXRmb3JtSUQiOjAsImV4cCI6MTc3MzQyMTQ4OSwibmJmIjoxNzY1NjQ1NDI5LCJpYXQiOjE3NjU2NDU0ODl9.A48fzqEyGuSdoOnEUHKLhIvQBoObUW1Ksvts6DA3rsg","userID":"3217717393"}}
2025-12-13T17:04:49.830973Z  INFO src/bin/openim-cli.rs:221: [CLI] âœ… ç™»å½•æˆåŠŸï¼ç”¨æˆ·ID: 3217717393
2025-12-13T17:04:49.831049Z  INFO src/bin/openim-cli.rs:233: [CLI] ğŸ”— æ­£åœ¨è¿æ¥æœåŠ¡å™¨...
2025-12-13T17:04:49.831089Z  INFO src/im/client.rs:240: [Client] ğŸ”— è¿æ¥åˆ° OpenIM Server (user=3217717393, platform=5)
2025-12-13T17:04:49.831860Z  INFO src/im/client.rs:246: [Client] âœ… WebSocket è¿æ¥æˆåŠŸ, çŠ¶æ€: 101 Switching Protocols
2025-12-13T17:12:41.600474Z  INFO src/bin/openim-cli.rs:77: [CLI] ğŸ“ æ—¥å¿—å·²åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶: debug.log
2025-12-13T17:12:41.600503Z  INFO src/bin/openim-cli.rs:201: [CLI] ğŸš€ OpenIM CLI å®¢æˆ·ç«¯ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰
2025-12-13T17:12:41.600515Z  INFO src/bin/openim-cli.rs:202: [CLI] ğŸ“± æ‰‹æœºå·: 17764338283
2025-12-13T17:12:41.600528Z  INFO src/bin/openim-cli.rs:203: [CLI] â±ï¸  è¿è¡Œæ—¶é•¿: 0 ç§’ï¼ˆ0=æŒç»­è¿è¡Œï¼‰
2025-12-13T17:12:41.600539Z  INFO src/bin/openim-cli.rs:206: [CLI] ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T17:12:41.600790Z  INFO src/im/auth.rs:48: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T17:12:41.600807Z DEBUG src/im/auth.rs:49:    URL: http://localhost:10008/account/login
2025-12-13T17:12:41.600819Z DEBUG src/im/auth.rs:50:    æ‰‹æœºå·: 17764338283
2025-12-13T17:12:41.600832Z DEBUG src/im/auth.rs:51:    OperationID: 52d4b601-47f6-4e6b-8d88-71e20d7eea6b
2025-12-13T17:12:41.606838Z DEBUG src/im/auth.rs:83: âœ… ç™»å½•å“åº”: {"errCode":0,"errMsg":"","errDlt":"","data":{"imToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiUGxhdGZvcm1JRCI6NSwiZXhwIjoxNzczNDIxOTYxLCJpYXQiOjE3NjU2NDU5NTZ9.SuEYcdb9I1jhHEZY9ZnC18tr0tDYPphMEx2eGxGQwgQ","chatToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiVXNlclR5cGUiOjEsIlBsYXRmb3JtSUQiOjAsImV4cCI6MTc3MzQyMTk2MSwibmJmIjoxNzY1NjQ1OTAxLCJpYXQiOjE3NjU2NDU5NjF9.GwvLltshNVJwSiWfrzLjJLAM297pNmNXsSsvw94Zi90","userID":"3217717393"}}
2025-12-13T17:12:41.606959Z  INFO src/bin/openim-cli.rs:221: [CLI] âœ… ç™»å½•æˆåŠŸï¼ç”¨æˆ·ID: 3217717393
2025-12-13T17:12:41.607003Z  INFO src/bin/openim-cli.rs:233: [CLI] ğŸ”— æ­£åœ¨è¿æ¥æœåŠ¡å™¨...
2025-12-13T17:12:41.607048Z  INFO src/im/client.rs:240: [Client] ğŸ”— è¿æ¥åˆ° OpenIM Server (user=3217717393, platform=5)
2025-12-13T17:12:41.607855Z  INFO src/im/client.rs:246: [Client] âœ… WebSocket è¿æ¥æˆåŠŸ, çŠ¶æ€: 101 Switching Protocols
2025-12-13T17:12:41.607889Z DEBUG src/im/client.rs:257: [Client] ğŸ“¥ WebSocket è¿æ¥å“åº”: {"errCode":0,"errMsg":"","errDlt":""}
2025-12-13T17:12:41.607915Z  INFO src/im/client.rs:261: [Client] âœ… æœåŠ¡å™¨è¿æ¥é‰´æƒæˆåŠŸ
2025-12-13T17:12:41.607960Z  INFO src/im/client.rs:302: [Client] ğŸ’“ å¯åŠ¨å¿ƒè·³
2025-12-13T17:12:41.607973Z  INFO src/im/client.rs:303: [Client] ğŸ“¥ å¼€å§‹ç›‘å¬æœåŠ¡å™¨æ¶ˆæ¯
2025-12-13T17:12:41.607985Z  INFO src/im/client.rs:306: [Client] ğŸ”— åˆ›å»ºå…±äº«æ•°æ®åº“è¿æ¥: sqlite://conversations.db?mode=rwc
2025-12-13T17:12:41.608004Z  INFO src/bin/openim-cli.rs:181: [CLI/Message] ğŸ”— å·²è¿æ¥: è¿æ¥æˆåŠŸ
2025-12-13T17:12:41.608750Z  INFO src/im/client.rs:319: [Client] ğŸ“‹ åˆå§‹åŒ–æ•°æ®åº“è¡¨ç»“æ„
2025-12-13T17:12:41.608775Z  INFO src/im/conversation.rs:473: [ConvSync/DB] åˆå§‹åŒ–ä¼šè¯æ•°æ®åº“è¡¨ç»“æ„
2025-12-13T17:12:41.609069Z  INFO src/im/conversation.rs:522: [ConvSync/DB] æ•°æ®åº“è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-13T17:12:41.609090Z  INFO src/im/friend.rs:171: [FriendSync/DB] åˆå§‹åŒ–å¥½å‹è¡¨ç»“æ„
2025-12-13T17:12:41.609162Z  INFO src/im/friend.rs:194: [FriendSync/DB] å¥½å‹è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-13T17:12:41.609180Z  INFO src/im/conversation.rs:451: [ConvSync] åˆ›å»ºä¼šè¯åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-13T17:12:41.609276Z  INFO src/im/friend.rs:151: [FriendSync/DB] åˆ›å»ºå¥½å‹åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-13T17:12:41.609289Z  INFO src/im/client.rs:341: [Client] ğŸ”„ å¯åŠ¨ä¼šè¯å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-13T17:12:41.609331Z  INFO src/im/conversation.rs:1373: [ConvSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥ä¼šè¯...
2025-12-13T17:12:41.609351Z  INFO src/im/client.rs:367: [Client] ğŸ”„ å¯åŠ¨å¥½å‹å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-13T17:12:41.609397Z  INFO src/im/friend.rs:1018: [FriendSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥å¥½å‹...
2025-12-13T17:12:41.609621Z DEBUG src/im/conversation.rs:1379: [ConvSync] æœ¬åœ°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 21340a81-a3da-4308-8bd3-806f46e708ac
2025-12-13T17:12:41.609705Z  INFO src/bin/openim-cli.rs:241: [CLI] âœ… è¿æ¥æˆåŠŸï¼
2025-12-13T17:12:41.609728Z DEBUG src/im/conversation.rs:1727: [ConvSync] è·å–æ‰€æœ‰ä¼šè¯åˆ—è¡¨
2025-12-13T17:12:41.609744Z DEBUG src/im/conversation.rs:1685: [ConvSync] è·å–ä¼šè¯åˆ—è¡¨ï¼Œåç§»: 0, æ•°é‡: 18446744073709551615
2025-12-13T17:12:41.609976Z DEBUG src/im/friend.rs:1023: [FriendSync] æœ¬åœ°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-13T17:12:41.610355Z DEBUG src/im/conversation.rs:621: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T17:12:41.610577Z DEBUG src/im/conversation.rs:621: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T17:12:41.610595Z DEBUG src/im/conversation.rs:1692: [ConvSync] è¿‡æ»¤åä¼šè¯æ•°: 0 (è¿‡æ»¤æ‰æ— æ¶ˆæ¯æ—¶é—´çš„ä¼šè¯)
2025-12-13T17:12:41.610604Z DEBUG src/im/conversation.rs:1716: [ConvSync] è¿”å› 0 ä¸ªä¼šè¯ (èŒƒå›´: 0 - 0)
2025-12-13T17:12:41.610615Z  INFO src/bin/openim-cli.rs:247: [CLI] ğŸ“‹ ä¼šè¯åˆ—è¡¨ï¼ˆå…± 0 ä¸ªï¼‰:
2025-12-13T17:12:41.610757Z DEBUG src/im/friend.rs:255: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-13T17:12:41.610991Z DEBUG src/im/conversation.rs:640: [ConvSync/DB] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-13T17:12:41.611009Z  INFO src/im/conversation.rs:1390: [ConvSync] æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-13T17:12:41.611023Z  INFO src/im/conversation.rs:1473: [ConvSync] ä½¿ç”¨å¢é‡åŒæ­¥ï¼Œç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 21340a81-a3da-4308-8bd3-806f46e708ac
2025-12-13T17:12:41.611045Z  INFO src/bin/openim-cli.rs:87: [CLI/Conversation] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-13T17:12:41.611059Z  INFO src/bin/openim-cli.rs:101: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 10%
2025-12-13T17:12:41.611087Z  INFO src/im/conversation.rs:182: [ConvSync/HTTP] ğŸ“¡ è¯·æ±‚å¢é‡ä¼šè¯åŒæ­¥
   è¯·æ±‚URL: http://localhost:10002/conversation/get_incremental_conversations
   ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 21340a81-a3da-4308-8bd3-806f46e708ac
   ç”¨æˆ·ID: 3217717393
   æ“ä½œID: 368244c2-926a-4912-847f-60c8bfba8579
2025-12-13T17:12:41.611400Z DEBUG src/im/friend.rs:255: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-13T17:12:41.611416Z  INFO src/bin/openim-cli.rs:263: [CLI] ğŸ‘¥ å¥½å‹åˆ—è¡¨ï¼ˆå…± 1 ä¸ªï¼‰
2025-12-13T17:12:41.611505Z DEBUG src/im/friend.rs:274: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹IDåˆ—è¡¨ï¼Œå…± 1 ä¸ª
2025-12-13T17:12:41.611533Z  INFO src/im/friend.rs:455: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚å¢é‡å¥½å‹åŒæ­¥
2025-12-13T17:12:41.611545Z DEBUG src/im/friend.rs:456: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_incremental_friends
2025-12-13T17:12:41.611558Z DEBUG src/im/friend.rs:457: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T17:12:41.611568Z DEBUG src/im/friend.rs:458: [FriendSync/HTTP]   æ“ä½œID: fa892cd5-5ef6-4ddc-8078-cd3b2ed6e6df
2025-12-13T17:12:41.611837Z  INFO src/bin/openim-cli.rs:267: [CLI] ğŸ“¬ æ€»æœªè¯»æ•°: 37
2025-12-13T17:12:41.611852Z  INFO src/bin/openim-cli.rs:271: [CLI] ğŸ“¥ å¼€å§‹ç›‘å¬æ¶ˆæ¯...
2025-12-13T17:12:41.611864Z  INFO src/bin/openim-cli.rs:272: [CLI] ğŸ’¡ æç¤ºï¼šç¨‹åºå°†æŒç»­è¿è¡Œå¹¶æ˜¾ç¤ºæ¥æ”¶åˆ°çš„æ‰€æœ‰æ¶ˆæ¯å’Œäº‹ä»¶
2025-12-13T17:12:41.611876Z  INFO src/bin/openim-cli.rs:278: [CLI] â° æŒç»­è¿è¡Œä¸­ï¼ŒæŒ‰ Ctrl+C é€€å‡º
2025-12-13T17:12:41.613435Z DEBUG src/im/types.rs:97: [HTTP] å¢é‡ä¼šè¯åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T17:12:41.613515Z ERROR src/im/conversation.rs:1490: [ConvSync] å¢é‡åŒæ­¥å¤±è´¥: ååºåˆ—åŒ–å“åº”å¤±è´¥
2025-12-13T17:12:41.613532Z ERROR src/bin/openim-cli.rs:105: [CLI/Conversation] âŒ åŒæ­¥å¤±è´¥: reinstalled=false
2025-12-13T17:12:41.613548Z ERROR src/im/client.rs:345: [Client] âŒ ä¼šè¯åŒæ­¥å¤±è´¥: ååºåˆ—åŒ–å“åº”å¤±è´¥
2025-12-13T17:12:41.613623Z DEBUG src/im/friend.rs:480: [FriendSync/HTTP] å¢é‡å¥½å‹åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T17:12:41.613682Z  INFO src/im/friend.rs:549: [FriendSync/HTTP] âœ… å¢é‡å¥½å‹åŒæ­¥å“åº”
2025-12-13T17:12:41.613695Z  INFO src/im/friend.rs:550: [FriendSync/HTTP]   å…¨é‡åŒæ­¥: false, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa, ç‰ˆæœ¬: 2
2025-12-13T17:12:41.613708Z  INFO src/im/friend.rs:554: [FriendSync/HTTP]   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-13T17:12:41.613730Z  INFO src/im/friend.rs:927: [FriendSync] å¼€å§‹åŒæ­¥å¥½å‹ï¼ŒæœåŠ¡å™¨å¥½å‹æ•°: 0, æœ¬åœ°å¥½å‹æ•°: 1
2025-12-13T17:12:41.613753Z  INFO src/im/friend.rs:997: [FriendSync] å¥½å‹åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-13T17:12:41.614082Z  INFO src/im/friend.rs:1173: [FriendSync] å·²æ›´æ–°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2 -> 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-13T17:12:41.614097Z  INFO src/im/friend.rs:1179: [FriendSync] âœ… å¢é‡åŒæ­¥å¥½å‹å®Œæˆ
2025-12-13T17:12:41.614120Z  INFO src/im/friend.rs:774: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚é»‘åå•åˆ—è¡¨
2025-12-13T17:12:41.614134Z DEBUG src/im/friend.rs:775: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_black_list
2025-12-13T17:12:41.614147Z DEBUG src/im/friend.rs:776: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T17:12:41.614162Z DEBUG src/im/friend.rs:777: [FriendSync/HTTP]   æ“ä½œID: 48adc5ff-e42b-4841-a358-3f9bf80417d7
2025-12-13T17:12:41.615244Z DEBUG src/im/friend.rs:799: [FriendSync/HTTP] é»‘åå•åˆ—è¡¨è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T17:12:41.615290Z  INFO src/im/friend.rs:831: [FriendSync/HTTP] âœ… é»‘åå•åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-13T17:12:41.615310Z  INFO src/bin/openim-cli.rs:138: [CLI/Friend] ğŸš« é»‘åå•å˜æ›´: null
2025-12-13T17:12:41.615328Z  INFO src/im/friend.rs:855: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚å¥½å‹ç”³è¯·åˆ—è¡¨
2025-12-13T17:12:41.615348Z DEBUG src/im/friend.rs:856: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_friend_apply_list
2025-12-13T17:12:41.615360Z DEBUG src/im/friend.rs:857: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T17:12:41.615374Z DEBUG src/im/friend.rs:858: [FriendSync/HTTP]   æ“ä½œID: a8725044-46f1-48c8-a022-f82a23d5847c
2025-12-13T17:12:41.617193Z DEBUG src/im/friend.rs:880: [FriendSync/HTTP] å¥½å‹ç”³è¯·åˆ—è¡¨è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T17:12:41.617268Z  INFO src/im/friend.rs:912: [FriendSync/HTTP] âœ… å¥½å‹ç”³è¯·åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-13T17:12:41.617293Z  INFO src/bin/openim-cli.rs:142: [CLI/Friend] ğŸ“ å¥½å‹ç”³è¯·å˜æ›´: []
2025-12-13T17:12:41.617308Z  INFO src/im/client.rs:370: [Client] âœ… å¥½å‹åŒæ­¥å®Œæˆ
2025-12-13T18:09:21.738499Z  INFO src/bin/openim-cli.rs:77: [CLI] ğŸ“ æ—¥å¿—å·²åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶: debug.log
2025-12-13T18:09:21.738525Z  INFO src/bin/openim-cli.rs:201: [CLI] ğŸš€ OpenIM CLI å®¢æˆ·ç«¯ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰
2025-12-13T18:09:21.738534Z  INFO src/bin/openim-cli.rs:202: [CLI] ğŸ“± æ‰‹æœºå·: 17764338283
2025-12-13T18:09:21.738544Z  INFO src/bin/openim-cli.rs:203: [CLI] â±ï¸  è¿è¡Œæ—¶é•¿: 0 ç§’ï¼ˆ0=æŒç»­è¿è¡Œï¼‰
2025-12-13T18:09:21.738552Z  INFO src/bin/openim-cli.rs:206: [CLI] ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T18:09:21.738772Z  INFO src/im/auth.rs:48: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-13T18:09:21.738784Z DEBUG src/im/auth.rs:49:    URL: http://localhost:10008/account/login
2025-12-13T18:09:21.738793Z DEBUG src/im/auth.rs:50:    æ‰‹æœºå·: 17764338283
2025-12-13T18:09:21.738803Z DEBUG src/im/auth.rs:51:    OperationID: ba35bd3e-cbf7-4370-986c-e10d66f6642b
2025-12-13T18:09:21.747381Z DEBUG src/im/auth.rs:83: âœ… ç™»å½•å“åº”: {"errCode":0,"errMsg":"","errDlt":"","data":{"imToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiUGxhdGZvcm1JRCI6NSwiZXhwIjoxNzczNDI1MzYxLCJpYXQiOjE3NjU2NDkzNTZ9.m4-_tD4LCTsdLcXkj0jax0C52kn7EF93PJeCGCXmZaE","chatToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiVXNlclR5cGUiOjEsIlBsYXRmb3JtSUQiOjAsImV4cCI6MTc3MzQyNTM2MSwibmJmIjoxNzY1NjQ5MzAxLCJpYXQiOjE3NjU2NDkzNjF9.i5qUVuhSZSI0Kjx_TPe2NCco3erUt6qTZ98UBLwyYN0","userID":"3217717393"}}
2025-12-13T18:09:21.747475Z  INFO src/bin/openim-cli.rs:221: [CLI] âœ… ç™»å½•æˆåŠŸï¼ç”¨æˆ·ID: 3217717393
2025-12-13T18:09:21.747506Z  INFO src/bin/openim-cli.rs:233: [CLI] ğŸ”— æ­£åœ¨è¿æ¥æœåŠ¡å™¨...
2025-12-13T18:09:21.747538Z  INFO src/im/client.rs:242: [Client] ğŸ”— è¿æ¥åˆ° OpenIM Server (user=3217717393, platform=5)
2025-12-13T18:09:21.748765Z  INFO src/im/client.rs:248: [Client] âœ… WebSocket è¿æ¥æˆåŠŸ, çŠ¶æ€: 101 Switching Protocols
2025-12-13T18:09:30.268570Z DEBUG src/im/client.rs:259: [Client] ğŸ“¥ WebSocket è¿æ¥å“åº”: {"errCode":0,"errMsg":"","errDlt":""}
2025-12-13T18:09:30.268612Z  INFO src/im/client.rs:263: [Client] âœ… æœåŠ¡å™¨è¿æ¥é‰´æƒæˆåŠŸ
2025-12-13T18:09:30.268658Z  INFO src/im/client.rs:304: [Client] ğŸ’“ å¯åŠ¨å¿ƒè·³
2025-12-13T18:09:30.268671Z  INFO src/im/client.rs:305: [Client] ğŸ“¥ å¼€å§‹ç›‘å¬æœåŠ¡å™¨æ¶ˆæ¯
2025-12-13T18:09:30.268683Z  INFO src/im/client.rs:308: [Client] ğŸ”— åˆ›å»ºå…±äº«æ•°æ®åº“è¿æ¥: sqlite://conversations.db?mode=rwc
2025-12-13T18:09:30.268713Z  INFO src/bin/openim-cli.rs:181: [CLI/Message] ğŸ”— å·²è¿æ¥: è¿æ¥æˆåŠŸ
2025-12-13T18:09:30.269470Z  INFO src/im/client.rs:321: [Client] ğŸ“‹ åˆå§‹åŒ–æ•°æ®åº“è¡¨ç»“æ„
2025-12-13T18:09:30.269490Z  INFO src/im/conversation_dao.rs:83: [ConvDAO/DB] åˆå§‹åŒ–ä¼šè¯æ•°æ®åº“è¡¨ç»“æ„
2025-12-13T18:09:30.269800Z  INFO src/im/conversation_dao.rs:132: [ConvDAO/DB] æ•°æ®åº“è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-13T18:09:30.269819Z  INFO src/im/friend.rs:171: [FriendSync/DB] åˆå§‹åŒ–å¥½å‹è¡¨ç»“æ„
2025-12-13T18:09:30.269893Z  INFO src/im/friend.rs:194: [FriendSync/DB] å¥½å‹è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-13T18:09:30.269908Z  INFO src/im/conversation/service.rs:83: [ConvSync] åˆ›å»ºä¼šè¯åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-13T18:09:30.270026Z  INFO src/im/friend.rs:151: [FriendSync/DB] åˆ›å»ºå¥½å‹åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-13T18:09:30.270042Z  INFO src/im/client.rs:343: [Client] ğŸ”„ å¯åŠ¨ä¼šè¯å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-13T18:09:30.270096Z  INFO src/im/conversation/service.rs:629: [ConvSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥ä¼šè¯...
2025-12-13T18:09:30.270102Z  INFO src/im/client.rs:369: [Client] ğŸ”„ å¯åŠ¨å¥½å‹å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-13T18:09:30.270153Z  INFO src/im/friend.rs:1018: [FriendSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥å¥½å‹...
2025-12-13T18:09:30.270606Z DEBUG src/im/conversation/service.rs:635: [ConvSync] æœ¬åœ°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 21340a81-a3da-4308-8bd3-806f46e708ac
2025-12-13T18:09:30.270762Z  INFO src/bin/openim-cli.rs:241: [CLI] âœ… è¿æ¥æˆåŠŸï¼
2025-12-13T18:09:30.270789Z DEBUG src/im/conversation/service.rs:988: [ConvSync] è·å–æ‰€æœ‰ä¼šè¯åˆ—è¡¨
2025-12-13T18:09:30.270930Z DEBUG src/im/conversation/service.rs:946: [ConvSync] è·å–ä¼šè¯åˆ—è¡¨ï¼Œåç§»: 0, æ•°é‡: 18446744073709551615
2025-12-13T18:09:30.270939Z DEBUG src/im/friend.rs:1023: [FriendSync] æœ¬åœ°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-13T18:09:30.271599Z DEBUG src/im/conversation_dao.rs:173: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T18:09:30.271976Z DEBUG src/im/conversation_dao.rs:173: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-13T18:09:30.272002Z DEBUG src/im/conversation/service.rs:953: [ConvSync] è¿‡æ»¤åä¼šè¯æ•°: 0 (è¿‡æ»¤æ‰æ— æ¶ˆæ¯æ—¶é—´çš„ä¼šè¯)
2025-12-13T18:09:30.272016Z DEBUG src/im/conversation/service.rs:977: [ConvSync] è¿”å› 0 ä¸ªä¼šè¯ (èŒƒå›´: 0 - 0)
2025-12-13T18:09:30.272031Z  INFO src/bin/openim-cli.rs:247: [CLI] ğŸ“‹ ä¼šè¯åˆ—è¡¨ï¼ˆå…± 0 ä¸ªï¼‰:
2025-12-13T18:09:30.272268Z DEBUG src/im/friend.rs:255: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-13T18:09:30.272659Z DEBUG src/im/conversation_dao.rs:192: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-13T18:09:30.272679Z  INFO src/im/conversation/service.rs:646: [ConvSync] æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-13T18:09:30.272690Z  INFO src/im/conversation/service.rs:729: [ConvSync] ä½¿ç”¨å¢é‡åŒæ­¥ï¼Œç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 21340a81-a3da-4308-8bd3-806f46e708ac
2025-12-13T18:09:30.272702Z  INFO src/bin/openim-cli.rs:87: [CLI/Conversation] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-13T18:09:30.272714Z  INFO src/bin/openim-cli.rs:101: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 10%
2025-12-13T18:09:30.272738Z  INFO src/im/conversation/api.rs:169: [ConvAPI] ğŸ“¡ è¯·æ±‚å¢é‡ä¼šè¯åŒæ­¥
   è¯·æ±‚URL: http://localhost:10002/conversation/get_incremental_conversations
   ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 21340a81-a3da-4308-8bd3-806f46e708ac
   ç”¨æˆ·ID: 3217717393
   æ“ä½œID: 55fc3223-ddb0-4f0d-a219-97e9b73bd5c1
2025-12-13T18:09:30.273086Z DEBUG src/im/friend.rs:255: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-13T18:09:30.273104Z  INFO src/bin/openim-cli.rs:263: [CLI] ğŸ‘¥ å¥½å‹åˆ—è¡¨ï¼ˆå…± 1 ä¸ªï¼‰
2025-12-13T18:09:30.273257Z DEBUG src/im/friend.rs:274: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹IDåˆ—è¡¨ï¼Œå…± 1 ä¸ª
2025-12-13T18:09:30.273294Z  INFO src/im/friend.rs:455: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚å¢é‡å¥½å‹åŒæ­¥
2025-12-13T18:09:30.273307Z DEBUG src/im/friend.rs:456: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_incremental_friends
2025-12-13T18:09:30.273317Z DEBUG src/im/friend.rs:457: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T18:09:30.273326Z DEBUG src/im/friend.rs:458: [FriendSync/HTTP]   æ“ä½œID: 9efc1ac6-d7af-4df8-92d0-3d7835eb74d7
2025-12-13T18:09:30.273596Z  INFO src/bin/openim-cli.rs:267: [CLI] ğŸ“¬ æ€»æœªè¯»æ•°: 37
2025-12-13T18:09:30.273617Z  INFO src/bin/openim-cli.rs:271: [CLI] ğŸ“¥ å¼€å§‹ç›‘å¬æ¶ˆæ¯...
2025-12-13T18:09:30.273627Z  INFO src/bin/openim-cli.rs:272: [CLI] ğŸ’¡ æç¤ºï¼šç¨‹åºå°†æŒç»­è¿è¡Œå¹¶æ˜¾ç¤ºæ¥æ”¶åˆ°çš„æ‰€æœ‰æ¶ˆæ¯å’Œäº‹ä»¶
2025-12-13T18:09:30.273641Z  INFO src/bin/openim-cli.rs:278: [CLI] â° æŒç»­è¿è¡Œä¸­ï¼ŒæŒ‰ Ctrl+C é€€å‡º
2025-12-13T18:09:30.275164Z DEBUG src/im/types.rs:96: [HTTP] å¢é‡ä¼šè¯åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T18:09:30.275247Z ERROR src/im/conversation/service.rs:746: [ConvSync] å¢é‡åŒæ­¥å¤±è´¥: ååºåˆ—åŒ–å“åº”å¤±è´¥
2025-12-13T18:09:30.275260Z ERROR src/bin/openim-cli.rs:105: [CLI/Conversation] âŒ åŒæ­¥å¤±è´¥: reinstalled=false
2025-12-13T18:09:30.275274Z ERROR src/im/client.rs:347: [Client] âŒ ä¼šè¯åŒæ­¥å¤±è´¥: ååºåˆ—åŒ–å“åº”å¤±è´¥
2025-12-13T18:09:30.275354Z DEBUG src/im/friend.rs:480: [FriendSync/HTTP] å¢é‡å¥½å‹åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T18:09:30.275409Z  INFO src/im/friend.rs:549: [FriendSync/HTTP] âœ… å¢é‡å¥½å‹åŒæ­¥å“åº”
2025-12-13T18:09:30.275421Z  INFO src/im/friend.rs:550: [FriendSync/HTTP]   å…¨é‡åŒæ­¥: false, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa, ç‰ˆæœ¬: 2
2025-12-13T18:09:30.275435Z  INFO src/im/friend.rs:554: [FriendSync/HTTP]   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-13T18:09:30.275455Z  INFO src/im/friend.rs:927: [FriendSync] å¼€å§‹åŒæ­¥å¥½å‹ï¼ŒæœåŠ¡å™¨å¥½å‹æ•°: 0, æœ¬åœ°å¥½å‹æ•°: 1
2025-12-13T18:09:30.275477Z  INFO src/im/friend.rs:997: [FriendSync] å¥½å‹åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-13T18:09:30.275797Z  INFO src/im/friend.rs:1173: [FriendSync] å·²æ›´æ–°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2 -> 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-13T18:09:30.275812Z  INFO src/im/friend.rs:1179: [FriendSync] âœ… å¢é‡åŒæ­¥å¥½å‹å®Œæˆ
2025-12-13T18:09:30.275833Z  INFO src/im/friend.rs:774: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚é»‘åå•åˆ—è¡¨
2025-12-13T18:09:30.275845Z DEBUG src/im/friend.rs:775: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_black_list
2025-12-13T18:09:30.275858Z DEBUG src/im/friend.rs:776: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T18:09:30.275870Z DEBUG src/im/friend.rs:777: [FriendSync/HTTP]   æ“ä½œID: 5fe18263-3f7b-4386-9826-3a27eecd41ca
2025-12-13T18:09:30.277054Z DEBUG src/im/friend.rs:799: [FriendSync/HTTP] é»‘åå•åˆ—è¡¨è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T18:09:30.277098Z  INFO src/im/friend.rs:831: [FriendSync/HTTP] âœ… é»‘åå•åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-13T18:09:30.277115Z  INFO src/bin/openim-cli.rs:138: [CLI/Friend] ğŸš« é»‘åå•å˜æ›´: null
2025-12-13T18:09:30.277129Z  INFO src/im/friend.rs:855: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚å¥½å‹ç”³è¯·åˆ—è¡¨
2025-12-13T18:09:30.277139Z DEBUG src/im/friend.rs:856: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_friend_apply_list
2025-12-13T18:09:30.277149Z DEBUG src/im/friend.rs:857: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-13T18:09:30.277157Z DEBUG src/im/friend.rs:858: [FriendSync/HTTP]   æ“ä½œID: 94079496-dbd0-4151-9a14-1a5cedc9b9ca
2025-12-13T18:09:30.279243Z DEBUG src/im/friend.rs:880: [FriendSync/HTTP] å¥½å‹ç”³è¯·åˆ—è¡¨è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-13T18:09:30.279311Z  INFO src/im/friend.rs:912: [FriendSync/HTTP] âœ… å¥½å‹ç”³è¯·åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-13T18:09:30.279332Z  INFO src/bin/openim-cli.rs:142: [CLI/Friend] ğŸ“ å¥½å‹ç”³è¯·å˜æ›´: []
2025-12-13T18:09:30.279343Z  INFO src/im/client.rs:372: [Client] âœ… å¥½å‹åŒæ­¥å®Œæˆ
2025-12-14T13:36:34.884004Z  INFO src/bin/openim-cli.rs:77: [CLI] ğŸ“ æ—¥å¿—å·²åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶: debug.log
2025-12-14T13:36:34.884026Z  INFO src/bin/openim-cli.rs:201: [CLI] ğŸš€ OpenIM CLI å®¢æˆ·ç«¯ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰
2025-12-14T13:36:34.884036Z  INFO src/bin/openim-cli.rs:202: [CLI] ğŸ“± æ‰‹æœºå·: 17764338283
2025-12-14T13:36:34.884045Z  INFO src/bin/openim-cli.rs:203: [CLI] â±ï¸  è¿è¡Œæ—¶é•¿: 0 ç§’ï¼ˆ0=æŒç»­è¿è¡Œï¼‰
2025-12-14T13:36:34.884054Z  INFO src/bin/openim-cli.rs:206: [CLI] ğŸ” æ­£åœ¨ç™»å½•...
2025-12-14T13:36:34.884276Z  INFO src/im/auth.rs:48: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-14T13:36:34.884288Z DEBUG src/im/auth.rs:49:    URL: http://localhost:10008/account/login
2025-12-14T13:36:34.884297Z DEBUG src/im/auth.rs:50:    æ‰‹æœºå·: 17764338283
2025-12-14T13:36:34.884306Z DEBUG src/im/auth.rs:51:    OperationID: f4934922-05dd-441c-a26b-eaa36aa6893f
2025-12-14T13:36:34.890042Z DEBUG src/im/auth.rs:83: âœ… ç™»å½•å“åº”: {"errCode":0,"errMsg":"","errDlt":"","data":{"imToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiUGxhdGZvcm1JRCI6NSwiZXhwIjoxNzczNDk1Mzk0LCJpYXQiOjE3NjU3MTkzODl9.TDBt9nD-WKtcJbbzLPKNvu0SVbquEFg9mKLYbRSJYFE","chatToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiVXNlclR5cGUiOjEsIlBsYXRmb3JtSUQiOjAsImV4cCI6MTc3MzQ5NTM5NCwibmJmIjoxNzY1NzE5MzM0LCJpYXQiOjE3NjU3MTkzOTR9.nVs4cV271NUADtKu2mzm24UBBSy06mCHbMbKRcbjrqg","userID":"3217717393"}}
2025-12-14T13:36:34.890131Z  INFO src/bin/openim-cli.rs:221: [CLI] âœ… ç™»å½•æˆåŠŸï¼ç”¨æˆ·ID: 3217717393
2025-12-14T13:36:34.890157Z  INFO src/bin/openim-cli.rs:233: [CLI] ğŸ”— æ­£åœ¨è¿æ¥æœåŠ¡å™¨...
2025-12-14T13:36:34.890182Z  INFO src/im/client.rs:242: [Client] ğŸ”— è¿æ¥åˆ° OpenIM Server (user=3217717393, platform=5)
2025-12-14T13:36:34.890959Z  INFO src/im/client.rs:248: [Client] âœ… WebSocket è¿æ¥æˆåŠŸ, çŠ¶æ€: 101 Switching Protocols
2025-12-14T13:36:34.890985Z DEBUG src/im/client.rs:259: [Client] ğŸ“¥ WebSocket è¿æ¥å“åº”: {"errCode":0,"errMsg":"","errDlt":""}
2025-12-14T13:36:34.891006Z  INFO src/im/client.rs:263: [Client] âœ… æœåŠ¡å™¨è¿æ¥é‰´æƒæˆåŠŸ
2025-12-14T13:36:34.891032Z  INFO src/im/client.rs:304: [Client] ğŸ’“ å¯åŠ¨å¿ƒè·³
2025-12-14T13:36:34.891041Z  INFO src/im/client.rs:305: [Client] ğŸ“¥ å¼€å§‹ç›‘å¬æœåŠ¡å™¨æ¶ˆæ¯
2025-12-14T13:36:34.891049Z  INFO src/im/client.rs:308: [Client] ğŸ”— åˆ›å»ºå…±äº«æ•°æ®åº“è¿æ¥: sqlite://conversations.db?mode=rwc
2025-12-14T13:36:34.891076Z  INFO src/bin/openim-cli.rs:181: [CLI/Message] ğŸ”— å·²è¿æ¥: è¿æ¥æˆåŠŸ
2025-12-14T13:36:34.891777Z  INFO src/im/client.rs:321: [Client] ğŸ“‹ åˆå§‹åŒ–æ•°æ®åº“è¡¨ç»“æ„
2025-12-14T13:36:34.891796Z  INFO src/im/conversation/dao.rs:81: [ConvDAO/DB] åˆå§‹åŒ–ä¼šè¯æ•°æ®åº“è¡¨ç»“æ„
2025-12-14T13:36:34.892093Z  INFO src/im/conversation/dao.rs:130: [ConvDAO/DB] æ•°æ®åº“è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-14T13:36:34.892114Z  INFO src/im/friend.rs:171: [FriendSync/DB] åˆå§‹åŒ–å¥½å‹è¡¨ç»“æ„
2025-12-14T13:36:34.892177Z  INFO src/im/friend.rs:194: [FriendSync/DB] å¥½å‹è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-14T13:36:34.892269Z  INFO src/im/conversation/service.rs:120: [ConvSync] åˆ›å»ºä¼šè¯åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-14T13:36:34.892290Z  INFO src/im/friend.rs:151: [FriendSync/DB] åˆ›å»ºå¥½å‹åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-14T13:36:34.892315Z  INFO src/im/client.rs:358: [Client] ğŸ”„ å¯åŠ¨ä¼šè¯å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-14T13:36:34.892349Z  INFO src/im/client.rs:384: [Client] ğŸ”„ å¯åŠ¨å¥½å‹å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-14T13:36:34.892375Z  INFO src/im/conversation/service.rs:671: [ConvSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥ä¼šè¯...
2025-12-14T13:36:34.892398Z  INFO src/im/friend.rs:1018: [FriendSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥å¥½å‹...
2025-12-14T13:36:34.892680Z DEBUG src/im/friend.rs:1023: [FriendSync] æœ¬åœ°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-14T13:36:34.892752Z  INFO src/bin/openim-cli.rs:241: [CLI] âœ… è¿æ¥æˆåŠŸï¼
2025-12-14T13:36:34.892775Z DEBUG src/im/conversation/service.rs:1030: [ConvSync] è·å–æ‰€æœ‰ä¼šè¯åˆ—è¡¨
2025-12-14T13:36:34.892793Z DEBUG src/im/conversation/service.rs:988: [ConvSync] è·å–ä¼šè¯åˆ—è¡¨ï¼Œåç§»: 0, æ•°é‡: 18446744073709551615
2025-12-14T13:36:34.892905Z DEBUG src/im/conversation/service.rs:677: [ConvSync] æœ¬åœ°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: c2db0667-770a-43cd-a8c9-87e34c658abf
2025-12-14T13:36:34.893184Z DEBUG src/im/friend.rs:255: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-14T13:36:34.893542Z DEBUG src/im/conversation/dao.rs:171: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-14T13:36:34.893562Z DEBUG src/im/conversation/service.rs:995: [ConvSync] è¿‡æ»¤åä¼šè¯æ•°: 0 (è¿‡æ»¤æ‰æ— æ¶ˆæ¯æ—¶é—´çš„ä¼šè¯)
2025-12-14T13:36:34.893575Z DEBUG src/im/conversation/service.rs:1019: [ConvSync] è¿”å› 0 ä¸ªä¼šè¯ (èŒƒå›´: 0 - 0)
2025-12-14T13:36:34.893590Z  INFO src/bin/openim-cli.rs:247: [CLI] ğŸ“‹ ä¼šè¯åˆ—è¡¨ï¼ˆå…± 0 ä¸ªï¼‰:
2025-12-14T13:36:34.893684Z DEBUG src/im/conversation/dao.rs:171: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-14T13:36:34.893845Z DEBUG src/im/friend.rs:274: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹IDåˆ—è¡¨ï¼Œå…± 1 ä¸ª
2025-12-14T13:36:34.893897Z  INFO src/im/friend.rs:455: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚å¢é‡å¥½å‹åŒæ­¥
2025-12-14T13:36:34.893914Z DEBUG src/im/friend.rs:456: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_incremental_friends
2025-12-14T13:36:34.893927Z DEBUG src/im/friend.rs:457: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-14T13:36:34.893941Z DEBUG src/im/friend.rs:458: [FriendSync/HTTP]   æ“ä½œID: 345e4ef1-cc07-4746-a39e-412483c8cc4e
2025-12-14T13:36:34.894222Z DEBUG src/im/friend.rs:255: [FriendSync/DB] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-14T13:36:34.894240Z  INFO src/bin/openim-cli.rs:263: [CLI] ğŸ‘¥ å¥½å‹åˆ—è¡¨ï¼ˆå…± 1 ä¸ªï¼‰
2025-12-14T13:36:34.894357Z DEBUG src/im/conversation/dao.rs:190: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-14T13:36:34.894374Z  INFO src/im/conversation/service.rs:688: [ConvSync] æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-14T13:36:34.894387Z  INFO src/im/conversation/service.rs:771: [ConvSync] ä½¿ç”¨å¢é‡åŒæ­¥ï¼Œç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: c2db0667-770a-43cd-a8c9-87e34c658abf
2025-12-14T13:36:34.894403Z  INFO src/bin/openim-cli.rs:87: [CLI/Conversation] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-14T13:36:34.894415Z  INFO src/bin/openim-cli.rs:101: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 10%
2025-12-14T13:36:34.894437Z  INFO src/im/conversation/api.rs:168: [ConvAPI] ğŸ“¡ è¯·æ±‚å¢é‡ä¼šè¯åŒæ­¥
   è¯·æ±‚URL: http://localhost:10002/conversation/get_incremental_conversations
   ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: c2db0667-770a-43cd-a8c9-87e34c658abf
   ç”¨æˆ·ID: 3217717393
   æ“ä½œID: 44e64562-e2e1-4aa9-bead-23c654fca550
2025-12-14T13:36:34.894739Z  INFO src/bin/openim-cli.rs:267: [CLI] ğŸ“¬ æ€»æœªè¯»æ•°: 37
2025-12-14T13:36:34.894759Z  INFO src/bin/openim-cli.rs:271: [CLI] ğŸ“¥ å¼€å§‹ç›‘å¬æ¶ˆæ¯...
2025-12-14T13:36:34.894772Z  INFO src/bin/openim-cli.rs:272: [CLI] ğŸ’¡ æç¤ºï¼šç¨‹åºå°†æŒç»­è¿è¡Œå¹¶æ˜¾ç¤ºæ¥æ”¶åˆ°çš„æ‰€æœ‰æ¶ˆæ¯å’Œäº‹ä»¶
2025-12-14T13:36:34.894784Z  INFO src/bin/openim-cli.rs:278: [CLI] â° æŒç»­è¿è¡Œä¸­ï¼ŒæŒ‰ Ctrl+C é€€å‡º
2025-12-14T13:36:34.895333Z DEBUG src/im/friend.rs:480: [FriendSync/HTTP] å¢é‡å¥½å‹åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-14T13:36:34.895403Z  INFO src/im/friend.rs:549: [FriendSync/HTTP] âœ… å¢é‡å¥½å‹åŒæ­¥å“åº”
2025-12-14T13:36:34.895423Z  INFO src/im/friend.rs:550: [FriendSync/HTTP]   å…¨é‡åŒæ­¥: false, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa, ç‰ˆæœ¬: 2
2025-12-14T13:36:34.895436Z  INFO src/im/friend.rs:554: [FriendSync/HTTP]   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-14T13:36:34.895454Z  INFO src/im/friend.rs:927: [FriendSync] å¼€å§‹åŒæ­¥å¥½å‹ï¼ŒæœåŠ¡å™¨å¥½å‹æ•°: 0, æœ¬åœ°å¥½å‹æ•°: 1
2025-12-14T13:36:34.895477Z  INFO src/im/friend.rs:997: [FriendSync] å¥½å‹åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-14T13:36:34.895574Z  INFO src/im/types.rs:94: [HTTP] å¢é‡ä¼šè¯åŒæ­¥å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"version":3,"versionID":"68e1e4982a00312739a80eef","full":true,"delete":null,"insert":null,"update":null}}
2025-12-14T13:36:34.895597Z DEBUG src/im/types.rs:103: [HTTP] å¢é‡ä¼šè¯åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-14T13:36:34.895629Z  INFO src/im/conversation/service.rs:794: [ConvSync] âœ… å¢é‡ä¼šè¯åŒæ­¥å“åº”
   å…¨é‡åŒæ­¥: true
   ç‰ˆæœ¬ID: 68e1e4982a00312739a80eef
   ç‰ˆæœ¬: 3
   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-14T13:36:34.895645Z DEBUG src/im/conversation/service.rs:798: [ConvSync]   åˆ é™¤çš„ä¼šè¯ID: []
2025-12-14T13:36:34.895656Z  INFO src/bin/openim-cli.rs:101: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 50%
2025-12-14T13:36:34.895671Z  WARN src/im/conversation/service.rs:803: [ConvSync]   æœåŠ¡å™¨è¦æ±‚å…¨é‡åŒæ­¥...
2025-12-14T13:36:34.895684Z  INFO src/im/conversation/service.rs:888: [ConvSync] ğŸ”„ å¼€å§‹å…¨é‡åŒæ­¥ä¼šè¯...
2025-12-14T13:36:34.895752Z  INFO src/im/friend.rs:1173: [FriendSync] å·²æ›´æ–°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2 -> 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-14T13:36:34.895778Z  INFO src/im/friend.rs:1179: [FriendSync] âœ… å¢é‡åŒæ­¥å¥½å‹å®Œæˆ
2025-12-14T13:36:34.895801Z  INFO src/im/friend.rs:774: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚é»‘åå•åˆ—è¡¨
2025-12-14T13:36:34.895816Z DEBUG src/im/friend.rs:775: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_black_list
2025-12-14T13:36:34.895829Z DEBUG src/im/friend.rs:776: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-14T13:36:34.895843Z DEBUG src/im/friend.rs:777: [FriendSync/HTTP]   æ“ä½œID: 7e7a1dac-dd4f-4a42-8464-3081f43deee3
2025-12-14T13:36:34.896125Z DEBUG src/im/conversation/dao.rs:190: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-14T13:36:34.896148Z DEBUG src/im/conversation/service.rs:891: [ConvSync] full_sync -> on_sync_server_start(reinstalled=false)
2025-12-14T13:36:34.896158Z  INFO src/bin/openim-cli.rs:87: [CLI/Conversation] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-14T13:36:34.896168Z DEBUG src/im/conversation/service.rs:896: [ConvSync] full_sync -> on_sync_server_progress(10)
2025-12-14T13:36:34.896177Z  INFO src/bin/openim-cli.rs:101: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 10%
2025-12-14T13:36:34.896189Z  INFO src/im/conversation/api.rs:202: [ConvAPI] ğŸ“¡ è¯·æ±‚å…¨é‡ä¼šè¯åŒæ­¥
2025-12-14T13:36:34.896199Z DEBUG src/im/conversation/api.rs:203: [ConvAPI]   è¯·æ±‚URL: http://localhost:10002/conversation/get_all_conversations
2025-12-14T13:36:34.896212Z DEBUG src/im/conversation/api.rs:204: [ConvAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 4c19ee67-bd13-4e71-bac1-5d96ed3b9e0f
2025-12-14T13:36:34.896996Z DEBUG src/im/friend.rs:799: [FriendSync/HTTP] é»‘åå•åˆ—è¡¨è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-14T13:36:34.897040Z  INFO src/im/friend.rs:831: [FriendSync/HTTP] âœ… é»‘åå•åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-14T13:36:34.897061Z  INFO src/bin/openim-cli.rs:138: [CLI/Friend] ğŸš« é»‘åå•å˜æ›´: null
2025-12-14T13:36:34.897082Z  INFO src/im/friend.rs:855: [FriendSync/HTTP] ğŸ“¡ è¯·æ±‚å¥½å‹ç”³è¯·åˆ—è¡¨
2025-12-14T13:36:34.897097Z DEBUG src/im/friend.rs:856: [FriendSync/HTTP]   è¯·æ±‚URL: http://localhost:10002/friend/get_friend_apply_list
2025-12-14T13:36:34.897110Z DEBUG src/im/friend.rs:857: [FriendSync/HTTP]   ç”¨æˆ·ID: 3217717393
2025-12-14T13:36:34.897124Z DEBUG src/im/friend.rs:858: [FriendSync/HTTP]   æ“ä½œID: 5a2edc94-5da9-417d-84cb-1dc2a4147abe
2025-12-14T13:36:34.897407Z  INFO src/im/types.rs:94: [HTTP] å…¨é‡ä¼šè¯åŒæ­¥å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"conversations":[{"ownerUserID":"3217717393","conversationID":"sg_3250046082","recvMsgOpt":0,"conversationType":3,"userID":"","groupID":"3250046082","isPinned":false,"attachedInfo":"","isPrivateChat":false,"groupAtType":0,"ex":"","burnDuration":0,"minSeq":0,"maxSeq":0,"msgDestructTime":0,"latestMsgDestructTime":-62135596800000,"isMsgDestruct":false},{"ownerUserID":"3217717393","conversationID":"si_1056224172_3217717393","recvMsgOpt":0,"conversationType":1,"userID":"1056224172","groupID":"","isPinned":false,"attachedInfo":"","isPrivateChat":false,"groupAtType":0,"ex":"","burnDuration":0,"minSeq":0,"maxSeq":0,"msgDestructTime":0,"latestMsgDestructTime":-62135596800000,"isMsgDestruct":false}]}}
2025-12-14T13:36:34.897435Z DEBUG src/im/types.rs:103: [HTTP] å…¨é‡ä¼šè¯åŒæ­¥è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-14T13:36:34.897486Z  INFO src/im/conversation/api.rs:228: [ConvAPI] âœ… å…¨é‡ä¼šè¯åŒæ­¥å“åº”ï¼Œä¼šè¯æ•°: 2
2025-12-14T13:36:34.897504Z DEBUG src/im/conversation/api.rs:232: [ConvAPI]   ä¼šè¯è¯¦æƒ…: ["sg_3250046082", "si_1056224172_3217717393"]
2025-12-14T13:36:34.897521Z  INFO src/im/conversation/service.rs:912: [ConvSync] ä»æœåŠ¡å™¨è·å–åˆ° 2 ä¸ªä¼šè¯
2025-12-14T13:36:34.897532Z  INFO src/bin/openim-cli.rs:101: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 30%
2025-12-14T13:36:34.897549Z DEBUG src/im/conversation/service.rs:920: [ConvSync] å·²è½¬æ¢ 2 ä¸ªä¼šè¯ä¸ºæœ¬åœ°æ ¼å¼
2025-12-14T13:36:34.897562Z DEBUG src/im/conversation/service.rs:924: [ConvSync] full_sync -> on_sync_server_progress(50)
2025-12-14T13:36:34.897591Z  INFO src/bin/openim-cli.rs:101: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 50%
2025-12-14T13:36:34.897941Z DEBUG src/im/conversation/dao.rs:171: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-14T13:36:34.897960Z  INFO src/im/conversation/service.rs:929: [ConvSync] æœ¬åœ°å·²æœ‰ 2 ä¸ªä¼šè¯
2025-12-14T13:36:34.897972Z  INFO src/im/conversation/api.rs:40: [ConvAPI/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-14T13:36:34.897982Z DEBUG src/im/conversation/api.rs:41: [ConvAPI/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-14T13:36:34.897993Z DEBUG src/im/conversation/api.rs:42: [ConvAPI/Seq]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 6ca519c4-4e6d-47ab-ad67-39793b0ab1d0
2025-12-14T13:36:34.898609Z DEBUG src/im/friend.rs:880: [FriendSync/HTTP] å¥½å‹ç”³è¯·åˆ—è¡¨è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-14T13:36:34.898678Z  INFO src/im/friend.rs:912: [FriendSync/HTTP] âœ… å¥½å‹ç”³è¯·åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-14T13:36:34.898702Z  INFO src/bin/openim-cli.rs:142: [CLI/Friend] ğŸ“ å¥½å‹ç”³è¯·å˜æ›´: []
2025-12-14T13:36:34.898715Z  INFO src/im/client.rs:387: [Client] âœ… å¥½å‹åŒæ­¥å®Œæˆ
2025-12-14T13:36:34.899466Z DEBUG src/im/conversation/api.rs:68: [ConvAPI/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-14T13:36:34.899519Z  INFO src/im/conversation/api.rs:75: [ConvAPI/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-14T13:36:34.899563Z  INFO src/im/conversation/api.rs:98: [ConvAPI/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data å­—æ®µ: {
  "pinnedConversationIDs": null,
  "seqs": {
    "sg_3250046082": {
      "hasReadSeq": 13,
      "maxSeq": 26,
      "maxSeqTime": 1765380998099
    },
    "si_1056224172_3217717393": {
      "hasReadSeq": 19,
      "maxSeq": 43,
      "maxSeqTime": 1765637683035
    }
  }
}
2025-12-14T13:36:34.899582Z  INFO src/im/conversation/api.rs:106: [ConvAPI/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-14T13:36:34.899597Z  INFO src/im/conversation/api.rs:118: [ConvAPI/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-14T13:36:34.899618Z  INFO src/im/conversation/api.rs:118: [ConvAPI/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-14T13:36:34.899634Z  INFO src/im/conversation/api.rs:148: [ConvAPI/Seq] âœ… è§£æå®Œæˆï¼Œå…± 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-14T13:36:34.899651Z  INFO src/im/conversation/service.rs:934: [ConvSync] è·å–åˆ° 2 ä¸ªä¼šè¯çš„ seqs ä¿¡æ¯ï¼Œç”¨äºè®¾ç½®æœªè¯»æ•°
2025-12-14T13:36:34.899672Z  INFO src/im/conversation/service.rs:531: [ConvSync] å¼€å§‹åŒæ­¥ä¼šè¯ï¼ŒæœåŠ¡å™¨ä¼šè¯æ•°: 2, æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-14T13:36:34.899697Z  INFO src/im/conversation/service.rs:559: [ConvSync]   ä¼šè¯ sg_3250046082 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-14T13:36:34.899713Z  INFO src/im/conversation/service.rs:559: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-14T13:36:34.899729Z DEBUG src/im/conversation/service.rs:596: [ConvSync]   ä¼šè¯ sg_3250046082 æ— éœ€æ›´æ–°
2025-12-14T13:36:34.899741Z DEBUG src/im/conversation/service.rs:596: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ— éœ€æ›´æ–°
2025-12-14T13:36:34.899762Z  INFO src/im/conversation/service.rs:645: [ConvSync] ä¼šè¯åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-14T13:36:34.899779Z DEBUG src/im/conversation/service.rs:949: [ConvSync] full_sync -> on_sync_server_progress(80)
2025-12-14T13:36:34.899791Z  INFO src/bin/openim-cli.rs:101: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 80%
2025-12-14T13:36:34.903891Z  INFO src/im/conversation/service.rs:960: [ConvSync] å·²æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 0a8cdee3-133f-4f2b-bbee-a69a989ab78e
2025-12-14T13:36:34.903913Z DEBUG src/im/conversation/service.rs:965: [ConvSync] full_sync -> on_sync_server_progress(100)
2025-12-14T13:36:34.903928Z  INFO src/bin/openim-cli.rs:101: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 100%
2025-12-14T13:36:34.903956Z DEBUG src/im/conversation/service.rs:967: [ConvSync] full_sync -> on_sync_server_finish(reinstalled=false)
2025-12-14T13:36:34.903974Z  INFO src/bin/openim-cli.rs:94: [CLI/Conversation] âœ… åŒæ­¥å®Œæˆ: reinstalled=false
2025-12-14T13:36:34.903991Z  INFO src/im/conversation/service.rs:366: [ConvSync/Seq] ğŸ”„ å¼€å§‹æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°...
2025-12-14T13:36:34.904328Z DEBUG src/im/conversation/dao.rs:171: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-14T13:36:34.904360Z  INFO src/im/conversation/api.rs:40: [ConvAPI/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-14T13:36:34.904376Z DEBUG src/im/conversation/api.rs:41: [ConvAPI/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-14T13:36:34.904394Z DEBUG src/im/conversation/api.rs:42: [ConvAPI/Seq]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 0bbf7e72-8568-4378-aa71-a34ffaa5b760
2025-12-14T13:36:34.905495Z DEBUG src/im/conversation/api.rs:68: [ConvAPI/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-14T13:36:34.905563Z  INFO src/im/conversation/api.rs:75: [ConvAPI/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-14T13:36:34.905607Z  INFO src/im/conversation/api.rs:98: [ConvAPI/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data å­—æ®µ: {
  "pinnedConversationIDs": null,
  "seqs": {
    "sg_3250046082": {
      "hasReadSeq": 13,
      "maxSeq": 26,
      "maxSeqTime": 1765380998099
    },
    "si_1056224172_3217717393": {
      "hasReadSeq": 19,
      "maxSeq": 43,
      "maxSeqTime": 1765637683035
    }
  }
}
2025-12-14T13:36:34.905626Z  INFO src/im/conversation/api.rs:106: [ConvAPI/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-14T13:36:34.905639Z  INFO src/im/conversation/api.rs:118: [ConvAPI/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-14T13:36:34.905657Z  INFO src/im/conversation/api.rs:118: [ConvAPI/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-14T13:36:34.905671Z  INFO src/im/conversation/api.rs:148: [ConvAPI/Seq] âœ… è§£æå®Œæˆï¼Œå…± 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-14T13:36:34.905689Z  INFO src/im/conversation/service.rs:387: [ConvSync/Seq] ğŸ”„ å¼€å§‹æ ¡æ­£æœªè¯»æ•°ï¼ŒæœåŠ¡å™¨è¿”å› 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-14T13:36:34.905705Z DEBUG src/im/conversation/service.rs:407: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=sg_3250046082, unreadCount=13, maxSeq=26
2025-12-14T13:36:34.905721Z DEBUG src/im/conversation/service.rs:407: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=si_1056224172_3217717393, unreadCount=24, maxSeq=43
2025-12-14T13:36:34.905735Z  INFO src/im/conversation/service.rs:422: [ConvSync/Seq] ğŸ“Š æœªè¯»æ•°æ ¡æ­£ç»Ÿè®¡: å·²æ›´æ–° 0 ä¸ªä¼šè¯ï¼Œå‘ç° 0 ä¸ªæœ¬åœ°ç¼ºå¤±ä¼šè¯
2025-12-14T13:36:34.906005Z  INFO src/im/conversation/service.rs:430: [ConvSync/Seq] ğŸ“Š æ ¡æ­£å‰æ€»æœªè¯»æ•°: 37
2025-12-14T13:36:34.906024Z  INFO src/im/conversation/service.rs:513: [ConvSync/Seq] â„¹ï¸ æ— ä¼šè¯å˜æ›´ï¼Œè·³è¿‡å›è°ƒ
2025-12-14T13:36:34.906037Z  INFO src/im/conversation/service.rs:516: [ConvSync/Seq] âœ… æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°å®Œæˆ
2025-12-14T13:36:34.906052Z  INFO src/im/conversation/service.rs:978: [ConvSync] âœ… å…¨é‡åŒæ­¥å®Œæˆ

2025-12-14T13:36:34.906069Z  INFO src/im/client.rs:361: [Client] âœ… ä¼šè¯åŒæ­¥å®Œæˆ
2025-12-18T16:31:04.603151Z  INFO src/bin/openim-cli.rs:76: [CLI] ğŸ“ æ—¥å¿—å·²åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶: debug.log
2025-12-18T16:31:04.603182Z  INFO src/bin/openim-cli.rs:200: [CLI] ğŸš€ OpenIM CLI å®¢æˆ·ç«¯ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰
2025-12-18T16:31:04.603192Z  INFO src/bin/openim-cli.rs:201: [CLI] ğŸ“± æ‰‹æœºå·: 17764338283
2025-12-18T16:31:04.603201Z  INFO src/bin/openim-cli.rs:202: [CLI] â±ï¸  è¿è¡Œæ—¶é•¿: 0 ç§’ï¼ˆ0=æŒç»­è¿è¡Œï¼‰
2025-12-18T16:31:04.603216Z  INFO src/bin/openim-cli.rs:205: [CLI] ğŸ” æ­£åœ¨ç™»å½•...
2025-12-18T16:31:04.603425Z  INFO src/im/auth.rs:48: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-18T16:31:04.603438Z DEBUG src/im/auth.rs:49:    URL: http://localhost:10008/account/login
2025-12-18T16:31:04.603446Z DEBUG src/im/auth.rs:50:    æ‰‹æœºå·: 17764338283
2025-12-18T16:31:04.603455Z DEBUG src/im/auth.rs:51:    OperationID: c5fe4fd8-12fc-44f8-88d5-7d8f374b099d
2025-12-18T16:31:04.722934Z DEBUG src/im/auth.rs:83: âœ… ç™»å½•å“åº”: {"errCode":0,"errMsg":"","errDlt":"","data":{"imToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiUGxhdGZvcm1JRCI6NSwiZXhwIjoxNzczODUxNDY0LCJpYXQiOjE3NjYwNzU0NTl9.AvgzAVkFr1b8GhTCZ3tU2aN5BUZc0p2gIIA3lJUKGwM","chatToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiVXNlclR5cGUiOjEsIlBsYXRmb3JtSUQiOjAsImV4cCI6MTc3Mzg1MTQ2NCwibmJmIjoxNzY2MDc1NDA0LCJpYXQiOjE3NjYwNzU0NjR9.d1s4qZnYRv6QF7lh31urikCIrJKIYHoiWt2FFlBq1_E","userID":"3217717393"}}
2025-12-18T16:31:04.723031Z  INFO src/bin/openim-cli.rs:220: [CLI] âœ… ç™»å½•æˆåŠŸï¼ç”¨æˆ·ID: 3217717393
2025-12-18T16:31:04.723058Z  INFO src/bin/openim-cli.rs:232: [CLI] ğŸ”— æ­£åœ¨è¿æ¥æœåŠ¡å™¨...
2025-12-18T16:31:04.723093Z  INFO src/im/client.rs:244: [Client] ğŸ”— è¿æ¥åˆ° OpenIM Server (user=3217717393, platform=5)
2025-12-18T16:31:04.739062Z  INFO src/im/client.rs:250: [Client] âœ… WebSocket è¿æ¥æˆåŠŸ, çŠ¶æ€: 101 Switching Protocols
2025-12-18T16:31:04.739114Z DEBUG src/im/client.rs:261: [Client] ğŸ“¥ WebSocket è¿æ¥å“åº”: {"errCode":0,"errMsg":"","errDlt":""}
2025-12-18T16:31:04.739138Z  INFO src/im/client.rs:265: [Client] âœ… æœåŠ¡å™¨è¿æ¥é‰´æƒæˆåŠŸ
2025-12-18T16:31:04.739178Z  INFO src/im/client.rs:306: [Client] ğŸ’“ å¯åŠ¨å¿ƒè·³
2025-12-18T16:31:04.739190Z  INFO src/im/client.rs:307: [Client] ğŸ“¥ å¼€å§‹ç›‘å¬æœåŠ¡å™¨æ¶ˆæ¯
2025-12-18T16:31:04.739201Z  INFO src/im/client.rs:310: [Client] ğŸ”— åˆ›å»ºå…±äº«æ•°æ®åº“è¿æ¥: sqlite://conversations.db?mode=rwc
2025-12-18T16:31:04.739240Z  INFO src/bin/openim-cli.rs:180: [CLI/Message] ğŸ”— å·²è¿æ¥: è¿æ¥æˆåŠŸ
2025-12-18T16:31:04.740275Z  INFO src/im/client.rs:323: [Client] ğŸ“‹ åˆå§‹åŒ–æ•°æ®åº“è¡¨ç»“æ„
2025-12-18T16:31:04.740295Z  INFO src/im/conversation/dao.rs:81: [ConvDAO/DB] åˆå§‹åŒ–ä¼šè¯æ•°æ®åº“è¡¨ç»“æ„
2025-12-18T16:31:04.740652Z  INFO src/im/conversation/dao.rs:130: [ConvDAO/DB] æ•°æ®åº“è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-18T16:31:04.740666Z  INFO src/im/friend/dao.rs:60: [FriendDAO/DB] åˆå§‹åŒ–å¥½å‹æ•°æ®åº“è¡¨ç»“æ„
2025-12-18T16:31:04.740758Z  INFO src/im/friend/dao.rs:85: [FriendDAO/DB] æ•°æ®åº“è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-18T16:31:04.740860Z  INFO src/im/conversation/service.rs:120: [ConvSync] åˆ›å»ºä¼šè¯åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-18T16:31:04.740909Z  INFO src/im/friend/service.rs:101: [FriendSync] åˆ›å»ºå¥½å‹åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-18T16:31:04.740930Z  INFO src/im/client.rs:360: [Client] ğŸ”„ å¯åŠ¨ä¼šè¯å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-18T16:31:04.740956Z  INFO src/im/client.rs:386: [Client] ğŸ”„ å¯åŠ¨å¥½å‹å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-18T16:31:04.740990Z  INFO src/im/conversation/service.rs:669: [ConvSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥ä¼šè¯...
2025-12-18T16:31:04.741011Z  INFO src/im/friend/service.rs:254: [FriendSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥å¥½å‹...
2025-12-18T16:31:04.741323Z  INFO src/bin/openim-cli.rs:240: [CLI] âœ… è¿æ¥æˆåŠŸï¼
2025-12-18T16:31:04.741339Z DEBUG src/im/conversation/service.rs:1028: [ConvSync] è·å–æ‰€æœ‰ä¼šè¯åˆ—è¡¨
2025-12-18T16:31:04.741350Z DEBUG src/im/conversation/service.rs:986: [ConvSync] è·å–ä¼šè¯åˆ—è¡¨ï¼Œåç§»: 0, æ•°é‡: 18446744073709551615
2025-12-18T16:31:04.741485Z DEBUG src/im/friend/service.rs:259: [FriendSync] æœ¬åœ°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-18T16:31:04.741676Z DEBUG src/im/conversation/service.rs:675: [ConvSync] æœ¬åœ°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 3d5f318a-bcfc-4e18-a8de-318cb84fb9b3
2025-12-18T16:31:04.742028Z DEBUG src/im/conversation/dao.rs:171: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T16:31:04.742054Z DEBUG src/im/conversation/service.rs:993: [ConvSync] è¿‡æ»¤åä¼šè¯æ•°: 0 (è¿‡æ»¤æ‰æ— æ¶ˆæ¯æ—¶é—´çš„ä¼šè¯)
2025-12-18T16:31:04.742065Z DEBUG src/im/conversation/service.rs:1017: [ConvSync] è¿”å› 0 ä¸ªä¼šè¯ (èŒƒå›´: 0 - 0)
2025-12-18T16:31:04.742079Z  INFO src/bin/openim-cli.rs:246: [CLI] ğŸ“‹ ä¼šè¯åˆ—è¡¨ï¼ˆå…± 0 ä¸ªï¼‰:
2025-12-18T16:31:04.742232Z DEBUG src/im/friend/dao.rs:114: [FriendDAO] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-18T16:31:04.742448Z DEBUG src/im/conversation/dao.rs:171: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T16:31:04.742638Z DEBUG src/im/friend/dao.rs:114: [FriendDAO] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-18T16:31:04.742658Z  INFO src/bin/openim-cli.rs:262: [CLI] ğŸ‘¥ å¥½å‹åˆ—è¡¨ï¼ˆå…± 1 ä¸ªï¼‰
2025-12-18T16:31:04.742759Z DEBUG src/im/friend/dao.rs:133: [FriendDAO] è·å–æœ¬åœ°å¥½å‹IDåˆ—è¡¨ï¼Œå…± 1 ä¸ª
2025-12-18T16:31:04.742791Z  INFO src/im/friend/api.rs:41: [FriendAPI] ğŸ“¡ è¯·æ±‚å¢é‡å¥½å‹åŒæ­¥
2025-12-18T16:31:04.742806Z DEBUG src/im/friend/api.rs:42: [FriendAPI]   è¯·æ±‚URL: http://localhost:10002/friend/get_incremental_friends
2025-12-18T16:31:04.742821Z DEBUG src/im/friend/api.rs:43: [FriendAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 08178ac4-bbc9-4aa6-8629-97110485509a
2025-12-18T16:31:04.743262Z DEBUG src/im/conversation/dao.rs:190: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-18T16:31:04.743283Z  INFO src/im/conversation/service.rs:686: [ConvSync] æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-18T16:31:04.743297Z  INFO src/im/conversation/service.rs:769: [ConvSync] ä½¿ç”¨å¢é‡åŒæ­¥ï¼Œç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 3d5f318a-bcfc-4e18-a8de-318cb84fb9b3
2025-12-18T16:31:04.743314Z  INFO src/bin/openim-cli.rs:86: [CLI/Conversation] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-18T16:31:04.743328Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 10%
2025-12-18T16:31:04.743351Z  INFO src/im/conversation/api.rs:164: [ConvAPI] ğŸ“¡ è¯·æ±‚å¢é‡ä¼šè¯åŒæ­¥
   è¯·æ±‚URL: http://localhost:10002/conversation/get_incremental_conversations
   ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 3d5f318a-bcfc-4e18-a8de-318cb84fb9b3
   ç”¨æˆ·ID: 3217717393
   æ“ä½œID: cc783a67-e87b-4692-9f2b-0ad5306fc269
2025-12-18T16:31:04.743654Z  INFO src/bin/openim-cli.rs:266: [CLI] ğŸ“¬ æ€»æœªè¯»æ•°: 37
2025-12-18T16:31:04.743672Z  INFO src/bin/openim-cli.rs:270: [CLI] ğŸ“¥ å¼€å§‹ç›‘å¬æ¶ˆæ¯...
2025-12-18T16:31:04.743682Z  INFO src/bin/openim-cli.rs:271: [CLI] ğŸ’¡ æç¤ºï¼šç¨‹åºå°†æŒç»­è¿è¡Œå¹¶æ˜¾ç¤ºæ¥æ”¶åˆ°çš„æ‰€æœ‰æ¶ˆæ¯å’Œäº‹ä»¶
2025-12-18T16:31:04.743697Z  INFO src/bin/openim-cli.rs:277: [CLI] â° æŒç»­è¿è¡Œä¸­ï¼ŒæŒ‰ Ctrl+C é€€å‡º
2025-12-18T16:31:04.753785Z  INFO src/im/conversation/api.rs:186: [ConvAPI] å¢é‡ä¼šè¯åŒæ­¥å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"version":3,"versionID":"68e1e4982a00312739a80eef","full":true,"delete":null,"insert":null,"update":null}}
2025-12-18T16:31:04.753838Z  INFO src/im/conversation/service.rs:792: [ConvSync] âœ… å¢é‡ä¼šè¯åŒæ­¥å“åº”
   å…¨é‡åŒæ­¥: true
   ç‰ˆæœ¬ID: 68e1e4982a00312739a80eef
   ç‰ˆæœ¬: 3
   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-18T16:31:04.753852Z DEBUG src/im/conversation/service.rs:796: [ConvSync]   åˆ é™¤çš„ä¼šè¯ID: []
2025-12-18T16:31:04.753863Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 50%
2025-12-18T16:31:04.753877Z  WARN src/im/conversation/service.rs:801: [ConvSync]   æœåŠ¡å™¨è¦æ±‚å…¨é‡åŒæ­¥...
2025-12-18T16:31:04.753887Z  INFO src/im/conversation/service.rs:886: [ConvSync] ğŸ”„ å¼€å§‹å…¨é‡åŒæ­¥ä¼šè¯...
2025-12-18T16:31:04.754208Z DEBUG src/im/conversation/dao.rs:190: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-18T16:31:04.754228Z DEBUG src/im/conversation/service.rs:889: [ConvSync] full_sync -> on_sync_server_start(reinstalled=false)
2025-12-18T16:31:04.754239Z  INFO src/bin/openim-cli.rs:86: [CLI/Conversation] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-18T16:31:04.754250Z DEBUG src/im/conversation/service.rs:894: [ConvSync] full_sync -> on_sync_server_progress(10)
2025-12-18T16:31:04.754264Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 10%
2025-12-18T16:31:04.754283Z  INFO src/im/conversation/api.rs:229: [ConvAPI] ğŸ“¡ è¯·æ±‚å…¨é‡ä¼šè¯åŒæ­¥
2025-12-18T16:31:04.754293Z DEBUG src/im/conversation/api.rs:230: [ConvAPI]   è¯·æ±‚URL: http://localhost:10002/conversation/get_all_conversations
2025-12-18T16:31:04.754304Z DEBUG src/im/conversation/api.rs:231: [ConvAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 9594a739-de5b-4b9c-b600-8b073ad20518
2025-12-18T16:31:04.758890Z  INFO src/im/conversation/api.rs:251: [ConvAPI] å…¨é‡ä¼šè¯åŒæ­¥å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"conversations":[{"ownerUserID":"3217717393","conversationID":"sg_3250046082","recvMsgOpt":0,"conversationType":3,"userID":"","groupID":"3250046082","isPinned":false,"attachedInfo":"","isPrivateChat":false,"groupAtType":0,"ex":"","burnDuration":0,"minSeq":0,"maxSeq":0,"msgDestructTime":0,"latestMsgDestructTime":-62135596800000,"isMsgDestruct":false},{"ownerUserID":"3217717393","conversationID":"si_1056224172_3217717393","recvMsgOpt":0,"conversationType":1,"userID":"1056224172","groupID":"","isPinned":false,"attachedInfo":"","isPrivateChat":false,"groupAtType":0,"ex":"","burnDuration":0,"minSeq":0,"maxSeq":0,"msgDestructTime":0,"latestMsgDestructTime":-62135596800000,"isMsgDestruct":false}]}}
2025-12-18T16:31:04.758976Z  INFO src/im/conversation/api.rs:286: [ConvAPI] âœ… å…¨é‡ä¼šè¯åŒæ­¥å“åº”ï¼Œä¼šè¯æ•°: 2
2025-12-18T16:31:04.758996Z DEBUG src/im/conversation/api.rs:290: [ConvAPI]   ä¼šè¯è¯¦æƒ…: ["sg_3250046082", "si_1056224172_3217717393"]
2025-12-18T16:31:04.759012Z  INFO src/im/conversation/service.rs:910: [ConvSync] ä»æœåŠ¡å™¨è·å–åˆ° 2 ä¸ªä¼šè¯
2025-12-18T16:31:04.759024Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 30%
2025-12-18T16:31:04.759042Z DEBUG src/im/conversation/service.rs:918: [ConvSync] å·²è½¬æ¢ 2 ä¸ªä¼šè¯ä¸ºæœ¬åœ°æ ¼å¼
2025-12-18T16:31:04.759060Z DEBUG src/im/conversation/service.rs:922: [ConvSync] full_sync -> on_sync_server_progress(50)
2025-12-18T16:31:04.759079Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 50%
2025-12-18T16:31:04.759417Z DEBUG src/im/conversation/dao.rs:171: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T16:31:04.759442Z  INFO src/im/conversation/service.rs:927: [ConvSync] æœ¬åœ°å·²æœ‰ 2 ä¸ªä¼šè¯
2025-12-18T16:31:04.759468Z  INFO src/im/conversation/api.rs:40: [ConvAPI/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-18T16:31:04.759485Z DEBUG src/im/conversation/api.rs:41: [ConvAPI/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-18T16:31:04.759503Z DEBUG src/im/conversation/api.rs:42: [ConvAPI/Seq]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: de933986-1ffa-41a1-ab7c-4f94baaadd90
2025-12-18T16:31:04.766265Z  INFO src/im/friend/api.rs:65: [FriendAPI] å¢é‡å¥½å‹åŒæ­¥å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"version":2,"versionID":"68e1e49803980d63e228abfa","full":false,"delete":null,"insert":null,"update":null,"sortVersion":0}}
2025-12-18T16:31:04.766321Z  INFO src/im/friend/service.rs:163: [FriendSync] å¼€å§‹åŒæ­¥å¥½å‹ï¼ŒæœåŠ¡å™¨å¥½å‹æ•°: 0, æœ¬åœ°å¥½å‹æ•°: 1
2025-12-18T16:31:04.766349Z  INFO src/im/friend/service.rs:233: [FriendSync] å¥½å‹åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-18T16:31:04.766755Z  INFO src/im/friend/service.rs:406: [FriendSync] å·²æ›´æ–°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2 -> 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-18T16:31:04.766774Z  INFO src/im/friend/service.rs:412: [FriendSync] âœ… å¢é‡åŒæ­¥å¥½å‹å®Œæˆ
2025-12-18T16:31:04.766792Z  INFO src/im/friend/api.rs:270: [FriendAPI] ğŸ“¡ è¯·æ±‚é»‘åå•åˆ—è¡¨
2025-12-18T16:31:04.766810Z DEBUG src/im/friend/api.rs:271: [FriendAPI]   è¯·æ±‚URL: http://localhost:10002/friend/get_black_list
2025-12-18T16:31:04.766831Z DEBUG src/im/friend/api.rs:272: [FriendAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: d2be65f6-3fd6-43b3-9682-7f2cfe44d525
2025-12-18T16:31:04.768199Z  INFO src/im/friend/api.rs:305: [FriendAPI] é»‘åå•åˆ—è¡¨å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"blacks":null,"total":0}}
2025-12-18T16:31:04.768239Z  INFO src/im/friend/api.rs:340: [FriendAPI] âœ… é»‘åå•åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-18T16:31:04.768256Z  INFO src/bin/openim-cli.rs:137: [CLI/Friend] ğŸš« é»‘åå•å˜æ›´: []
2025-12-18T16:31:04.768270Z  INFO src/im/friend/api.rs:355: [FriendAPI] ğŸ“¡ è¯·æ±‚å¥½å‹ç”³è¯·åˆ—è¡¨
2025-12-18T16:31:04.768280Z DEBUG src/im/friend/api.rs:356: [FriendAPI]   è¯·æ±‚URL: http://localhost:10002/friend/get_friend_apply_list
2025-12-18T16:31:04.768291Z DEBUG src/im/friend/api.rs:357: [FriendAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 835ccb95-8771-49c9-8501-b2cbb519852b
2025-12-18T16:31:04.771646Z DEBUG src/im/conversation/api.rs:68: [ConvAPI/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-18T16:31:04.771704Z  INFO src/im/conversation/api.rs:88: [ConvAPI/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-18T16:31:04.771786Z  INFO src/im/conversation/api.rs:124: [ConvAPI/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data.seqs å­—æ®µ: {
  "si_1056224172_3217717393": {
    "maxSeq": 43,
    "hasReadSeq": 19,
    "maxSeqTime": 1765637683035
  },
  "sg_3250046082": {
    "maxSeq": 26,
    "hasReadSeq": 13,
    "maxSeqTime": 1765380998099
  }
}
2025-12-18T16:31:04.771807Z  INFO src/im/conversation/api.rs:128: [ConvAPI/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-18T16:31:04.771824Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-18T16:31:04.771838Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-18T16:31:04.771849Z  INFO src/im/conversation/api.rs:144: [ConvAPI/Seq] âœ… è§£æå®Œæˆï¼Œå…± 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-18T16:31:04.771862Z  INFO src/im/conversation/service.rs:932: [ConvSync] è·å–åˆ° 2 ä¸ªä¼šè¯çš„ seqs ä¿¡æ¯ï¼Œç”¨äºè®¾ç½®æœªè¯»æ•°
2025-12-18T16:31:04.771880Z  INFO src/im/conversation/service.rs:529: [ConvSync] å¼€å§‹åŒæ­¥ä¼šè¯ï¼ŒæœåŠ¡å™¨ä¼šè¯æ•°: 2, æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-18T16:31:04.771901Z  INFO src/im/conversation/service.rs:557: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-18T16:31:04.771913Z  INFO src/im/conversation/service.rs:557: [ConvSync]   ä¼šè¯ sg_3250046082 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-18T16:31:04.771924Z DEBUG src/im/conversation/service.rs:594: [ConvSync]   ä¼šè¯ sg_3250046082 æ— éœ€æ›´æ–°
2025-12-18T16:31:04.771933Z DEBUG src/im/conversation/service.rs:594: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ— éœ€æ›´æ–°
2025-12-18T16:31:04.771951Z  INFO src/im/conversation/service.rs:643: [ConvSync] ä¼šè¯åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-18T16:31:04.771964Z DEBUG src/im/conversation/service.rs:947: [ConvSync] full_sync -> on_sync_server_progress(80)
2025-12-18T16:31:04.771975Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 80%
2025-12-18T16:31:04.775249Z  INFO src/im/conversation/service.rs:958: [ConvSync] å·²æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: f096590e-b36b-45dc-8f79-15c386cbe86a
2025-12-18T16:31:04.775270Z DEBUG src/im/conversation/service.rs:963: [ConvSync] full_sync -> on_sync_server_progress(100)
2025-12-18T16:31:04.775282Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 100%
2025-12-18T16:31:04.775278Z  INFO src/im/friend/api.rs:381: [FriendAPI] å¥½å‹ç”³è¯·åˆ—è¡¨å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"FriendRequests":[{"fromUserID":"1056224172","fromNickname":"test1","fromFaceURL":"","toUserID":"3217717393","toNickname":"test3","toFaceURL":"","handleResult":1,"reqMsg":"","createTime":1759634604964,"handlerUserID":"3217717393","handleMsg":"","handleTime":1759634610720,"ex":""}],"total":1}}
2025-12-18T16:31:04.775294Z DEBUG src/im/conversation/service.rs:965: [ConvSync] full_sync -> on_sync_server_finish(reinstalled=false)
2025-12-18T16:31:04.775305Z  INFO src/bin/openim-cli.rs:93: [CLI/Conversation] âœ… åŒæ­¥å®Œæˆ: reinstalled=false
2025-12-18T16:31:04.775317Z  INFO src/im/conversation/service.rs:364: [ConvSync/Seq] ğŸ”„ å¼€å§‹æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°...
2025-12-18T16:31:04.775331Z  INFO src/im/friend/api.rs:416: [FriendAPI] âœ… å¥½å‹ç”³è¯·åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 1
2025-12-18T16:31:04.775365Z  INFO src/bin/openim-cli.rs:141: [CLI/Friend] ğŸ“ å¥½å‹ç”³è¯·å˜æ›´: [{"fromUserID":"1056224172","fromNickname":"test1","fromFaceURL":"","toUserID":"3217717393","toNickname":"test3","toFaceURL":"","handleResult":1,"reqMsg":"","createTime":1759634604964,"handlerUserID":"3217717393","handleMsg":"","handleTime":1759634610720,"ex":""}]
2025-12-18T16:31:04.775383Z  INFO src/im/client.rs:389: [Client] âœ… å¥½å‹åŒæ­¥å®Œæˆ
2025-12-18T16:31:04.775625Z DEBUG src/im/conversation/dao.rs:171: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T16:31:04.775654Z  INFO src/im/conversation/api.rs:40: [ConvAPI/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-18T16:31:04.775665Z DEBUG src/im/conversation/api.rs:41: [ConvAPI/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-18T16:31:04.775676Z DEBUG src/im/conversation/api.rs:42: [ConvAPI/Seq]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 99374f4d-dbf5-489b-8207-54cfe29a445d
2025-12-18T16:31:04.776907Z DEBUG src/im/conversation/api.rs:68: [ConvAPI/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-18T16:31:04.776946Z  INFO src/im/conversation/api.rs:88: [ConvAPI/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-18T16:31:04.776999Z  INFO src/im/conversation/api.rs:124: [ConvAPI/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data.seqs å­—æ®µ: {
  "sg_3250046082": {
    "maxSeq": 26,
    "hasReadSeq": 13,
    "maxSeqTime": 1765380998099
  },
  "si_1056224172_3217717393": {
    "maxSeq": 43,
    "hasReadSeq": 19,
    "maxSeqTime": 1765637683035
  }
}
2025-12-18T16:31:04.777013Z  INFO src/im/conversation/api.rs:128: [ConvAPI/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-18T16:31:04.777024Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-18T16:31:04.777036Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-18T16:31:04.777046Z  INFO src/im/conversation/api.rs:144: [ConvAPI/Seq] âœ… è§£æå®Œæˆï¼Œå…± 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-18T16:31:04.777062Z  INFO src/im/conversation/service.rs:385: [ConvSync/Seq] ğŸ”„ å¼€å§‹æ ¡æ­£æœªè¯»æ•°ï¼ŒæœåŠ¡å™¨è¿”å› 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-18T16:31:04.777076Z DEBUG src/im/conversation/service.rs:405: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=sg_3250046082, unreadCount=13, maxSeq=26
2025-12-18T16:31:04.777088Z DEBUG src/im/conversation/service.rs:405: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=si_1056224172_3217717393, unreadCount=24, maxSeq=43
2025-12-18T16:31:04.777100Z  INFO src/im/conversation/service.rs:420: [ConvSync/Seq] ğŸ“Š æœªè¯»æ•°æ ¡æ­£ç»Ÿè®¡: å·²æ›´æ–° 0 ä¸ªä¼šè¯ï¼Œå‘ç° 0 ä¸ªæœ¬åœ°ç¼ºå¤±ä¼šè¯
2025-12-18T16:31:04.777326Z  INFO src/im/conversation/service.rs:428: [ConvSync/Seq] ğŸ“Š æ ¡æ­£å‰æ€»æœªè¯»æ•°: 37
2025-12-18T16:31:04.777341Z  INFO src/im/conversation/service.rs:511: [ConvSync/Seq] â„¹ï¸ æ— ä¼šè¯å˜æ›´ï¼Œè·³è¿‡å›è°ƒ
2025-12-18T16:31:04.777350Z  INFO src/im/conversation/service.rs:514: [ConvSync/Seq] âœ… æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°å®Œæˆ
2025-12-18T16:31:04.777361Z  INFO src/im/conversation/service.rs:976: [ConvSync] âœ… å…¨é‡åŒæ­¥å®Œæˆ

2025-12-18T16:31:04.777374Z  INFO src/im/client.rs:363: [Client] âœ… ä¼šè¯åŒæ­¥å®Œæˆ
2025-12-18T16:38:31.426594Z  INFO src/bin/openim-cli.rs:76: [CLI] ğŸ“ æ—¥å¿—å·²åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶: debug.log
2025-12-18T16:38:31.426625Z  INFO src/bin/openim-cli.rs:200: [CLI] ğŸš€ OpenIM CLI å®¢æˆ·ç«¯ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰
2025-12-18T16:38:31.426639Z  INFO src/bin/openim-cli.rs:201: [CLI] ğŸ“± æ‰‹æœºå·: 17764338283
2025-12-18T16:38:31.426652Z  INFO src/bin/openim-cli.rs:202: [CLI] â±ï¸  è¿è¡Œæ—¶é•¿: 0 ç§’ï¼ˆ0=æŒç»­è¿è¡Œï¼‰
2025-12-18T16:38:31.426664Z  INFO src/bin/openim-cli.rs:205: [CLI] ğŸ” æ­£åœ¨ç™»å½•...
2025-12-18T16:38:31.426920Z  INFO src/im/auth.rs:48: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-18T16:38:31.426937Z DEBUG src/im/auth.rs:49:    URL: http://localhost:10008/account/login
2025-12-18T16:38:31.426950Z DEBUG src/im/auth.rs:50:    æ‰‹æœºå·: 17764338283
2025-12-18T16:38:31.426962Z DEBUG src/im/auth.rs:51:    OperationID: 2d2560b3-f9b6-47ee-8de1-63540540f2de
2025-12-18T16:38:31.432815Z DEBUG src/im/auth.rs:83: âœ… ç™»å½•å“åº”: {"errCode":0,"errMsg":"","errDlt":"","data":{"imToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiUGxhdGZvcm1JRCI6NSwiZXhwIjoxNzczODUxOTExLCJpYXQiOjE3NjYwNzU5MDZ9.CIhLL_HhnxOYfvGopFo5H9Bw4gLqd7-aJtyzW-GXg0g","chatToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiVXNlclR5cGUiOjEsIlBsYXRmb3JtSUQiOjAsImV4cCI6MTc3Mzg1MTkxMSwibmJmIjoxNzY2MDc1ODUxLCJpYXQiOjE3NjYwNzU5MTF9.vRhfEHSw_XwhpB9R-v1m0gZE4NP3iDgOg9n5lWw1DRc","userID":"3217717393"}}
2025-12-18T16:38:31.432918Z  INFO src/bin/openim-cli.rs:220: [CLI] âœ… ç™»å½•æˆåŠŸï¼ç”¨æˆ·ID: 3217717393
2025-12-18T16:38:31.432954Z  INFO src/bin/openim-cli.rs:232: [CLI] ğŸ”— æ­£åœ¨è¿æ¥æœåŠ¡å™¨...
2025-12-18T16:38:31.432995Z  INFO src/im/client.rs:279: [Client] ğŸ”— è¿æ¥åˆ° OpenIM Server (user=3217717393, platform=5)
2025-12-18T16:38:31.433829Z  INFO src/im/client.rs:285: [Client] âœ… WebSocket è¿æ¥æˆåŠŸ, çŠ¶æ€: 101 Switching Protocols
2025-12-18T16:38:31.433865Z DEBUG src/im/client.rs:300: [Client] ğŸ“¥ WebSocket è¿æ¥å“åº”: {"errCode":0,"errMsg":"","errDlt":""}
2025-12-18T16:38:31.433892Z  INFO src/im/client.rs:304: [Client] âœ… æœåŠ¡å™¨è¿æ¥é‰´æƒæˆåŠŸ
2025-12-18T16:38:31.433926Z  INFO src/im/client.rs:353: [Client] ğŸ’“ å¯åŠ¨å¿ƒè·³
2025-12-18T16:38:31.433936Z  INFO src/im/client.rs:354: [Client] ğŸ“¥ å¼€å§‹ç›‘å¬æœåŠ¡å™¨æ¶ˆæ¯
2025-12-18T16:38:31.433946Z  INFO src/im/client.rs:357: [Client] ğŸ”— åˆ›å»ºå…±äº«æ•°æ®åº“è¿æ¥: sqlite://conversations.db?mode=rwc
2025-12-18T16:38:31.433977Z  INFO src/bin/openim-cli.rs:180: [CLI/Message] ğŸ”— å·²è¿æ¥: è¿æ¥æˆåŠŸ
2025-12-18T16:38:31.434729Z  INFO src/im/client.rs:370: [Client] ğŸ“‹ åˆå§‹åŒ–æ•°æ®åº“è¡¨ç»“æ„
2025-12-18T16:38:31.434748Z  INFO src/im/conversation/dao.rs:81: [ConvDAO/DB] åˆå§‹åŒ–ä¼šè¯æ•°æ®åº“è¡¨ç»“æ„
2025-12-18T16:38:31.435047Z  INFO src/im/conversation/dao.rs:130: [ConvDAO/DB] æ•°æ®åº“è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-18T16:38:31.435061Z  INFO src/im/friend/dao.rs:60: [FriendDAO/DB] åˆå§‹åŒ–å¥½å‹æ•°æ®åº“è¡¨ç»“æ„
2025-12-18T16:38:31.435153Z  INFO src/im/friend/dao.rs:85: [FriendDAO/DB] æ•°æ®åº“è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-18T16:38:31.435249Z  INFO src/im/conversation/service.rs:120: [ConvSync] åˆ›å»ºä¼šè¯åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-18T16:38:31.435288Z  INFO src/im/client.rs:407: [Client] ğŸ”„ å¯åŠ¨ä¼šè¯å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-18T16:38:31.435299Z  INFO src/im/friend/service.rs:101: [FriendSync] åˆ›å»ºå¥½å‹åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-18T16:38:31.435343Z  INFO src/im/client.rs:433: [Client] ğŸ”„ å¯åŠ¨å¥½å‹å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-18T16:38:31.435345Z  INFO src/im/conversation/service.rs:669: [ConvSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥ä¼šè¯...
2025-12-18T16:38:31.435385Z  INFO src/im/friend/service.rs:254: [FriendSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥å¥½å‹...
2025-12-18T16:38:31.435592Z DEBUG src/im/conversation/service.rs:675: [ConvSync] æœ¬åœ°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: f096590e-b36b-45dc-8f79-15c386cbe86a
2025-12-18T16:38:31.435673Z  INFO src/bin/openim-cli.rs:240: [CLI] âœ… è¿æ¥æˆåŠŸï¼
2025-12-18T16:38:31.435706Z DEBUG src/im/conversation/service.rs:1028: [ConvSync] è·å–æ‰€æœ‰ä¼šè¯åˆ—è¡¨
2025-12-18T16:38:31.435722Z DEBUG src/im/conversation/service.rs:986: [ConvSync] è·å–ä¼šè¯åˆ—è¡¨ï¼Œåç§»: 0, æ•°é‡: 18446744073709551615
2025-12-18T16:38:31.435827Z DEBUG src/im/friend/service.rs:259: [FriendSync] æœ¬åœ°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-18T16:38:31.436133Z DEBUG src/im/conversation/dao.rs:171: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T16:38:31.436323Z DEBUG src/im/conversation/dao.rs:171: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T16:38:31.436340Z DEBUG src/im/conversation/service.rs:993: [ConvSync] è¿‡æ»¤åä¼šè¯æ•°: 0 (è¿‡æ»¤æ‰æ— æ¶ˆæ¯æ—¶é—´çš„ä¼šè¯)
2025-12-18T16:38:31.436350Z DEBUG src/im/conversation/service.rs:1017: [ConvSync] è¿”å› 0 ä¸ªä¼šè¯ (èŒƒå›´: 0 - 0)
2025-12-18T16:38:31.436362Z  INFO src/bin/openim-cli.rs:246: [CLI] ğŸ“‹ ä¼šè¯åˆ—è¡¨ï¼ˆå…± 0 ä¸ªï¼‰:
2025-12-18T16:38:31.436468Z DEBUG src/im/friend/dao.rs:114: [FriendDAO] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-18T16:38:31.436666Z DEBUG src/im/conversation/dao.rs:190: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-18T16:38:31.436683Z  INFO src/im/conversation/service.rs:686: [ConvSync] æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-18T16:38:31.436701Z  INFO src/im/conversation/service.rs:769: [ConvSync] ä½¿ç”¨å¢é‡åŒæ­¥ï¼Œç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: f096590e-b36b-45dc-8f79-15c386cbe86a
2025-12-18T16:38:31.436714Z  INFO src/bin/openim-cli.rs:86: [CLI/Conversation] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-18T16:38:31.436728Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 10%
2025-12-18T16:38:31.436751Z  INFO src/im/conversation/api.rs:164: [ConvAPI] ğŸ“¡ è¯·æ±‚å¢é‡ä¼šè¯åŒæ­¥
   è¯·æ±‚URL: http://localhost:10002/conversation/get_incremental_conversations
   ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: f096590e-b36b-45dc-8f79-15c386cbe86a
   ç”¨æˆ·ID: 3217717393
   æ“ä½œID: ed765b52-a262-47a2-a967-711e5da6ee8d
2025-12-18T16:38:31.437015Z DEBUG src/im/friend/dao.rs:114: [FriendDAO] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-18T16:38:31.437035Z  INFO src/bin/openim-cli.rs:262: [CLI] ğŸ‘¥ å¥½å‹åˆ—è¡¨ï¼ˆå…± 1 ä¸ªï¼‰
2025-12-18T16:38:31.437120Z DEBUG src/im/friend/dao.rs:133: [FriendDAO] è·å–æœ¬åœ°å¥½å‹IDåˆ—è¡¨ï¼Œå…± 1 ä¸ª
2025-12-18T16:38:31.437153Z  INFO src/im/friend/api.rs:41: [FriendAPI] ğŸ“¡ è¯·æ±‚å¢é‡å¥½å‹åŒæ­¥
2025-12-18T16:38:31.437174Z DEBUG src/im/friend/api.rs:42: [FriendAPI]   è¯·æ±‚URL: http://localhost:10002/friend/get_incremental_friends
2025-12-18T16:38:31.437192Z DEBUG src/im/friend/api.rs:43: [FriendAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 97a96c4c-c3ee-4220-b9eb-230adcd0b329
2025-12-18T16:38:31.437452Z  INFO src/bin/openim-cli.rs:266: [CLI] ğŸ“¬ æ€»æœªè¯»æ•°: 37
2025-12-18T16:38:31.437471Z  INFO src/bin/openim-cli.rs:270: [CLI] ğŸ“¥ å¼€å§‹ç›‘å¬æ¶ˆæ¯...
2025-12-18T16:38:31.437483Z  INFO src/bin/openim-cli.rs:271: [CLI] ğŸ’¡ æç¤ºï¼šç¨‹åºå°†æŒç»­è¿è¡Œå¹¶æ˜¾ç¤ºæ¥æ”¶åˆ°çš„æ‰€æœ‰æ¶ˆæ¯å’Œäº‹ä»¶
2025-12-18T16:38:31.437496Z  INFO src/bin/openim-cli.rs:277: [CLI] â° æŒç»­è¿è¡Œä¸­ï¼ŒæŒ‰ Ctrl+C é€€å‡º
2025-12-18T16:38:31.438162Z  INFO src/im/conversation/api.rs:186: [ConvAPI] å¢é‡ä¼šè¯åŒæ­¥å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"version":3,"versionID":"68e1e4982a00312739a80eef","full":true,"delete":null,"insert":null,"update":null}}
2025-12-18T16:38:31.438210Z  INFO src/im/conversation/service.rs:792: [ConvSync] âœ… å¢é‡ä¼šè¯åŒæ­¥å“åº”
   å…¨é‡åŒæ­¥: true
   ç‰ˆæœ¬ID: 68e1e4982a00312739a80eef
   ç‰ˆæœ¬: 3
   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-18T16:38:31.438225Z DEBUG src/im/conversation/service.rs:796: [ConvSync]   åˆ é™¤çš„ä¼šè¯ID: []
2025-12-18T16:38:31.438236Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 50%
2025-12-18T16:38:31.438251Z  WARN src/im/conversation/service.rs:801: [ConvSync]   æœåŠ¡å™¨è¦æ±‚å…¨é‡åŒæ­¥...
2025-12-18T16:38:31.438266Z  INFO src/im/conversation/service.rs:886: [ConvSync] ğŸ”„ å¼€å§‹å…¨é‡åŒæ­¥ä¼šè¯...
2025-12-18T16:38:31.438279Z  INFO src/im/friend/api.rs:65: [FriendAPI] å¢é‡å¥½å‹åŒæ­¥å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"version":2,"versionID":"68e1e49803980d63e228abfa","full":false,"delete":null,"insert":null,"update":null,"sortVersion":0}}
2025-12-18T16:38:31.438314Z  INFO src/im/friend/service.rs:163: [FriendSync] å¼€å§‹åŒæ­¥å¥½å‹ï¼ŒæœåŠ¡å™¨å¥½å‹æ•°: 0, æœ¬åœ°å¥½å‹æ•°: 1
2025-12-18T16:38:31.438335Z  INFO src/im/friend/service.rs:233: [FriendSync] å¥½å‹åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-18T16:38:31.438494Z DEBUG src/im/conversation/dao.rs:190: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-18T16:38:31.438511Z DEBUG src/im/conversation/service.rs:889: [ConvSync] full_sync -> on_sync_server_start(reinstalled=false)
2025-12-18T16:38:31.438521Z  INFO src/bin/openim-cli.rs:86: [CLI/Conversation] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-18T16:38:31.438531Z DEBUG src/im/conversation/service.rs:894: [ConvSync] full_sync -> on_sync_server_progress(10)
2025-12-18T16:38:31.438540Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 10%
2025-12-18T16:38:31.438557Z  INFO src/im/conversation/api.rs:229: [ConvAPI] ğŸ“¡ è¯·æ±‚å…¨é‡ä¼šè¯åŒæ­¥
2025-12-18T16:38:31.438567Z DEBUG src/im/conversation/api.rs:230: [ConvAPI]   è¯·æ±‚URL: http://localhost:10002/conversation/get_all_conversations
2025-12-18T16:38:31.438577Z DEBUG src/im/conversation/api.rs:231: [ConvAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 11161fcf-f5f2-4586-841d-9b0f4ad85a83
2025-12-18T16:38:31.438887Z  INFO src/im/friend/service.rs:406: [FriendSync] å·²æ›´æ–°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2 -> 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-18T16:38:31.438903Z  INFO src/im/friend/service.rs:412: [FriendSync] âœ… å¢é‡åŒæ­¥å¥½å‹å®Œæˆ
2025-12-18T16:38:31.438915Z  INFO src/im/friend/api.rs:270: [FriendAPI] ğŸ“¡ è¯·æ±‚é»‘åå•åˆ—è¡¨
2025-12-18T16:38:31.438927Z DEBUG src/im/friend/api.rs:271: [FriendAPI]   è¯·æ±‚URL: http://localhost:10002/friend/get_black_list
2025-12-18T16:38:31.438940Z DEBUG src/im/friend/api.rs:272: [FriendAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 444d950a-8b54-4abe-ab87-286ba0665e75
2025-12-18T16:38:31.439474Z  INFO src/im/conversation/api.rs:251: [ConvAPI] å…¨é‡ä¼šè¯åŒæ­¥å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"conversations":[{"ownerUserID":"3217717393","conversationID":"si_1056224172_3217717393","recvMsgOpt":0,"conversationType":1,"userID":"1056224172","groupID":"","isPinned":false,"attachedInfo":"","isPrivateChat":false,"groupAtType":0,"ex":"","burnDuration":0,"minSeq":0,"maxSeq":0,"msgDestructTime":0,"latestMsgDestructTime":-62135596800000,"isMsgDestruct":false},{"ownerUserID":"3217717393","conversationID":"sg_3250046082","recvMsgOpt":0,"conversationType":3,"userID":"","groupID":"3250046082","isPinned":false,"attachedInfo":"","isPrivateChat":false,"groupAtType":0,"ex":"","burnDuration":0,"minSeq":0,"maxSeq":0,"msgDestructTime":0,"latestMsgDestructTime":-62135596800000,"isMsgDestruct":false}]}}
2025-12-18T16:38:31.439540Z  INFO src/im/conversation/api.rs:286: [ConvAPI] âœ… å…¨é‡ä¼šè¯åŒæ­¥å“åº”ï¼Œä¼šè¯æ•°: 2
2025-12-18T16:38:31.439558Z DEBUG src/im/conversation/api.rs:290: [ConvAPI]   ä¼šè¯è¯¦æƒ…: ["si_1056224172_3217717393", "sg_3250046082"]
2025-12-18T16:38:31.439573Z  INFO src/im/conversation/service.rs:910: [ConvSync] ä»æœåŠ¡å™¨è·å–åˆ° 2 ä¸ªä¼šè¯
2025-12-18T16:38:31.439584Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 30%
2025-12-18T16:38:31.439598Z DEBUG src/im/conversation/service.rs:918: [ConvSync] å·²è½¬æ¢ 2 ä¸ªä¼šè¯ä¸ºæœ¬åœ°æ ¼å¼
2025-12-18T16:38:31.439611Z DEBUG src/im/conversation/service.rs:922: [ConvSync] full_sync -> on_sync_server_progress(50)
2025-12-18T16:38:31.439622Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 50%
2025-12-18T16:38:31.439852Z DEBUG src/im/conversation/dao.rs:171: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T16:38:31.439871Z  INFO src/im/conversation/service.rs:927: [ConvSync] æœ¬åœ°å·²æœ‰ 2 ä¸ªä¼šè¯
2025-12-18T16:38:31.439887Z  INFO src/im/conversation/api.rs:40: [ConvAPI/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-18T16:38:31.439906Z DEBUG src/im/conversation/api.rs:41: [ConvAPI/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-18T16:38:31.439921Z DEBUG src/im/conversation/api.rs:42: [ConvAPI/Seq]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 5a1b00aa-90ad-49c5-a1a4-1d3a3e91bf80
2025-12-18T16:38:31.439954Z  INFO src/im/friend/api.rs:305: [FriendAPI] é»‘åå•åˆ—è¡¨å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"blacks":null,"total":0}}
2025-12-18T16:38:31.439981Z  INFO src/im/friend/api.rs:340: [FriendAPI] âœ… é»‘åå•åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-18T16:38:31.439997Z  INFO src/bin/openim-cli.rs:137: [CLI/Friend] ğŸš« é»‘åå•å˜æ›´: []
2025-12-18T16:38:31.440011Z  INFO src/im/friend/api.rs:355: [FriendAPI] ğŸ“¡ è¯·æ±‚å¥½å‹ç”³è¯·åˆ—è¡¨
2025-12-18T16:38:31.440023Z DEBUG src/im/friend/api.rs:356: [FriendAPI]   è¯·æ±‚URL: http://localhost:10002/friend/get_friend_apply_list
2025-12-18T16:38:31.440037Z DEBUG src/im/friend/api.rs:357: [FriendAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 5014f1a8-0e97-4c75-95e8-c1f91c5c0c8b
2025-12-18T16:38:31.441415Z DEBUG src/im/conversation/api.rs:68: [ConvAPI/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-18T16:38:31.441424Z  INFO src/im/friend/api.rs:381: [FriendAPI] å¥½å‹ç”³è¯·åˆ—è¡¨å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"FriendRequests":[{"fromUserID":"1056224172","fromNickname":"test1","fromFaceURL":"","toUserID":"3217717393","toNickname":"test3","toFaceURL":"","handleResult":1,"reqMsg":"","createTime":1759634604964,"handlerUserID":"3217717393","handleMsg":"","handleTime":1759634610720,"ex":""}],"total":1}}
2025-12-18T16:38:31.441455Z  INFO src/im/conversation/api.rs:88: [ConvAPI/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-18T16:38:31.441474Z  INFO src/im/friend/api.rs:416: [FriendAPI] âœ… å¥½å‹ç”³è¯·åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 1
2025-12-18T16:38:31.441513Z  INFO src/im/conversation/api.rs:124: [ConvAPI/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data.seqs å­—æ®µ: {
  "sg_3250046082": {
    "maxSeq": 26,
    "hasReadSeq": 13,
    "maxSeqTime": 1765380998099
  },
  "si_1056224172_3217717393": {
    "maxSeq": 43,
    "hasReadSeq": 19,
    "maxSeqTime": 1765637683035
  }
}
2025-12-18T16:38:31.441520Z  INFO src/bin/openim-cli.rs:141: [CLI/Friend] ğŸ“ å¥½å‹ç”³è¯·å˜æ›´: [{"fromUserID":"1056224172","fromNickname":"test1","fromFaceURL":"","toUserID":"3217717393","toNickname":"test3","toFaceURL":"","handleResult":1,"reqMsg":"","createTime":1759634604964,"handlerUserID":"3217717393","handleMsg":"","handleTime":1759634610720,"ex":""}]
2025-12-18T16:38:31.441529Z  INFO src/im/conversation/api.rs:128: [ConvAPI/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-18T16:38:31.441542Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-18T16:38:31.441547Z  INFO src/im/client.rs:436: [Client] âœ… å¥½å‹åŒæ­¥å®Œæˆ
2025-12-18T16:38:31.441554Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-18T16:38:31.441565Z  INFO src/im/conversation/api.rs:144: [ConvAPI/Seq] âœ… è§£æå®Œæˆï¼Œå…± 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-18T16:38:31.441577Z  INFO src/im/conversation/service.rs:932: [ConvSync] è·å–åˆ° 2 ä¸ªä¼šè¯çš„ seqs ä¿¡æ¯ï¼Œç”¨äºè®¾ç½®æœªè¯»æ•°
2025-12-18T16:38:31.441593Z  INFO src/im/conversation/service.rs:529: [ConvSync] å¼€å§‹åŒæ­¥ä¼šè¯ï¼ŒæœåŠ¡å™¨ä¼šè¯æ•°: 2, æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-18T16:38:31.441611Z  INFO src/im/conversation/service.rs:557: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-18T16:38:31.441623Z  INFO src/im/conversation/service.rs:557: [ConvSync]   ä¼šè¯ sg_3250046082 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-18T16:38:31.441640Z DEBUG src/im/conversation/service.rs:594: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ— éœ€æ›´æ–°
2025-12-18T16:38:31.441649Z DEBUG src/im/conversation/service.rs:594: [ConvSync]   ä¼šè¯ sg_3250046082 æ— éœ€æ›´æ–°
2025-12-18T16:38:31.441665Z  INFO src/im/conversation/service.rs:643: [ConvSync] ä¼šè¯åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-18T16:38:31.441677Z DEBUG src/im/conversation/service.rs:947: [ConvSync] full_sync -> on_sync_server_progress(80)
2025-12-18T16:38:31.441716Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 80%
2025-12-18T16:38:31.446055Z  INFO src/im/conversation/service.rs:958: [ConvSync] å·²æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 97e49298-c212-4afd-971f-43529079ea91
2025-12-18T16:38:31.446074Z DEBUG src/im/conversation/service.rs:963: [ConvSync] full_sync -> on_sync_server_progress(100)
2025-12-18T16:38:31.446085Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 100%
2025-12-18T16:38:31.446098Z DEBUG src/im/conversation/service.rs:965: [ConvSync] full_sync -> on_sync_server_finish(reinstalled=false)
2025-12-18T16:38:31.446110Z  INFO src/bin/openim-cli.rs:93: [CLI/Conversation] âœ… åŒæ­¥å®Œæˆ: reinstalled=false
2025-12-18T16:38:31.446123Z  INFO src/im/conversation/service.rs:364: [ConvSync/Seq] ğŸ”„ å¼€å§‹æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°...
2025-12-18T16:38:31.446393Z DEBUG src/im/conversation/dao.rs:171: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T16:38:31.446418Z  INFO src/im/conversation/api.rs:40: [ConvAPI/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-18T16:38:31.446430Z DEBUG src/im/conversation/api.rs:41: [ConvAPI/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-18T16:38:31.446442Z DEBUG src/im/conversation/api.rs:42: [ConvAPI/Seq]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 8ecaa15c-c603-405d-b5cd-bd5aded42978
2025-12-18T16:38:31.447522Z DEBUG src/im/conversation/api.rs:68: [ConvAPI/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-18T16:38:31.447564Z  INFO src/im/conversation/api.rs:88: [ConvAPI/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-18T16:38:31.447632Z  INFO src/im/conversation/api.rs:124: [ConvAPI/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data.seqs å­—æ®µ: {
  "sg_3250046082": {
    "maxSeq": 26,
    "hasReadSeq": 13,
    "maxSeqTime": 1765380998099
  },
  "si_1056224172_3217717393": {
    "maxSeq": 43,
    "hasReadSeq": 19,
    "maxSeqTime": 1765637683035
  }
}
2025-12-18T16:38:31.447656Z  INFO src/im/conversation/api.rs:128: [ConvAPI/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-18T16:38:31.447669Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-18T16:38:31.447685Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-18T16:38:31.447703Z  INFO src/im/conversation/api.rs:144: [ConvAPI/Seq] âœ… è§£æå®Œæˆï¼Œå…± 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-18T16:38:31.447718Z  INFO src/im/conversation/service.rs:385: [ConvSync/Seq] ğŸ”„ å¼€å§‹æ ¡æ­£æœªè¯»æ•°ï¼ŒæœåŠ¡å™¨è¿”å› 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-18T16:38:31.447738Z DEBUG src/im/conversation/service.rs:405: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=sg_3250046082, unreadCount=13, maxSeq=26
2025-12-18T16:38:31.447758Z DEBUG src/im/conversation/service.rs:405: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=si_1056224172_3217717393, unreadCount=24, maxSeq=43
2025-12-18T16:38:31.447782Z  INFO src/im/conversation/service.rs:420: [ConvSync/Seq] ğŸ“Š æœªè¯»æ•°æ ¡æ­£ç»Ÿè®¡: å·²æ›´æ–° 0 ä¸ªä¼šè¯ï¼Œå‘ç° 0 ä¸ªæœ¬åœ°ç¼ºå¤±ä¼šè¯
2025-12-18T16:38:31.448076Z  INFO src/im/conversation/service.rs:428: [ConvSync/Seq] ğŸ“Š æ ¡æ­£å‰æ€»æœªè¯»æ•°: 37
2025-12-18T16:38:31.448100Z  INFO src/im/conversation/service.rs:511: [ConvSync/Seq] â„¹ï¸ æ— ä¼šè¯å˜æ›´ï¼Œè·³è¿‡å›è°ƒ
2025-12-18T16:38:31.448111Z  INFO src/im/conversation/service.rs:514: [ConvSync/Seq] âœ… æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°å®Œæˆ
2025-12-18T16:38:31.448125Z  INFO src/im/conversation/service.rs:976: [ConvSync] âœ… å…¨é‡åŒæ­¥å®Œæˆ

2025-12-18T16:38:31.448140Z  INFO src/im/client.rs:410: [Client] âœ… ä¼šè¯åŒæ­¥å®Œæˆ
2025-12-18T16:43:54.988172Z  INFO src/bin/openim-cli.rs:76: [CLI] ğŸ“ æ—¥å¿—å·²åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶: debug.log
2025-12-18T16:43:54.988206Z  INFO src/bin/openim-cli.rs:200: [CLI] ğŸš€ OpenIM CLI å®¢æˆ·ç«¯ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰
2025-12-18T16:43:54.988218Z  INFO src/bin/openim-cli.rs:201: [CLI] ğŸ“± æ‰‹æœºå·: 17764338283
2025-12-18T16:43:54.988230Z  INFO src/bin/openim-cli.rs:202: [CLI] â±ï¸  è¿è¡Œæ—¶é•¿: 0 ç§’ï¼ˆ0=æŒç»­è¿è¡Œï¼‰
2025-12-18T16:43:54.988240Z  INFO src/bin/openim-cli.rs:205: [CLI] ğŸ” æ­£åœ¨ç™»å½•...
2025-12-18T16:43:54.988469Z  INFO src/im/auth.rs:48: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-18T16:43:54.988481Z DEBUG src/im/auth.rs:49:    URL: http://localhost:10008/account/login
2025-12-18T16:43:54.988490Z DEBUG src/im/auth.rs:50:    æ‰‹æœºå·: 17764338283
2025-12-18T16:43:54.988499Z DEBUG src/im/auth.rs:51:    OperationID: 7d8dc4c3-24f9-42a9-b5d2-c44d5a33f4b8
2025-12-18T16:43:54.994645Z DEBUG src/im/auth.rs:83: âœ… ç™»å½•å“åº”: {"errCode":0,"errMsg":"","errDlt":"","data":{"imToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiUGxhdGZvcm1JRCI6NSwiZXhwIjoxNzczODUyMjM0LCJpYXQiOjE3NjYwNzYyMjl9.QSOtid6X7ZPqYWFtRliv6hj3xKanYFw9wqyGcb2rN3A","chatToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiVXNlclR5cGUiOjEsIlBsYXRmb3JtSUQiOjAsImV4cCI6MTc3Mzg1MjIzNCwibmJmIjoxNzY2MDc2MTc0LCJpYXQiOjE3NjYwNzYyMzR9.VVj0l7tn00Vgj-99TI3V1EsL5aTm3G5UB5Sizn28GeY","userID":"3217717393"}}
2025-12-18T16:43:54.994746Z  INFO src/bin/openim-cli.rs:220: [CLI] âœ… ç™»å½•æˆåŠŸï¼ç”¨æˆ·ID: 3217717393
2025-12-18T16:43:54.994775Z  INFO src/bin/openim-cli.rs:232: [CLI] ğŸ”— æ­£åœ¨è¿æ¥æœåŠ¡å™¨...
2025-12-18T16:43:54.994810Z  INFO src/im/client.rs:294: [Client] ğŸ”— è¿æ¥åˆ° OpenIM Server (user=3217717393, platform=5)
2025-12-18T16:43:54.995583Z  INFO src/im/client.rs:300: [Client] âœ… WebSocket è¿æ¥æˆåŠŸ, çŠ¶æ€: 101 Switching Protocols
2025-12-18T16:43:54.995616Z DEBUG src/im/client.rs:315: [Client] ğŸ“¥ WebSocket è¿æ¥å“åº”: {"errCode":0,"errMsg":"","errDlt":""}
2025-12-18T16:43:54.995642Z  INFO src/im/client.rs:319: [Client] âœ… æœåŠ¡å™¨è¿æ¥é‰´æƒæˆåŠŸ
2025-12-18T16:43:54.995676Z  INFO src/im/client.rs:381: [Client] ğŸ’“ å¯åŠ¨å¿ƒè·³
2025-12-18T16:43:54.995690Z  INFO src/im/client.rs:382: [Client] ğŸ“¥ å¼€å§‹ç›‘å¬æœåŠ¡å™¨æ¶ˆæ¯
2025-12-18T16:43:54.995706Z  INFO src/im/client.rs:385: [Client] ğŸ”— åˆ›å»ºå…±äº«æ•°æ®åº“è¿æ¥: sqlite://conversations.db?mode=rwc
2025-12-18T16:43:54.995717Z  INFO src/bin/openim-cli.rs:180: [CLI/Message] ğŸ”— å·²è¿æ¥: è¿æ¥æˆåŠŸ
2025-12-18T16:43:54.996455Z  INFO src/im/client.rs:398: [Client] ğŸ“‹ åˆå§‹åŒ–æ•°æ®åº“è¡¨ç»“æ„
2025-12-18T16:43:54.996475Z  INFO src/im/conversation/dao.rs:81: [ConvDAO/DB] åˆå§‹åŒ–ä¼šè¯æ•°æ®åº“è¡¨ç»“æ„
2025-12-18T16:43:54.996810Z  INFO src/im/conversation/dao.rs:130: [ConvDAO/DB] æ•°æ®åº“è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-18T16:43:54.996825Z  INFO src/im/friend/dao.rs:60: [FriendDAO/DB] åˆå§‹åŒ–å¥½å‹æ•°æ®åº“è¡¨ç»“æ„
2025-12-18T16:43:54.996907Z  INFO src/im/friend/dao.rs:85: [FriendDAO/DB] æ•°æ®åº“è¡¨åˆå§‹åŒ–å®Œæˆ
2025-12-18T16:43:54.997004Z  INFO src/im/conversation/service.rs:120: [ConvSync] åˆ›å»ºä¼šè¯åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-18T16:43:54.997055Z  INFO src/im/client.rs:435: [Client] ğŸ”„ å¯åŠ¨ä¼šè¯å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-18T16:43:54.997077Z  INFO src/im/friend/service.rs:101: [FriendSync] åˆ›å»ºå¥½å‹åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-18T16:43:54.997115Z  INFO src/im/conversation/service.rs:669: [ConvSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥ä¼šè¯...
2025-12-18T16:43:54.997120Z  INFO src/im/client.rs:461: [Client] ğŸ”„ å¯åŠ¨å¥½å‹å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-18T16:43:54.997165Z  INFO src/im/friend/service.rs:254: [FriendSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥å¥½å‹...
2025-12-18T16:43:54.997401Z DEBUG src/im/conversation/service.rs:675: [ConvSync] æœ¬åœ°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 97e49298-c212-4afd-971f-43529079ea91
2025-12-18T16:43:54.997481Z  INFO src/bin/openim-cli.rs:240: [CLI] âœ… è¿æ¥æˆåŠŸï¼
2025-12-18T16:43:54.997497Z DEBUG src/im/conversation/service.rs:1028: [ConvSync] è·å–æ‰€æœ‰ä¼šè¯åˆ—è¡¨
2025-12-18T16:43:54.997507Z DEBUG src/im/conversation/service.rs:986: [ConvSync] è·å–ä¼šè¯åˆ—è¡¨ï¼Œåç§»: 0, æ•°é‡: 18446744073709551615
2025-12-18T16:43:54.997604Z DEBUG src/im/friend/service.rs:259: [FriendSync] æœ¬åœ°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-18T16:43:54.997997Z DEBUG src/im/conversation/dao.rs:171: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T16:43:54.998227Z DEBUG src/im/conversation/dao.rs:171: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T16:43:54.998244Z DEBUG src/im/conversation/service.rs:993: [ConvSync] è¿‡æ»¤åä¼šè¯æ•°: 0 (è¿‡æ»¤æ‰æ— æ¶ˆæ¯æ—¶é—´çš„ä¼šè¯)
2025-12-18T16:43:54.998256Z DEBUG src/im/conversation/service.rs:1017: [ConvSync] è¿”å› 0 ä¸ªä¼šè¯ (èŒƒå›´: 0 - 0)
2025-12-18T16:43:54.998268Z  INFO src/bin/openim-cli.rs:246: [CLI] ğŸ“‹ ä¼šè¯åˆ—è¡¨ï¼ˆå…± 0 ä¸ªï¼‰:
2025-12-18T16:43:54.998398Z DEBUG src/im/friend/dao.rs:114: [FriendDAO] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-18T16:43:54.998622Z DEBUG src/im/conversation/dao.rs:190: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-18T16:43:54.998641Z  INFO src/im/conversation/service.rs:686: [ConvSync] æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-18T16:43:54.998679Z  INFO src/im/conversation/service.rs:769: [ConvSync] ä½¿ç”¨å¢é‡åŒæ­¥ï¼Œç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 97e49298-c212-4afd-971f-43529079ea91
2025-12-18T16:43:54.998713Z  INFO src/bin/openim-cli.rs:86: [CLI/Conversation] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-18T16:43:54.998730Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 10%
2025-12-18T16:43:54.998758Z  INFO src/im/conversation/api.rs:164: [ConvAPI] ğŸ“¡ è¯·æ±‚å¢é‡ä¼šè¯åŒæ­¥
   è¯·æ±‚URL: http://localhost:10002/conversation/get_incremental_conversations
   ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 97e49298-c212-4afd-971f-43529079ea91
   ç”¨æˆ·ID: 3217717393
   æ“ä½œID: c4f26752-f9d8-420f-aa39-e879eeea30b8
2025-12-18T16:43:54.999101Z DEBUG src/im/friend/dao.rs:114: [FriendDAO] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-18T16:43:54.999117Z  INFO src/bin/openim-cli.rs:262: [CLI] ğŸ‘¥ å¥½å‹åˆ—è¡¨ï¼ˆå…± 1 ä¸ªï¼‰
2025-12-18T16:43:54.999204Z DEBUG src/im/friend/dao.rs:133: [FriendDAO] è·å–æœ¬åœ°å¥½å‹IDåˆ—è¡¨ï¼Œå…± 1 ä¸ª
2025-12-18T16:43:54.999231Z  INFO src/im/friend/api.rs:41: [FriendAPI] ğŸ“¡ è¯·æ±‚å¢é‡å¥½å‹åŒæ­¥
2025-12-18T16:43:54.999244Z DEBUG src/im/friend/api.rs:42: [FriendAPI]   è¯·æ±‚URL: http://localhost:10002/friend/get_incremental_friends
2025-12-18T16:43:54.999254Z DEBUG src/im/friend/api.rs:43: [FriendAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 390afba2-6359-418d-aefb-80adf3bb79cb
2025-12-18T16:43:54.999533Z  INFO src/bin/openim-cli.rs:266: [CLI] ğŸ“¬ æ€»æœªè¯»æ•°: 37
2025-12-18T16:43:54.999551Z  INFO src/bin/openim-cli.rs:270: [CLI] ğŸ“¥ å¼€å§‹ç›‘å¬æ¶ˆæ¯...
2025-12-18T16:43:54.999562Z  INFO src/bin/openim-cli.rs:271: [CLI] ğŸ’¡ æç¤ºï¼šç¨‹åºå°†æŒç»­è¿è¡Œå¹¶æ˜¾ç¤ºæ¥æ”¶åˆ°çš„æ‰€æœ‰æ¶ˆæ¯å’Œäº‹ä»¶
2025-12-18T16:43:54.999576Z  INFO src/bin/openim-cli.rs:277: [CLI] â° æŒç»­è¿è¡Œä¸­ï¼ŒæŒ‰ Ctrl+C é€€å‡º
2025-12-18T16:43:55.000268Z  INFO src/im/conversation/api.rs:186: [ConvAPI] å¢é‡ä¼šè¯åŒæ­¥å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"version":3,"versionID":"68e1e4982a00312739a80eef","full":true,"delete":null,"insert":null,"update":null}}
2025-12-18T16:43:55.000311Z  INFO src/im/conversation/service.rs:792: [ConvSync] âœ… å¢é‡ä¼šè¯åŒæ­¥å“åº”
   å…¨é‡åŒæ­¥: true
   ç‰ˆæœ¬ID: 68e1e4982a00312739a80eef
   ç‰ˆæœ¬: 3
   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-18T16:43:55.000331Z DEBUG src/im/conversation/service.rs:796: [ConvSync]   åˆ é™¤çš„ä¼šè¯ID: []
2025-12-18T16:43:55.000341Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 50%
2025-12-18T16:43:55.000354Z  WARN src/im/conversation/service.rs:801: [ConvSync]   æœåŠ¡å™¨è¦æ±‚å…¨é‡åŒæ­¥...
2025-12-18T16:43:55.000366Z  INFO src/im/conversation/service.rs:886: [ConvSync] ğŸ”„ å¼€å§‹å…¨é‡åŒæ­¥ä¼šè¯...
2025-12-18T16:43:55.000402Z  INFO src/im/friend/api.rs:65: [FriendAPI] å¢é‡å¥½å‹åŒæ­¥å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"version":2,"versionID":"68e1e49803980d63e228abfa","full":false,"delete":null,"insert":null,"update":null,"sortVersion":0}}
2025-12-18T16:43:55.000438Z  INFO src/im/friend/service.rs:163: [FriendSync] å¼€å§‹åŒæ­¥å¥½å‹ï¼ŒæœåŠ¡å™¨å¥½å‹æ•°: 0, æœ¬åœ°å¥½å‹æ•°: 1
2025-12-18T16:43:55.000458Z  INFO src/im/friend/service.rs:233: [FriendSync] å¥½å‹åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-18T16:43:55.000615Z DEBUG src/im/conversation/dao.rs:190: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-18T16:43:55.000632Z DEBUG src/im/conversation/service.rs:889: [ConvSync] full_sync -> on_sync_server_start(reinstalled=false)
2025-12-18T16:43:55.000649Z  INFO src/bin/openim-cli.rs:86: [CLI/Conversation] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-18T16:43:55.000665Z DEBUG src/im/conversation/service.rs:894: [ConvSync] full_sync -> on_sync_server_progress(10)
2025-12-18T16:43:55.000703Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 10%
2025-12-18T16:43:55.000751Z  INFO src/im/conversation/api.rs:229: [ConvAPI] ğŸ“¡ è¯·æ±‚å…¨é‡ä¼šè¯åŒæ­¥
2025-12-18T16:43:55.000769Z DEBUG src/im/conversation/api.rs:230: [ConvAPI]   è¯·æ±‚URL: http://localhost:10002/conversation/get_all_conversations
2025-12-18T16:43:55.000784Z DEBUG src/im/conversation/api.rs:231: [ConvAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: a1208775-f9b9-4943-ba1d-c7e1628d0688
2025-12-18T16:43:55.001160Z  INFO src/im/friend/service.rs:406: [FriendSync] å·²æ›´æ–°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2 -> 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-18T16:43:55.001177Z  INFO src/im/friend/service.rs:412: [FriendSync] âœ… å¢é‡åŒæ­¥å¥½å‹å®Œæˆ
2025-12-18T16:43:55.001199Z  INFO src/im/friend/api.rs:270: [FriendAPI] ğŸ“¡ è¯·æ±‚é»‘åå•åˆ—è¡¨
2025-12-18T16:43:55.001213Z DEBUG src/im/friend/api.rs:271: [FriendAPI]   è¯·æ±‚URL: http://localhost:10002/friend/get_black_list
2025-12-18T16:43:55.001227Z DEBUG src/im/friend/api.rs:272: [FriendAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: a6534563-9edc-4131-bf7c-8fa02d3c5db1
2025-12-18T16:43:55.001805Z  INFO src/im/conversation/api.rs:251: [ConvAPI] å…¨é‡ä¼šè¯åŒæ­¥å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"conversations":[{"ownerUserID":"3217717393","conversationID":"sg_3250046082","recvMsgOpt":0,"conversationType":3,"userID":"","groupID":"3250046082","isPinned":false,"attachedInfo":"","isPrivateChat":false,"groupAtType":0,"ex":"","burnDuration":0,"minSeq":0,"maxSeq":0,"msgDestructTime":0,"latestMsgDestructTime":-62135596800000,"isMsgDestruct":false},{"ownerUserID":"3217717393","conversationID":"si_1056224172_3217717393","recvMsgOpt":0,"conversationType":1,"userID":"1056224172","groupID":"","isPinned":false,"attachedInfo":"","isPrivateChat":false,"groupAtType":0,"ex":"","burnDuration":0,"minSeq":0,"maxSeq":0,"msgDestructTime":0,"latestMsgDestructTime":-62135596800000,"isMsgDestruct":false}]}}
2025-12-18T16:43:55.001875Z  INFO src/im/conversation/api.rs:286: [ConvAPI] âœ… å…¨é‡ä¼šè¯åŒæ­¥å“åº”ï¼Œä¼šè¯æ•°: 2
2025-12-18T16:43:55.001893Z DEBUG src/im/conversation/api.rs:290: [ConvAPI]   ä¼šè¯è¯¦æƒ…: ["sg_3250046082", "si_1056224172_3217717393"]
2025-12-18T16:43:55.001909Z  INFO src/im/conversation/service.rs:910: [ConvSync] ä»æœåŠ¡å™¨è·å–åˆ° 2 ä¸ªä¼šè¯
2025-12-18T16:43:55.001921Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 30%
2025-12-18T16:43:55.001936Z DEBUG src/im/conversation/service.rs:918: [ConvSync] å·²è½¬æ¢ 2 ä¸ªä¼šè¯ä¸ºæœ¬åœ°æ ¼å¼
2025-12-18T16:43:55.001953Z DEBUG src/im/conversation/service.rs:922: [ConvSync] full_sync -> on_sync_server_progress(50)
2025-12-18T16:43:55.001965Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 50%
2025-12-18T16:43:55.002205Z DEBUG src/im/conversation/dao.rs:171: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T16:43:55.002225Z  INFO src/im/conversation/service.rs:927: [ConvSync] æœ¬åœ°å·²æœ‰ 2 ä¸ªä¼šè¯
2025-12-18T16:43:55.002229Z  INFO src/im/friend/api.rs:305: [FriendAPI] é»‘åå•åˆ—è¡¨å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"blacks":null,"total":0}}
2025-12-18T16:43:55.002242Z  INFO src/im/conversation/api.rs:40: [ConvAPI/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-18T16:43:55.002260Z  INFO src/im/friend/api.rs:340: [FriendAPI] âœ… é»‘åå•åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-18T16:43:55.002268Z DEBUG src/im/conversation/api.rs:41: [ConvAPI/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-18T16:43:55.002279Z  INFO src/bin/openim-cli.rs:137: [CLI/Friend] ğŸš« é»‘åå•å˜æ›´: []
2025-12-18T16:43:55.002284Z DEBUG src/im/conversation/api.rs:42: [ConvAPI/Seq]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 163636da-9877-41a8-a23b-6f18cc650f73
2025-12-18T16:43:55.002295Z  INFO src/im/friend/api.rs:355: [FriendAPI] ğŸ“¡ è¯·æ±‚å¥½å‹ç”³è¯·åˆ—è¡¨
2025-12-18T16:43:55.002309Z DEBUG src/im/friend/api.rs:356: [FriendAPI]   è¯·æ±‚URL: http://localhost:10002/friend/get_friend_apply_list
2025-12-18T16:43:55.002325Z DEBUG src/im/friend/api.rs:357: [FriendAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: a6c2a119-980c-403c-a320-1777795aaebf
2025-12-18T16:43:55.003772Z  INFO src/im/friend/api.rs:381: [FriendAPI] å¥½å‹ç”³è¯·åˆ—è¡¨å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"FriendRequests":[{"fromUserID":"1056224172","fromNickname":"test1","fromFaceURL":"","toUserID":"3217717393","toNickname":"test3","toFaceURL":"","handleResult":1,"reqMsg":"","createTime":1759634604964,"handlerUserID":"3217717393","handleMsg":"","handleTime":1759634610720,"ex":""}],"total":1}}
2025-12-18T16:43:55.003822Z  INFO src/im/friend/api.rs:416: [FriendAPI] âœ… å¥½å‹ç”³è¯·åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 1
2025-12-18T16:43:55.003864Z  INFO src/bin/openim-cli.rs:141: [CLI/Friend] ğŸ“ å¥½å‹ç”³è¯·å˜æ›´: [{"fromUserID":"1056224172","fromNickname":"test1","fromFaceURL":"","toUserID":"3217717393","toNickname":"test3","toFaceURL":"","handleResult":1,"reqMsg":"","createTime":1759634604964,"handlerUserID":"3217717393","handleMsg":"","handleTime":1759634610720,"ex":""}]
2025-12-18T16:43:55.003883Z  INFO src/im/client.rs:464: [Client] âœ… å¥½å‹åŒæ­¥å®Œæˆ
2025-12-18T16:43:55.004022Z DEBUG src/im/conversation/api.rs:68: [ConvAPI/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-18T16:43:55.004058Z  INFO src/im/conversation/api.rs:88: [ConvAPI/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-18T16:43:55.004118Z  INFO src/im/conversation/api.rs:124: [ConvAPI/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data.seqs å­—æ®µ: {
  "sg_3250046082": {
    "maxSeq": 26,
    "hasReadSeq": 13,
    "maxSeqTime": 1765380998099
  },
  "si_1056224172_3217717393": {
    "maxSeq": 43,
    "hasReadSeq": 19,
    "maxSeqTime": 1765637683035
  }
}
2025-12-18T16:43:55.004135Z  INFO src/im/conversation/api.rs:128: [ConvAPI/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-18T16:43:55.004150Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-18T16:43:55.004168Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-18T16:43:55.004184Z  INFO src/im/conversation/api.rs:144: [ConvAPI/Seq] âœ… è§£æå®Œæˆï¼Œå…± 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-18T16:43:55.004200Z  INFO src/im/conversation/service.rs:932: [ConvSync] è·å–åˆ° 2 ä¸ªä¼šè¯çš„ seqs ä¿¡æ¯ï¼Œç”¨äºè®¾ç½®æœªè¯»æ•°
2025-12-18T16:43:55.004231Z  INFO src/im/conversation/service.rs:529: [ConvSync] å¼€å§‹åŒæ­¥ä¼šè¯ï¼ŒæœåŠ¡å™¨ä¼šè¯æ•°: 2, æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-18T16:43:55.004257Z  INFO src/im/conversation/service.rs:557: [ConvSync]   ä¼šè¯ sg_3250046082 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-18T16:43:55.004271Z  INFO src/im/conversation/service.rs:557: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-18T16:43:55.004284Z DEBUG src/im/conversation/service.rs:594: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ— éœ€æ›´æ–°
2025-12-18T16:43:55.004298Z DEBUG src/im/conversation/service.rs:594: [ConvSync]   ä¼šè¯ sg_3250046082 æ— éœ€æ›´æ–°
2025-12-18T16:43:55.004320Z  INFO src/im/conversation/service.rs:643: [ConvSync] ä¼šè¯åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-18T16:43:55.004336Z DEBUG src/im/conversation/service.rs:947: [ConvSync] full_sync -> on_sync_server_progress(80)
2025-12-18T16:43:55.004350Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 80%
2025-12-18T16:43:55.008264Z  INFO src/im/conversation/service.rs:958: [ConvSync] å·²æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 130d5db5-1217-499b-8ee2-5a5087b08fa9
2025-12-18T16:43:55.008282Z DEBUG src/im/conversation/service.rs:963: [ConvSync] full_sync -> on_sync_server_progress(100)
2025-12-18T16:43:55.008295Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 100%
2025-12-18T16:43:55.008314Z DEBUG src/im/conversation/service.rs:965: [ConvSync] full_sync -> on_sync_server_finish(reinstalled=false)
2025-12-18T16:43:55.008334Z  INFO src/bin/openim-cli.rs:93: [CLI/Conversation] âœ… åŒæ­¥å®Œæˆ: reinstalled=false
2025-12-18T16:43:55.008350Z  INFO src/im/conversation/service.rs:364: [ConvSync/Seq] ğŸ”„ å¼€å§‹æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°...
2025-12-18T16:43:55.008643Z DEBUG src/im/conversation/dao.rs:171: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T16:43:55.008671Z  INFO src/im/conversation/api.rs:40: [ConvAPI/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-18T16:43:55.008690Z DEBUG src/im/conversation/api.rs:41: [ConvAPI/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-18T16:43:55.008715Z DEBUG src/im/conversation/api.rs:42: [ConvAPI/Seq]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 24993e3b-bcca-4a7d-aa53-dd4b7950984c
2025-12-18T16:43:55.009814Z DEBUG src/im/conversation/api.rs:68: [ConvAPI/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-18T16:43:55.009857Z  INFO src/im/conversation/api.rs:88: [ConvAPI/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-18T16:43:55.009926Z  INFO src/im/conversation/api.rs:124: [ConvAPI/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data.seqs å­—æ®µ: {
  "si_1056224172_3217717393": {
    "maxSeq": 43,
    "hasReadSeq": 19,
    "maxSeqTime": 1765637683035
  },
  "sg_3250046082": {
    "maxSeq": 26,
    "hasReadSeq": 13,
    "maxSeqTime": 1765380998099
  }
}
2025-12-18T16:43:55.009945Z  INFO src/im/conversation/api.rs:128: [ConvAPI/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-18T16:43:55.009965Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-18T16:43:55.009980Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-18T16:43:55.009996Z  INFO src/im/conversation/api.rs:144: [ConvAPI/Seq] âœ… è§£æå®Œæˆï¼Œå…± 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-18T16:43:55.010019Z  INFO src/im/conversation/service.rs:385: [ConvSync/Seq] ğŸ”„ å¼€å§‹æ ¡æ­£æœªè¯»æ•°ï¼ŒæœåŠ¡å™¨è¿”å› 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-18T16:43:55.010044Z DEBUG src/im/conversation/service.rs:405: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=sg_3250046082, unreadCount=13, maxSeq=26
2025-12-18T16:43:55.010075Z DEBUG src/im/conversation/service.rs:405: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=si_1056224172_3217717393, unreadCount=24, maxSeq=43
2025-12-18T16:43:55.010097Z  INFO src/im/conversation/service.rs:420: [ConvSync/Seq] ğŸ“Š æœªè¯»æ•°æ ¡æ­£ç»Ÿè®¡: å·²æ›´æ–° 0 ä¸ªä¼šè¯ï¼Œå‘ç° 0 ä¸ªæœ¬åœ°ç¼ºå¤±ä¼šè¯
2025-12-18T16:43:55.010435Z  INFO src/im/conversation/service.rs:428: [ConvSync/Seq] ğŸ“Š æ ¡æ­£å‰æ€»æœªè¯»æ•°: 37
2025-12-18T16:43:55.010456Z  INFO src/im/conversation/service.rs:511: [ConvSync/Seq] â„¹ï¸ æ— ä¼šè¯å˜æ›´ï¼Œè·³è¿‡å›è°ƒ
2025-12-18T16:43:55.010467Z  INFO src/im/conversation/service.rs:514: [ConvSync/Seq] âœ… æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°å®Œæˆ
2025-12-18T16:43:55.010481Z  INFO src/im/conversation/service.rs:976: [ConvSync] âœ… å…¨é‡åŒæ­¥å®Œæˆ

2025-12-18T16:43:55.010498Z  INFO src/im/client.rs:438: [Client] âœ… ä¼šè¯åŒæ­¥å®Œæˆ
2025-12-18T17:27:46.786905Z  INFO src/bin/openim-cli.rs:76: [CLI] ğŸ“ æ—¥å¿—å·²åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶: debug.log
2025-12-18T17:27:46.786933Z  INFO src/bin/openim-cli.rs:200: [CLI] ğŸš€ OpenIM CLI å®¢æˆ·ç«¯ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰
2025-12-18T17:27:46.786943Z  INFO src/bin/openim-cli.rs:201: [CLI] ğŸ“± æ‰‹æœºå·: 17764338283
2025-12-18T17:27:46.786953Z  INFO src/bin/openim-cli.rs:202: [CLI] â±ï¸  è¿è¡Œæ—¶é•¿: 0 ç§’ï¼ˆ0=æŒç»­è¿è¡Œï¼‰
2025-12-18T17:27:46.786963Z  INFO src/bin/openim-cli.rs:205: [CLI] ğŸ” æ­£åœ¨ç™»å½•...
2025-12-18T17:27:46.787191Z  INFO src/im/auth.rs:48: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-18T17:27:46.787204Z DEBUG src/im/auth.rs:49:    URL: http://localhost:10008/account/login
2025-12-18T17:27:46.787213Z DEBUG src/im/auth.rs:50:    æ‰‹æœºå·: 17764338283
2025-12-18T17:27:46.787225Z DEBUG src/im/auth.rs:51:    OperationID: 46e1d8a7-a59b-4031-a0d2-13bda11d78ee
2025-12-18T17:27:46.796002Z DEBUG src/im/auth.rs:83: âœ… ç™»å½•å“åº”: {"errCode":0,"errMsg":"","errDlt":"","data":{"imToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiUGxhdGZvcm1JRCI6NSwiZXhwIjoxNzczODU0ODY2LCJpYXQiOjE3NjYwNzg4NjF9.bokl_O4F-wrQVSH7ePUFL7Th0NL9kYbMg_xcf6Va3VE","chatToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiVXNlclR5cGUiOjEsIlBsYXRmb3JtSUQiOjAsImV4cCI6MTc3Mzg1NDg2NiwibmJmIjoxNzY2MDc4ODA2LCJpYXQiOjE3NjYwNzg4NjZ9.XP07HfrIZGs3iIgcb6jgg3SbJgn_AFoeT3iSeH5Uzxc","userID":"3217717393"}}
2025-12-18T17:27:46.796112Z  INFO src/bin/openim-cli.rs:220: [CLI] âœ… ç™»å½•æˆåŠŸï¼ç”¨æˆ·ID: 3217717393
2025-12-18T17:27:46.796138Z  INFO src/bin/openim-cli.rs:232: [CLI] ğŸ”— æ­£åœ¨è¿æ¥æœåŠ¡å™¨...
2025-12-18T17:27:46.796200Z  INFO src/im/client.rs:296: [Client] ğŸ”— è¿æ¥åˆ° OpenIM Server (user=3217717393, platform=5)
2025-12-18T17:27:46.797593Z  INFO src/im/client.rs:302: [Client] âœ… WebSocket è¿æ¥æˆåŠŸ, çŠ¶æ€: 101 Switching Protocols
2025-12-18T17:27:46.797628Z DEBUG src/im/client.rs:317: [Client] ğŸ“¥ WebSocket è¿æ¥å“åº”: {"errCode":0,"errMsg":"","errDlt":""}
2025-12-18T17:27:46.797647Z  INFO src/im/client.rs:321: [Client] âœ… æœåŠ¡å™¨è¿æ¥é‰´æƒæˆåŠŸ
2025-12-18T17:27:46.797682Z  INFO src/im/client.rs:383: [Client] ğŸ’“ å¯åŠ¨å¿ƒè·³
2025-12-18T17:27:46.797697Z  INFO src/im/client.rs:384: [Client] ğŸ“¥ å¼€å§‹ç›‘å¬æœåŠ¡å™¨æ¶ˆæ¯
2025-12-18T17:27:46.797707Z  INFO src/im/client.rs:387: [Client] ğŸ”— åˆ›å»ºå…±äº« SQLite è¿æ¥æ± å¹¶æ‰§è¡Œè¿ç§»: sqlite://conversations.db?mode=rwc
2025-12-18T17:27:46.797739Z  INFO src/bin/openim-cli.rs:180: [CLI/Message] ğŸ”— å·²è¿æ¥: è¿æ¥æˆåŠŸ
2025-12-18T17:27:46.841857Z  INFO src/im/conversation/service.rs:81: [ConvSync] åˆ›å»ºä¼šè¯åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-18T17:27:46.841933Z  INFO src/im/friend/service.rs:97: [FriendSync] åˆ›å»ºå¥½å‹åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«è¿æ¥æ± ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-18T17:27:46.841944Z  INFO src/im/client.rs:429: [Client] ğŸ”„ å¯åŠ¨ä¼šè¯å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-18T17:27:46.841993Z  INFO src/im/client.rs:455: [Client] ğŸ”„ å¯åŠ¨å¥½å‹å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-18T17:27:46.842008Z  INFO src/im/conversation/service.rs:622: [ConvSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥ä¼šè¯...
2025-12-18T17:27:46.842035Z  INFO src/im/friend/service.rs:242: [FriendSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥å¥½å‹...
2025-12-18T17:27:46.842330Z DEBUG src/im/conversation/service.rs:628: [ConvSync] æœ¬åœ°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 130d5db5-1217-499b-8ee2-5a5087b08fa9
2025-12-18T17:27:46.842573Z  INFO src/bin/openim-cli.rs:240: [CLI] âœ… è¿æ¥æˆåŠŸï¼
2025-12-18T17:27:46.842595Z DEBUG src/im/conversation/service.rs:981: [ConvSync] è·å–æ‰€æœ‰ä¼šè¯åˆ—è¡¨
2025-12-18T17:27:46.842606Z DEBUG src/im/conversation/service.rs:939: [ConvSync] è·å–ä¼šè¯åˆ—è¡¨ï¼Œåç§»: 0, æ•°é‡: 18446744073709551615
2025-12-18T17:27:46.843060Z DEBUG src/im/conversation/dao.rs:156: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T17:27:46.843077Z DEBUG src/im/conversation/service.rs:946: [ConvSync] è¿‡æ»¤åä¼šè¯æ•°: 0 (è¿‡æ»¤æ‰æ— æ¶ˆæ¯æ—¶é—´çš„ä¼šè¯)
2025-12-18T17:27:46.843087Z DEBUG src/im/conversation/service.rs:970: [ConvSync] è¿”å› 0 ä¸ªä¼šè¯ (èŒƒå›´: 0 - 0)
2025-12-18T17:27:46.843102Z  INFO src/bin/openim-cli.rs:246: [CLI] ğŸ“‹ ä¼šè¯åˆ—è¡¨ï¼ˆå…± 0 ä¸ªï¼‰:
2025-12-18T17:27:46.843168Z DEBUG src/im/friend/service.rs:247: [FriendSync] æœ¬åœ°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-18T17:27:46.843352Z DEBUG src/im/friend/dao.rs:75: [FriendDAO] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-18T17:27:46.843373Z  INFO src/bin/openim-cli.rs:262: [CLI] ğŸ‘¥ å¥½å‹åˆ—è¡¨ï¼ˆå…± 1 ä¸ªï¼‰
2025-12-18T17:27:46.843382Z DEBUG src/im/conversation/dao.rs:156: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T17:27:46.843554Z  INFO src/bin/openim-cli.rs:266: [CLI] ğŸ“¬ æ€»æœªè¯»æ•°: 37
2025-12-18T17:27:46.843568Z  INFO src/bin/openim-cli.rs:270: [CLI] ğŸ“¥ å¼€å§‹ç›‘å¬æ¶ˆæ¯...
2025-12-18T17:27:46.843573Z DEBUG src/im/conversation/dao.rs:179: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-18T17:27:46.843577Z  INFO src/bin/openim-cli.rs:271: [CLI] ğŸ’¡ æç¤ºï¼šç¨‹åºå°†æŒç»­è¿è¡Œå¹¶æ˜¾ç¤ºæ¥æ”¶åˆ°çš„æ‰€æœ‰æ¶ˆæ¯å’Œäº‹ä»¶
2025-12-18T17:27:46.843588Z  INFO src/bin/openim-cli.rs:277: [CLI] â° æŒç»­è¿è¡Œä¸­ï¼ŒæŒ‰ Ctrl+C é€€å‡º
2025-12-18T17:27:46.843590Z  INFO src/im/conversation/service.rs:639: [ConvSync] æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-18T17:27:46.843606Z  INFO src/im/conversation/service.rs:722: [ConvSync] ä½¿ç”¨å¢é‡åŒæ­¥ï¼Œç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 130d5db5-1217-499b-8ee2-5a5087b08fa9
2025-12-18T17:27:46.843621Z  INFO src/bin/openim-cli.rs:86: [CLI/Conversation] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-18T17:27:46.843635Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 10%
2025-12-18T17:27:46.843663Z  INFO src/im/conversation/api.rs:164: [ConvAPI] ğŸ“¡ è¯·æ±‚å¢é‡ä¼šè¯åŒæ­¥
   è¯·æ±‚URL: http://localhost:10002/conversation/get_incremental_conversations
   ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 130d5db5-1217-499b-8ee2-5a5087b08fa9
   ç”¨æˆ·ID: 3217717393
   æ“ä½œID: c2d3a6af-6df5-4b7e-8ce1-56aeae572ca3
2025-12-18T17:27:46.843886Z DEBUG src/im/friend/dao.rs:75: [FriendDAO] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-18T17:27:46.844044Z DEBUG src/im/friend/dao.rs:98: [FriendDAO] è·å–æœ¬åœ°å¥½å‹IDåˆ—è¡¨ï¼Œå…± 1 ä¸ª
2025-12-18T17:27:46.844071Z  INFO src/im/friend/api.rs:41: [FriendAPI] ğŸ“¡ è¯·æ±‚å¢é‡å¥½å‹åŒæ­¥
2025-12-18T17:27:46.844083Z DEBUG src/im/friend/api.rs:42: [FriendAPI]   è¯·æ±‚URL: http://localhost:10002/friend/get_incremental_friends
2025-12-18T17:27:46.844093Z DEBUG src/im/friend/api.rs:43: [FriendAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: cc67453a-20a7-428b-8926-32e9d0261f38
2025-12-18T17:27:46.846457Z  INFO src/im/friend/api.rs:65: [FriendAPI] å¢é‡å¥½å‹åŒæ­¥å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"version":2,"versionID":"68e1e49803980d63e228abfa","full":false,"delete":null,"insert":null,"update":null,"sortVersion":0}}
2025-12-18T17:27:46.846507Z  INFO src/im/friend/service.rs:151: [FriendSync] å¼€å§‹åŒæ­¥å¥½å‹ï¼ŒæœåŠ¡å™¨å¥½å‹æ•°: 0, æœ¬åœ°å¥½å‹æ•°: 1
2025-12-18T17:27:46.846526Z  INFO src/im/friend/service.rs:221: [FriendSync] å¥½å‹åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-18T17:27:46.846607Z  INFO src/im/conversation/api.rs:186: [ConvAPI] å¢é‡ä¼šè¯åŒæ­¥å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"version":3,"versionID":"68e1e4982a00312739a80eef","full":true,"delete":null,"insert":null,"update":null}}
2025-12-18T17:27:46.846645Z  INFO src/im/conversation/service.rs:745: [ConvSync] âœ… å¢é‡ä¼šè¯åŒæ­¥å“åº”
   å…¨é‡åŒæ­¥: true
   ç‰ˆæœ¬ID: 68e1e4982a00312739a80eef
   ç‰ˆæœ¬: 3
   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-18T17:27:46.846658Z DEBUG src/im/conversation/service.rs:749: [ConvSync]   åˆ é™¤çš„ä¼šè¯ID: []
2025-12-18T17:27:46.846668Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 50%
2025-12-18T17:27:46.846682Z  WARN src/im/conversation/service.rs:754: [ConvSync]   æœåŠ¡å™¨è¦æ±‚å…¨é‡åŒæ­¥...
2025-12-18T17:27:46.846698Z  INFO src/im/conversation/service.rs:839: [ConvSync] ğŸ”„ å¼€å§‹å…¨é‡åŒæ­¥ä¼šè¯...
2025-12-18T17:27:46.846827Z  INFO src/im/friend/service.rs:394: [FriendSync] å·²æ›´æ–°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2 -> 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-18T17:27:46.846842Z DEBUG src/im/conversation/dao.rs:179: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-18T17:27:46.846847Z  INFO src/im/friend/service.rs:400: [FriendSync] âœ… å¢é‡åŒæ­¥å¥½å‹å®Œæˆ
2025-12-18T17:27:46.846862Z DEBUG src/im/conversation/service.rs:842: [ConvSync] full_sync -> on_sync_server_start(reinstalled=false)
2025-12-18T17:27:46.846868Z  INFO src/im/friend/api.rs:270: [FriendAPI] ğŸ“¡ è¯·æ±‚é»‘åå•åˆ—è¡¨
2025-12-18T17:27:46.846879Z  INFO src/bin/openim-cli.rs:86: [CLI/Conversation] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-18T17:27:46.846881Z DEBUG src/im/friend/api.rs:271: [FriendAPI]   è¯·æ±‚URL: http://localhost:10002/friend/get_black_list
2025-12-18T17:27:46.846891Z DEBUG src/im/conversation/service.rs:847: [ConvSync] full_sync -> on_sync_server_progress(10)
2025-12-18T17:27:46.846897Z DEBUG src/im/friend/api.rs:272: [FriendAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 9d27a2ce-9967-40a8-bb5b-09eead6a02c9
2025-12-18T17:27:46.846904Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 10%
2025-12-18T17:27:46.846918Z  INFO src/im/conversation/api.rs:229: [ConvAPI] ğŸ“¡ è¯·æ±‚å…¨é‡ä¼šè¯åŒæ­¥
2025-12-18T17:27:46.846931Z DEBUG src/im/conversation/api.rs:230: [ConvAPI]   è¯·æ±‚URL: http://localhost:10002/conversation/get_all_conversations
2025-12-18T17:27:46.846946Z DEBUG src/im/conversation/api.rs:231: [ConvAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 25fdc0f3-ba0c-4b77-b41e-d9ae6a81070e
2025-12-18T17:27:46.847888Z  INFO src/im/conversation/api.rs:251: [ConvAPI] å…¨é‡ä¼šè¯åŒæ­¥å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"conversations":[{"ownerUserID":"3217717393","conversationID":"sg_3250046082","recvMsgOpt":0,"conversationType":3,"userID":"","groupID":"3250046082","isPinned":false,"attachedInfo":"","isPrivateChat":false,"groupAtType":0,"ex":"","burnDuration":0,"minSeq":0,"maxSeq":0,"msgDestructTime":0,"latestMsgDestructTime":-62135596800000,"isMsgDestruct":false},{"ownerUserID":"3217717393","conversationID":"si_1056224172_3217717393","recvMsgOpt":0,"conversationType":1,"userID":"1056224172","groupID":"","isPinned":false,"attachedInfo":"","isPrivateChat":false,"groupAtType":0,"ex":"","burnDuration":0,"minSeq":0,"maxSeq":0,"msgDestructTime":0,"latestMsgDestructTime":-62135596800000,"isMsgDestruct":false}]}}
2025-12-18T17:27:46.847953Z  INFO src/im/conversation/api.rs:286: [ConvAPI] âœ… å…¨é‡ä¼šè¯åŒæ­¥å“åº”ï¼Œä¼šè¯æ•°: 2
2025-12-18T17:27:46.847968Z DEBUG src/im/conversation/api.rs:290: [ConvAPI]   ä¼šè¯è¯¦æƒ…: ["sg_3250046082", "si_1056224172_3217717393"]
2025-12-18T17:27:46.847979Z  INFO src/im/conversation/service.rs:863: [ConvSync] ä»æœåŠ¡å™¨è·å–åˆ° 2 ä¸ªä¼šè¯
2025-12-18T17:27:46.847989Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 30%
2025-12-18T17:27:46.848000Z DEBUG src/im/conversation/service.rs:871: [ConvSync] å·²è½¬æ¢ 2 ä¸ªä¼šè¯ä¸ºæœ¬åœ°æ ¼å¼
2025-12-18T17:27:46.848010Z DEBUG src/im/conversation/service.rs:875: [ConvSync] full_sync -> on_sync_server_progress(50)
2025-12-18T17:27:46.848026Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 50%
2025-12-18T17:27:46.848201Z  INFO src/im/friend/api.rs:305: [FriendAPI] é»‘åå•åˆ—è¡¨å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"blacks":null,"total":0}}
2025-12-18T17:27:46.848231Z  INFO src/im/friend/api.rs:340: [FriendAPI] âœ… é»‘åå•åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-18T17:27:46.848249Z  INFO src/bin/openim-cli.rs:137: [CLI/Friend] ğŸš« é»‘åå•å˜æ›´: []
2025-12-18T17:27:46.848266Z  INFO src/im/friend/api.rs:355: [FriendAPI] ğŸ“¡ è¯·æ±‚å¥½å‹ç”³è¯·åˆ—è¡¨
2025-12-18T17:27:46.848280Z DEBUG src/im/friend/api.rs:356: [FriendAPI]   è¯·æ±‚URL: http://localhost:10002/friend/get_friend_apply_list
2025-12-18T17:27:46.848296Z DEBUG src/im/friend/api.rs:357: [FriendAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: f2020e2e-1875-4c88-9081-29b285b6a8c2
2025-12-18T17:27:46.848329Z DEBUG src/im/conversation/dao.rs:156: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T17:27:46.848345Z  INFO src/im/conversation/service.rs:880: [ConvSync] æœ¬åœ°å·²æœ‰ 2 ä¸ªä¼šè¯
2025-12-18T17:27:46.848357Z  INFO src/im/conversation/api.rs:40: [ConvAPI/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-18T17:27:46.848368Z DEBUG src/im/conversation/api.rs:41: [ConvAPI/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-18T17:27:46.848379Z DEBUG src/im/conversation/api.rs:42: [ConvAPI/Seq]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 6f03ad11-a60b-49a8-8025-d788abb8f295
2025-12-18T17:27:46.850429Z  INFO src/im/friend/api.rs:381: [FriendAPI] å¥½å‹ç”³è¯·åˆ—è¡¨å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"FriendRequests":[{"fromUserID":"1056224172","fromNickname":"test1","fromFaceURL":"","toUserID":"3217717393","toNickname":"test3","toFaceURL":"","handleResult":1,"reqMsg":"","createTime":1759634604964,"handlerUserID":"3217717393","handleMsg":"","handleTime":1759634610720,"ex":""}],"total":1}}
2025-12-18T17:27:46.850497Z  INFO src/im/friend/api.rs:416: [FriendAPI] âœ… å¥½å‹ç”³è¯·åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 1
2025-12-18T17:27:46.850541Z  INFO src/bin/openim-cli.rs:141: [CLI/Friend] ğŸ“ å¥½å‹ç”³è¯·å˜æ›´: [{"fromUserID":"1056224172","fromNickname":"test1","fromFaceURL":"","toUserID":"3217717393","toNickname":"test3","toFaceURL":"","handleResult":1,"reqMsg":"","createTime":1759634604964,"handlerUserID":"3217717393","handleMsg":"","handleTime":1759634610720,"ex":""}]
2025-12-18T17:27:46.850566Z  INFO src/im/client.rs:458: [Client] âœ… å¥½å‹åŒæ­¥å®Œæˆ
2025-12-18T17:27:46.851395Z DEBUG src/im/conversation/api.rs:68: [ConvAPI/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-18T17:27:46.851428Z  INFO src/im/conversation/api.rs:88: [ConvAPI/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-18T17:27:46.851482Z  INFO src/im/conversation/api.rs:124: [ConvAPI/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data.seqs å­—æ®µ: {
  "sg_3250046082": {
    "maxSeq": 26,
    "hasReadSeq": 13,
    "maxSeqTime": 1765380998099
  },
  "si_1056224172_3217717393": {
    "maxSeq": 43,
    "hasReadSeq": 19,
    "maxSeqTime": 1765637683035
  }
}
2025-12-18T17:27:46.851497Z  INFO src/im/conversation/api.rs:128: [ConvAPI/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-18T17:27:46.851507Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-18T17:27:46.851520Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-18T17:27:46.851531Z  INFO src/im/conversation/api.rs:144: [ConvAPI/Seq] âœ… è§£æå®Œæˆï¼Œå…± 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-18T17:27:46.851543Z  INFO src/im/conversation/service.rs:885: [ConvSync] è·å–åˆ° 2 ä¸ªä¼šè¯çš„ seqs ä¿¡æ¯ï¼Œç”¨äºè®¾ç½®æœªè¯»æ•°
2025-12-18T17:27:46.851563Z  INFO src/im/conversation/service.rs:482: [ConvSync] å¼€å§‹åŒæ­¥ä¼šè¯ï¼ŒæœåŠ¡å™¨ä¼šè¯æ•°: 2, æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-18T17:27:46.851581Z  INFO src/im/conversation/service.rs:510: [ConvSync]   ä¼šè¯ sg_3250046082 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-18T17:27:46.851593Z  INFO src/im/conversation/service.rs:510: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-18T17:27:46.851604Z DEBUG src/im/conversation/service.rs:547: [ConvSync]   ä¼šè¯ sg_3250046082 æ— éœ€æ›´æ–°
2025-12-18T17:27:46.851613Z DEBUG src/im/conversation/service.rs:547: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ— éœ€æ›´æ–°
2025-12-18T17:27:46.851629Z  INFO src/im/conversation/service.rs:596: [ConvSync] ä¼šè¯åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-18T17:27:46.851644Z DEBUG src/im/conversation/service.rs:900: [ConvSync] full_sync -> on_sync_server_progress(80)
2025-12-18T17:27:46.851655Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 80%
2025-12-18T17:27:46.865109Z  INFO src/im/conversation/service.rs:911: [ConvSync] å·²æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: 5f48287a-515d-42ee-9e81-c06b93bff018
2025-12-18T17:27:46.865132Z DEBUG src/im/conversation/service.rs:916: [ConvSync] full_sync -> on_sync_server_progress(100)
2025-12-18T17:27:46.865148Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 100%
2025-12-18T17:27:46.865166Z DEBUG src/im/conversation/service.rs:918: [ConvSync] full_sync -> on_sync_server_finish(reinstalled=false)
2025-12-18T17:27:46.865183Z  INFO src/bin/openim-cli.rs:93: [CLI/Conversation] âœ… åŒæ­¥å®Œæˆ: reinstalled=false
2025-12-18T17:27:46.865201Z  INFO src/im/conversation/service.rs:317: [ConvSync/Seq] ğŸ”„ å¼€å§‹æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°...
2025-12-18T17:27:46.865465Z DEBUG src/im/conversation/dao.rs:156: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T17:27:46.865501Z  INFO src/im/conversation/api.rs:40: [ConvAPI/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-18T17:27:46.865516Z DEBUG src/im/conversation/api.rs:41: [ConvAPI/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-18T17:27:46.865530Z DEBUG src/im/conversation/api.rs:42: [ConvAPI/Seq]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 313a8d8b-6609-408e-98f6-f4b4cf4042f0
2025-12-18T17:27:46.866759Z DEBUG src/im/conversation/api.rs:68: [ConvAPI/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-18T17:27:46.866802Z  INFO src/im/conversation/api.rs:88: [ConvAPI/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-18T17:27:46.866865Z  INFO src/im/conversation/api.rs:124: [ConvAPI/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data.seqs å­—æ®µ: {
  "si_1056224172_3217717393": {
    "maxSeq": 43,
    "hasReadSeq": 19,
    "maxSeqTime": 1765637683035
  },
  "sg_3250046082": {
    "maxSeq": 26,
    "hasReadSeq": 13,
    "maxSeqTime": 1765380998099
  }
}
2025-12-18T17:27:46.866882Z  INFO src/im/conversation/api.rs:128: [ConvAPI/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-18T17:27:46.866897Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-18T17:27:46.866914Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-18T17:27:46.866929Z  INFO src/im/conversation/api.rs:144: [ConvAPI/Seq] âœ… è§£æå®Œæˆï¼Œå…± 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-18T17:27:46.866947Z  INFO src/im/conversation/service.rs:338: [ConvSync/Seq] ğŸ”„ å¼€å§‹æ ¡æ­£æœªè¯»æ•°ï¼ŒæœåŠ¡å™¨è¿”å› 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-18T17:27:46.866965Z DEBUG src/im/conversation/service.rs:358: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=sg_3250046082, unreadCount=13, maxSeq=26
2025-12-18T17:27:46.866989Z DEBUG src/im/conversation/service.rs:358: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=si_1056224172_3217717393, unreadCount=24, maxSeq=43
2025-12-18T17:27:46.867005Z  INFO src/im/conversation/service.rs:373: [ConvSync/Seq] ğŸ“Š æœªè¯»æ•°æ ¡æ­£ç»Ÿè®¡: å·²æ›´æ–° 0 ä¸ªä¼šè¯ï¼Œå‘ç° 0 ä¸ªæœ¬åœ°ç¼ºå¤±ä¼šè¯
2025-12-18T17:27:46.867221Z  INFO src/im/conversation/service.rs:381: [ConvSync/Seq] ğŸ“Š æ ¡æ­£å‰æ€»æœªè¯»æ•°: 37
2025-12-18T17:27:46.867238Z  INFO src/im/conversation/service.rs:464: [ConvSync/Seq] â„¹ï¸ æ— ä¼šè¯å˜æ›´ï¼Œè·³è¿‡å›è°ƒ
2025-12-18T17:27:46.867251Z  INFO src/im/conversation/service.rs:467: [ConvSync/Seq] âœ… æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°å®Œæˆ
2025-12-18T17:27:46.867265Z  INFO src/im/conversation/service.rs:929: [ConvSync] âœ… å…¨é‡åŒæ­¥å®Œæˆ

2025-12-18T17:27:46.867282Z  INFO src/im/client.rs:432: [Client] âœ… ä¼šè¯åŒæ­¥å®Œæˆ
2025-12-18T17:35:23.269037Z  INFO src/bin/openim-cli.rs:76: [CLI] ğŸ“ æ—¥å¿—å·²åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶: debug.log
2025-12-18T17:35:23.269084Z  INFO src/bin/openim-cli.rs:200: [CLI] ğŸš€ OpenIM CLI å®¢æˆ·ç«¯ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰
2025-12-18T17:35:23.269095Z  INFO src/bin/openim-cli.rs:201: [CLI] ğŸ“± æ‰‹æœºå·: 17764338283
2025-12-18T17:35:23.269106Z  INFO src/bin/openim-cli.rs:202: [CLI] â±ï¸  è¿è¡Œæ—¶é•¿: 0 ç§’ï¼ˆ0=æŒç»­è¿è¡Œï¼‰
2025-12-18T17:35:23.269116Z  INFO src/bin/openim-cli.rs:205: [CLI] ğŸ” æ­£åœ¨ç™»å½•...
2025-12-18T17:35:23.269339Z  INFO src/im/auth.rs:48: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-18T17:35:23.269353Z DEBUG src/im/auth.rs:49:    URL: http://localhost:10008/account/login
2025-12-18T17:35:23.269363Z DEBUG src/im/auth.rs:50:    æ‰‹æœºå·: 17764338283
2025-12-18T17:35:23.269373Z DEBUG src/im/auth.rs:51:    OperationID: a3eb0e98-8519-4934-8de6-d35c445c2233
2025-12-18T17:35:23.275381Z DEBUG src/im/auth.rs:83: âœ… ç™»å½•å“åº”: {"errCode":0,"errMsg":"","errDlt":"","data":{"imToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiUGxhdGZvcm1JRCI6NSwiZXhwIjoxNzczODU1MzIzLCJpYXQiOjE3NjYwNzkzMTh9.CFlSocbquGtBcyVJJ9YNj8_gWPgHEcUmt-CDumMN8C4","chatToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiVXNlclR5cGUiOjEsIlBsYXRmb3JtSUQiOjAsImV4cCI6MTc3Mzg1NTMyMywibmJmIjoxNzY2MDc5MjYzLCJpYXQiOjE3NjYwNzkzMjN9.08LUYkYrFrElD5kwkuMPB_NzFgdpD9O7AGJMX_J_wTA","userID":"3217717393"}}
2025-12-18T17:35:23.275476Z  INFO src/bin/openim-cli.rs:220: [CLI] âœ… ç™»å½•æˆåŠŸï¼ç”¨æˆ·ID: 3217717393
2025-12-18T17:35:23.275507Z  INFO src/bin/openim-cli.rs:232: [CLI] ğŸ”— æ­£åœ¨è¿æ¥æœåŠ¡å™¨...
2025-12-18T17:35:23.275536Z  INFO src/im/client.rs:296: [Client] ğŸ”— è¿æ¥åˆ° OpenIM Server (user=3217717393, platform=5)
2025-12-18T17:35:23.276287Z  INFO src/im/client.rs:302: [Client] âœ… WebSocket è¿æ¥æˆåŠŸ, çŠ¶æ€: 101 Switching Protocols
2025-12-18T17:35:23.276319Z DEBUG src/im/client.rs:317: [Client] ğŸ“¥ WebSocket è¿æ¥å“åº”: {"errCode":0,"errMsg":"","errDlt":""}
2025-12-18T17:35:23.276339Z  INFO src/im/client.rs:321: [Client] âœ… æœåŠ¡å™¨è¿æ¥é‰´æƒæˆåŠŸ
2025-12-18T17:35:23.276371Z  INFO src/im/client.rs:383: [Client] ğŸ’“ å¯åŠ¨å¿ƒè·³
2025-12-18T17:35:23.276385Z  INFO src/im/client.rs:384: [Client] ğŸ“¥ å¼€å§‹ç›‘å¬æœåŠ¡å™¨æ¶ˆæ¯
2025-12-18T17:35:23.276399Z  INFO src/im/client.rs:387: [Client] ğŸ”— åˆ›å»ºå…±äº« SQLite è¿æ¥æ± å¹¶æ‰§è¡Œè¿ç§»: sqlite://conversations.db?mode=rwc
2025-12-18T17:35:23.276412Z  INFO src/bin/openim-cli.rs:180: [CLI/Message] ğŸ”— å·²è¿æ¥: è¿æ¥æˆåŠŸ
2025-12-18T17:35:23.277440Z  INFO src/im/conversation/service.rs:81: [ConvSync] åˆ›å»ºä¼šè¯åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-18T17:35:23.277478Z  INFO src/im/client.rs:429: [Client] ğŸ”„ å¯åŠ¨ä¼šè¯å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-18T17:35:23.277506Z  INFO src/im/friend/service.rs:97: [FriendSync] åˆ›å»ºå¥½å‹åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«è¿æ¥æ± ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-18T17:35:23.277519Z  INFO src/im/conversation/service.rs:622: [ConvSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥ä¼šè¯...
2025-12-18T17:35:23.277553Z  INFO src/im/client.rs:455: [Client] ğŸ”„ å¯åŠ¨å¥½å‹å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-18T17:35:23.277596Z  INFO src/im/friend/service.rs:242: [FriendSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥å¥½å‹...
2025-12-18T17:35:23.277739Z DEBUG src/im/conversation/service.rs:628: [ConvSync] æœ¬åœ°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: f075bd7c-9730-44f8-af5e-8a6265a27989
2025-12-18T17:35:23.277922Z  INFO src/bin/openim-cli.rs:240: [CLI] âœ… è¿æ¥æˆåŠŸï¼
2025-12-18T17:35:23.277942Z DEBUG src/im/conversation/service.rs:981: [ConvSync] è·å–æ‰€æœ‰ä¼šè¯åˆ—è¡¨
2025-12-18T17:35:23.277953Z DEBUG src/im/conversation/service.rs:939: [ConvSync] è·å–ä¼šè¯åˆ—è¡¨ï¼Œåç§»: 0, æ•°é‡: 18446744073709551615
2025-12-18T17:35:23.278282Z DEBUG src/im/conversation/dao.rs:156: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T17:35:23.278298Z DEBUG src/im/conversation/service.rs:946: [ConvSync] è¿‡æ»¤åä¼šè¯æ•°: 0 (è¿‡æ»¤æ‰æ— æ¶ˆæ¯æ—¶é—´çš„ä¼šè¯)
2025-12-18T17:35:23.278309Z DEBUG src/im/conversation/service.rs:970: [ConvSync] è¿”å› 0 ä¸ªä¼šè¯ (èŒƒå›´: 0 - 0)
2025-12-18T17:35:23.278320Z  INFO src/bin/openim-cli.rs:246: [CLI] ğŸ“‹ ä¼šè¯åˆ—è¡¨ï¼ˆå…± 0 ä¸ªï¼‰:
2025-12-18T17:35:23.278462Z DEBUG src/im/friend/service.rs:247: [FriendSync] æœ¬åœ°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-18T17:35:23.278538Z DEBUG src/im/friend/dao.rs:75: [FriendDAO] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-18T17:35:23.278553Z  INFO src/bin/openim-cli.rs:262: [CLI] ğŸ‘¥ å¥½å‹åˆ—è¡¨ï¼ˆå…± 1 ä¸ªï¼‰
2025-12-18T17:35:23.278637Z DEBUG src/im/conversation/dao.rs:156: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T17:35:23.278702Z  INFO src/bin/openim-cli.rs:266: [CLI] ğŸ“¬ æ€»æœªè¯»æ•°: 37
2025-12-18T17:35:23.278722Z  INFO src/bin/openim-cli.rs:270: [CLI] ğŸ“¥ å¼€å§‹ç›‘å¬æ¶ˆæ¯...
2025-12-18T17:35:23.278732Z  INFO src/bin/openim-cli.rs:271: [CLI] ğŸ’¡ æç¤ºï¼šç¨‹åºå°†æŒç»­è¿è¡Œå¹¶æ˜¾ç¤ºæ¥æ”¶åˆ°çš„æ‰€æœ‰æ¶ˆæ¯å’Œäº‹ä»¶
2025-12-18T17:35:23.278744Z  INFO src/bin/openim-cli.rs:277: [CLI] â° æŒç»­è¿è¡Œä¸­ï¼ŒæŒ‰ Ctrl+C é€€å‡º
2025-12-18T17:35:23.278810Z DEBUG src/im/conversation/dao.rs:179: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-18T17:35:23.278832Z  INFO src/im/conversation/service.rs:639: [ConvSync] æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-18T17:35:23.278846Z  INFO src/im/conversation/service.rs:722: [ConvSync] ä½¿ç”¨å¢é‡åŒæ­¥ï¼Œç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: f075bd7c-9730-44f8-af5e-8a6265a27989
2025-12-18T17:35:23.278862Z  INFO src/bin/openim-cli.rs:86: [CLI/Conversation] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-18T17:35:23.278875Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 10%
2025-12-18T17:35:23.278904Z  INFO src/im/conversation/api.rs:164: [ConvAPI] ğŸ“¡ è¯·æ±‚å¢é‡ä¼šè¯åŒæ­¥
   è¯·æ±‚URL: http://localhost:10002/conversation/get_incremental_conversations
   ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: f075bd7c-9730-44f8-af5e-8a6265a27989
   ç”¨æˆ·ID: 3217717393
   æ“ä½œID: 0bc61174-0b37-4358-8670-724a86ff2e16
2025-12-18T17:35:23.279120Z DEBUG src/im/friend/dao.rs:75: [FriendDAO] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-18T17:35:23.279281Z DEBUG src/im/friend/dao.rs:98: [FriendDAO] è·å–æœ¬åœ°å¥½å‹IDåˆ—è¡¨ï¼Œå…± 1 ä¸ª
2025-12-18T17:35:23.279310Z  INFO src/im/friend/api.rs:41: [FriendAPI] ğŸ“¡ è¯·æ±‚å¢é‡å¥½å‹åŒæ­¥
2025-12-18T17:35:23.279325Z DEBUG src/im/friend/api.rs:42: [FriendAPI]   è¯·æ±‚URL: http://localhost:10002/friend/get_incremental_friends
2025-12-18T17:35:23.279338Z DEBUG src/im/friend/api.rs:43: [FriendAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 4778b749-13e1-466f-b816-05a81f7fb4e6
2025-12-18T17:35:23.280368Z  INFO src/im/conversation/api.rs:186: [ConvAPI] å¢é‡ä¼šè¯åŒæ­¥å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"version":3,"versionID":"68e1e4982a00312739a80eef","full":true,"delete":null,"insert":null,"update":null}}
2025-12-18T17:35:23.280417Z  INFO src/im/conversation/service.rs:745: [ConvSync] âœ… å¢é‡ä¼šè¯åŒæ­¥å“åº”
   å…¨é‡åŒæ­¥: true
   ç‰ˆæœ¬ID: 68e1e4982a00312739a80eef
   ç‰ˆæœ¬: 3
   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-18T17:35:23.280434Z DEBUG src/im/conversation/service.rs:749: [ConvSync]   åˆ é™¤çš„ä¼šè¯ID: []
2025-12-18T17:35:23.280458Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 50%
2025-12-18T17:35:23.280475Z  WARN src/im/conversation/service.rs:754: [ConvSync]   æœåŠ¡å™¨è¦æ±‚å…¨é‡åŒæ­¥...
2025-12-18T17:35:23.280489Z  INFO src/im/conversation/service.rs:839: [ConvSync] ğŸ”„ å¼€å§‹å…¨é‡åŒæ­¥ä¼šè¯...
2025-12-18T17:35:23.280499Z  INFO src/im/friend/api.rs:65: [FriendAPI] å¢é‡å¥½å‹åŒæ­¥å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"version":2,"versionID":"68e1e49803980d63e228abfa","full":false,"delete":null,"insert":null,"update":null,"sortVersion":0}}
2025-12-18T17:35:23.280537Z  INFO src/im/friend/service.rs:151: [FriendSync] å¼€å§‹åŒæ­¥å¥½å‹ï¼ŒæœåŠ¡å™¨å¥½å‹æ•°: 0, æœ¬åœ°å¥½å‹æ•°: 1
2025-12-18T17:35:23.280558Z  INFO src/im/friend/service.rs:221: [FriendSync] å¥½å‹åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-18T17:35:23.280726Z DEBUG src/im/conversation/dao.rs:179: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-18T17:35:23.280746Z DEBUG src/im/conversation/service.rs:842: [ConvSync] full_sync -> on_sync_server_start(reinstalled=false)
2025-12-18T17:35:23.280758Z  INFO src/bin/openim-cli.rs:86: [CLI/Conversation] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-18T17:35:23.280769Z  INFO src/im/friend/service.rs:394: [FriendSync] å·²æ›´æ–°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2 -> 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-18T17:35:23.280773Z DEBUG src/im/conversation/service.rs:847: [ConvSync] full_sync -> on_sync_server_progress(10)
2025-12-18T17:35:23.280789Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 10%
2025-12-18T17:35:23.280795Z  INFO src/im/friend/service.rs:400: [FriendSync] âœ… å¢é‡åŒæ­¥å¥½å‹å®Œæˆ
2025-12-18T17:35:23.280806Z  INFO src/im/conversation/api.rs:229: [ConvAPI] ğŸ“¡ è¯·æ±‚å…¨é‡ä¼šè¯åŒæ­¥
2025-12-18T17:35:23.280813Z  INFO src/im/friend/api.rs:270: [FriendAPI] ğŸ“¡ è¯·æ±‚é»‘åå•åˆ—è¡¨
2025-12-18T17:35:23.280819Z DEBUG src/im/conversation/api.rs:230: [ConvAPI]   è¯·æ±‚URL: http://localhost:10002/conversation/get_all_conversations
2025-12-18T17:35:23.280827Z DEBUG src/im/friend/api.rs:271: [FriendAPI]   è¯·æ±‚URL: http://localhost:10002/friend/get_black_list
2025-12-18T17:35:23.280833Z DEBUG src/im/conversation/api.rs:231: [ConvAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: e3511637-3c62-4678-b689-33adba19209b
2025-12-18T17:35:23.280844Z DEBUG src/im/friend/api.rs:272: [FriendAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 00e27c59-5e89-42f2-801e-22fc365bad32
2025-12-18T17:35:23.281797Z  INFO src/im/conversation/api.rs:251: [ConvAPI] å…¨é‡ä¼šè¯åŒæ­¥å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"conversations":[{"ownerUserID":"3217717393","conversationID":"si_1056224172_3217717393","recvMsgOpt":0,"conversationType":1,"userID":"1056224172","groupID":"","isPinned":false,"attachedInfo":"","isPrivateChat":false,"groupAtType":0,"ex":"","burnDuration":0,"minSeq":0,"maxSeq":0,"msgDestructTime":0,"latestMsgDestructTime":-62135596800000,"isMsgDestruct":false},{"ownerUserID":"3217717393","conversationID":"sg_3250046082","recvMsgOpt":0,"conversationType":3,"userID":"","groupID":"3250046082","isPinned":false,"attachedInfo":"","isPrivateChat":false,"groupAtType":0,"ex":"","burnDuration":0,"minSeq":0,"maxSeq":0,"msgDestructTime":0,"latestMsgDestructTime":-62135596800000,"isMsgDestruct":false}]}}
2025-12-18T17:35:23.281860Z  INFO src/im/conversation/api.rs:286: [ConvAPI] âœ… å…¨é‡ä¼šè¯åŒæ­¥å“åº”ï¼Œä¼šè¯æ•°: 2
2025-12-18T17:35:23.281880Z DEBUG src/im/conversation/api.rs:290: [ConvAPI]   ä¼šè¯è¯¦æƒ…: ["si_1056224172_3217717393", "sg_3250046082"]
2025-12-18T17:35:23.281900Z  INFO src/im/conversation/service.rs:863: [ConvSync] ä»æœåŠ¡å™¨è·å–åˆ° 2 ä¸ªä¼šè¯
2025-12-18T17:35:23.281914Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 30%
2025-12-18T17:35:23.281931Z DEBUG src/im/conversation/service.rs:871: [ConvSync] å·²è½¬æ¢ 2 ä¸ªä¼šè¯ä¸ºæœ¬åœ°æ ¼å¼
2025-12-18T17:35:23.281945Z DEBUG src/im/conversation/service.rs:875: [ConvSync] full_sync -> on_sync_server_progress(50)
2025-12-18T17:35:23.281971Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 50%
2025-12-18T17:35:23.282177Z  INFO src/im/friend/api.rs:305: [FriendAPI] é»‘åå•åˆ—è¡¨å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"blacks":null,"total":0}}
2025-12-18T17:35:23.282204Z  INFO src/im/friend/api.rs:340: [FriendAPI] âœ… é»‘åå•åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-18T17:35:23.282220Z  INFO src/bin/openim-cli.rs:137: [CLI/Friend] ğŸš« é»‘åå•å˜æ›´: []
2025-12-18T17:35:23.282240Z  INFO src/im/friend/api.rs:355: [FriendAPI] ğŸ“¡ è¯·æ±‚å¥½å‹ç”³è¯·åˆ—è¡¨
2025-12-18T17:35:23.282258Z DEBUG src/im/friend/api.rs:356: [FriendAPI]   è¯·æ±‚URL: http://localhost:10002/friend/get_friend_apply_list
2025-12-18T17:35:23.282277Z DEBUG src/im/friend/api.rs:357: [FriendAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 1cd2cbc9-2229-4a57-9909-67d43b9d75bf
2025-12-18T17:35:23.282333Z DEBUG src/im/conversation/dao.rs:156: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T17:35:23.282355Z  INFO src/im/conversation/service.rs:880: [ConvSync] æœ¬åœ°å·²æœ‰ 2 ä¸ªä¼šè¯
2025-12-18T17:35:23.282369Z  INFO src/im/conversation/api.rs:40: [ConvAPI/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-18T17:35:23.282382Z DEBUG src/im/conversation/api.rs:41: [ConvAPI/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-18T17:35:23.282394Z DEBUG src/im/conversation/api.rs:42: [ConvAPI/Seq]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 883b0a97-77b9-456a-9d79-5b2d414168e8
2025-12-18T17:35:23.283790Z DEBUG src/im/conversation/api.rs:68: [ConvAPI/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-18T17:35:23.283834Z  INFO src/im/conversation/api.rs:88: [ConvAPI/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-18T17:35:23.283892Z  INFO src/im/conversation/api.rs:124: [ConvAPI/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data.seqs å­—æ®µ: {
  "si_1056224172_3217717393": {
    "maxSeq": 43,
    "hasReadSeq": 19,
    "maxSeqTime": 1765637683035
  },
  "sg_3250046082": {
    "maxSeq": 26,
    "hasReadSeq": 13,
    "maxSeqTime": 1765380998099
  }
}
2025-12-18T17:35:23.283907Z  INFO src/im/conversation/api.rs:128: [ConvAPI/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-18T17:35:23.283919Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-18T17:35:23.283932Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-18T17:35:23.283944Z  INFO src/im/conversation/api.rs:144: [ConvAPI/Seq] âœ… è§£æå®Œæˆï¼Œå…± 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-18T17:35:23.283957Z  INFO src/im/conversation/service.rs:885: [ConvSync] è·å–åˆ° 2 ä¸ªä¼šè¯çš„ seqs ä¿¡æ¯ï¼Œç”¨äºè®¾ç½®æœªè¯»æ•°
2025-12-18T17:35:23.283969Z  INFO src/im/conversation/service.rs:482: [ConvSync] å¼€å§‹åŒæ­¥ä¼šè¯ï¼ŒæœåŠ¡å™¨ä¼šè¯æ•°: 2, æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-18T17:35:23.283987Z  INFO src/im/conversation/service.rs:510: [ConvSync]   ä¼šè¯ sg_3250046082 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-18T17:35:23.284000Z  INFO src/im/conversation/service.rs:510: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-18T17:35:23.284012Z DEBUG src/im/conversation/service.rs:547: [ConvSync]   ä¼šè¯ sg_3250046082 æ— éœ€æ›´æ–°
2025-12-18T17:35:23.284022Z DEBUG src/im/conversation/service.rs:547: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ— éœ€æ›´æ–°
2025-12-18T17:35:23.284038Z  INFO src/im/conversation/service.rs:596: [ConvSync] ä¼šè¯åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-18T17:35:23.284053Z DEBUG src/im/conversation/service.rs:900: [ConvSync] full_sync -> on_sync_server_progress(80)
2025-12-18T17:35:23.284064Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 80%
2025-12-18T17:35:23.284275Z  INFO src/im/friend/api.rs:381: [FriendAPI] å¥½å‹ç”³è¯·åˆ—è¡¨å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"FriendRequests":[{"fromUserID":"1056224172","fromNickname":"test1","fromFaceURL":"","toUserID":"3217717393","toNickname":"test3","toFaceURL":"","handleResult":1,"reqMsg":"","createTime":1759634604964,"handlerUserID":"3217717393","handleMsg":"","handleTime":1759634610720,"ex":""}],"total":1}}
2025-12-18T17:35:23.284318Z  INFO src/im/friend/api.rs:416: [FriendAPI] âœ… å¥½å‹ç”³è¯·åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 1
2025-12-18T17:35:23.284349Z  INFO src/bin/openim-cli.rs:141: [CLI/Friend] ğŸ“ å¥½å‹ç”³è¯·å˜æ›´: [{"fromUserID":"1056224172","fromNickname":"test1","fromFaceURL":"","toUserID":"3217717393","toNickname":"test3","toFaceURL":"","handleResult":1,"reqMsg":"","createTime":1759634604964,"handlerUserID":"3217717393","handleMsg":"","handleTime":1759634610720,"ex":""}]
2025-12-18T17:35:23.284367Z  INFO src/im/client.rs:458: [Client] âœ… å¥½å‹åŒæ­¥å®Œæˆ
2025-12-18T17:35:23.288324Z  INFO src/im/conversation/service.rs:911: [ConvSync] å·²æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: d1641889-2229-4396-b0e7-2947e842674a
2025-12-18T17:35:23.288344Z DEBUG src/im/conversation/service.rs:916: [ConvSync] full_sync -> on_sync_server_progress(100)
2025-12-18T17:35:23.288357Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 100%
2025-12-18T17:35:23.288373Z DEBUG src/im/conversation/service.rs:918: [ConvSync] full_sync -> on_sync_server_finish(reinstalled=false)
2025-12-18T17:35:23.288387Z  INFO src/bin/openim-cli.rs:93: [CLI/Conversation] âœ… åŒæ­¥å®Œæˆ: reinstalled=false
2025-12-18T17:35:23.288401Z  INFO src/im/conversation/service.rs:317: [ConvSync/Seq] ğŸ”„ å¼€å§‹æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°...
2025-12-18T17:35:23.288734Z DEBUG src/im/conversation/dao.rs:156: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T17:35:23.288768Z  INFO src/im/conversation/api.rs:40: [ConvAPI/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-18T17:35:23.288783Z DEBUG src/im/conversation/api.rs:41: [ConvAPI/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-18T17:35:23.288796Z DEBUG src/im/conversation/api.rs:42: [ConvAPI/Seq]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 80621d8f-729a-4d66-862b-c9257ef29171
2025-12-18T17:35:23.289942Z DEBUG src/im/conversation/api.rs:68: [ConvAPI/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-18T17:35:23.289984Z  INFO src/im/conversation/api.rs:88: [ConvAPI/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-18T17:35:23.290043Z  INFO src/im/conversation/api.rs:124: [ConvAPI/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data.seqs å­—æ®µ: {
  "sg_3250046082": {
    "maxSeq": 26,
    "hasReadSeq": 13,
    "maxSeqTime": 1765380998099
  },
  "si_1056224172_3217717393": {
    "maxSeq": 43,
    "hasReadSeq": 19,
    "maxSeqTime": 1765637683035
  }
}
2025-12-18T17:35:23.290058Z  INFO src/im/conversation/api.rs:128: [ConvAPI/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-18T17:35:23.290069Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-18T17:35:23.290082Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-18T17:35:23.290094Z  INFO src/im/conversation/api.rs:144: [ConvAPI/Seq] âœ… è§£æå®Œæˆï¼Œå…± 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-18T17:35:23.290108Z  INFO src/im/conversation/service.rs:338: [ConvSync/Seq] ğŸ”„ å¼€å§‹æ ¡æ­£æœªè¯»æ•°ï¼ŒæœåŠ¡å™¨è¿”å› 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-18T17:35:23.290122Z DEBUG src/im/conversation/service.rs:358: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=sg_3250046082, unreadCount=13, maxSeq=26
2025-12-18T17:35:23.290140Z DEBUG src/im/conversation/service.rs:358: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=si_1056224172_3217717393, unreadCount=24, maxSeq=43
2025-12-18T17:35:23.290153Z  INFO src/im/conversation/service.rs:373: [ConvSync/Seq] ğŸ“Š æœªè¯»æ•°æ ¡æ­£ç»Ÿè®¡: å·²æ›´æ–° 0 ä¸ªä¼šè¯ï¼Œå‘ç° 0 ä¸ªæœ¬åœ°ç¼ºå¤±ä¼šè¯
2025-12-18T17:35:23.290340Z  INFO src/im/conversation/service.rs:381: [ConvSync/Seq] ğŸ“Š æ ¡æ­£å‰æ€»æœªè¯»æ•°: 37
2025-12-18T17:35:23.290355Z  INFO src/im/conversation/service.rs:464: [ConvSync/Seq] â„¹ï¸ æ— ä¼šè¯å˜æ›´ï¼Œè·³è¿‡å›è°ƒ
2025-12-18T17:35:23.290365Z  INFO src/im/conversation/service.rs:467: [ConvSync/Seq] âœ… æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°å®Œæˆ
2025-12-18T17:35:23.290377Z  INFO src/im/conversation/service.rs:929: [ConvSync] âœ… å…¨é‡åŒæ­¥å®Œæˆ

2025-12-18T17:35:23.290390Z  INFO src/im/client.rs:432: [Client] âœ… ä¼šè¯åŒæ­¥å®Œæˆ
2025-12-18T17:35:44.413264Z  INFO src/bin/openim-cli.rs:76: [CLI] ğŸ“ æ—¥å¿—å·²åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶: debug.log
2025-12-18T17:35:44.413328Z  INFO src/bin/openim-cli.rs:200: [CLI] ğŸš€ OpenIM CLI å®¢æˆ·ç«¯ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰
2025-12-18T17:35:44.413342Z  INFO src/bin/openim-cli.rs:201: [CLI] ğŸ“± æ‰‹æœºå·: 17764338283
2025-12-18T17:35:44.413356Z  INFO src/bin/openim-cli.rs:202: [CLI] â±ï¸  è¿è¡Œæ—¶é•¿: 0 ç§’ï¼ˆ0=æŒç»­è¿è¡Œï¼‰
2025-12-18T17:35:44.413369Z  INFO src/bin/openim-cli.rs:205: [CLI] ğŸ” æ­£åœ¨ç™»å½•...
2025-12-18T17:35:44.413608Z  INFO src/im/auth.rs:48: ğŸ” æ­£åœ¨ç™»å½•...
2025-12-18T17:35:44.413625Z DEBUG src/im/auth.rs:49:    URL: http://localhost:10008/account/login
2025-12-18T17:35:44.413638Z DEBUG src/im/auth.rs:50:    æ‰‹æœºå·: 17764338283
2025-12-18T17:35:44.413652Z DEBUG src/im/auth.rs:51:    OperationID: 674b61c1-af3b-4400-add5-82d1db9e79c3
2025-12-18T17:35:44.418601Z DEBUG src/im/auth.rs:83: âœ… ç™»å½•å“åº”: {"errCode":0,"errMsg":"","errDlt":"","data":{"imToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiUGxhdGZvcm1JRCI6NSwiZXhwIjoxNzczODU1MzQ0LCJpYXQiOjE3NjYwNzkzMzl9.7lAjwHykloxmq_0vgSvoqQkkd4m1pZBOrZADfuZ34Yg","chatToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjE3NzE3MzkzIiwiVXNlclR5cGUiOjEsIlBsYXRmb3JtSUQiOjAsImV4cCI6MTc3Mzg1NTM0NCwibmJmIjoxNzY2MDc5Mjg0LCJpYXQiOjE3NjYwNzkzNDR9.hlF2YFdMh-9QvLoh8bKpeh4TFgMAq-z-GiDPL1HDxd4","userID":"3217717393"}}
2025-12-18T17:35:44.418720Z  INFO src/bin/openim-cli.rs:220: [CLI] âœ… ç™»å½•æˆåŠŸï¼ç”¨æˆ·ID: 3217717393
2025-12-18T17:35:44.418753Z  INFO src/bin/openim-cli.rs:232: [CLI] ğŸ”— æ­£åœ¨è¿æ¥æœåŠ¡å™¨...
2025-12-18T17:35:44.418787Z  INFO src/im/client.rs:296: [Client] ğŸ”— è¿æ¥åˆ° OpenIM Server (user=3217717393, platform=5)
2025-12-18T17:35:44.419571Z  INFO src/im/client.rs:302: [Client] âœ… WebSocket è¿æ¥æˆåŠŸ, çŠ¶æ€: 101 Switching Protocols
2025-12-18T17:35:44.419602Z DEBUG src/im/client.rs:317: [Client] ğŸ“¥ WebSocket è¿æ¥å“åº”: {"errCode":0,"errMsg":"","errDlt":""}
2025-12-18T17:35:44.419620Z  INFO src/im/client.rs:321: [Client] âœ… æœåŠ¡å™¨è¿æ¥é‰´æƒæˆåŠŸ
2025-12-18T17:35:44.419655Z  INFO src/im/client.rs:383: [Client] ğŸ’“ å¯åŠ¨å¿ƒè·³
2025-12-18T17:35:44.419670Z  INFO src/im/client.rs:384: [Client] ğŸ“¥ å¼€å§‹ç›‘å¬æœåŠ¡å™¨æ¶ˆæ¯
2025-12-18T17:35:44.419690Z  INFO src/im/client.rs:387: [Client] ğŸ”— åˆ›å»ºå…±äº« SQLite è¿æ¥æ± å¹¶æ‰§è¡Œè¿ç§»: sqlite://conversations.db?mode=rwc
2025-12-18T17:35:44.419695Z  INFO src/bin/openim-cli.rs:180: [CLI/Message] ğŸ”— å·²è¿æ¥: è¿æ¥æˆåŠŸ
2025-12-18T17:35:44.420740Z  INFO src/im/conversation/service.rs:81: [ConvSync] åˆ›å»ºä¼šè¯åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«æ•°æ®åº“è¿æ¥ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-18T17:35:44.420786Z  INFO src/im/client.rs:429: [Client] ğŸ”„ å¯åŠ¨ä¼šè¯å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-18T17:35:44.420814Z  INFO src/im/friend/service.rs:97: [FriendSync] åˆ›å»ºå¥½å‹åŒæ­¥å™¨ï¼ˆä½¿ç”¨å…±äº«è¿æ¥æ± ï¼‰ï¼Œç”¨æˆ·ID: 3217717393
2025-12-18T17:35:44.420832Z  INFO src/im/conversation/service.rs:622: [ConvSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥ä¼šè¯...
2025-12-18T17:35:44.420874Z  INFO src/im/client.rs:455: [Client] ğŸ”„ å¯åŠ¨å¥½å‹å¢é‡åŒæ­¥ä»»åŠ¡
2025-12-18T17:35:44.420912Z  INFO src/im/friend/service.rs:242: [FriendSync] ğŸ”„ å¼€å§‹å¢é‡åŒæ­¥å¥½å‹...
2025-12-18T17:35:44.421036Z DEBUG src/im/conversation/service.rs:628: [ConvSync] æœ¬åœ°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: d1641889-2229-4396-b0e7-2947e842674a
2025-12-18T17:35:44.421247Z  INFO src/bin/openim-cli.rs:240: [CLI] âœ… è¿æ¥æˆåŠŸï¼
2025-12-18T17:35:44.421269Z DEBUG src/im/conversation/service.rs:981: [ConvSync] è·å–æ‰€æœ‰ä¼šè¯åˆ—è¡¨
2025-12-18T17:35:44.421285Z DEBUG src/im/conversation/service.rs:939: [ConvSync] è·å–ä¼šè¯åˆ—è¡¨ï¼Œåç§»: 0, æ•°é‡: 18446744073709551615
2025-12-18T17:35:44.421729Z DEBUG src/im/conversation/dao.rs:156: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T17:35:44.421748Z DEBUG src/im/friend/service.rs:247: [FriendSync] æœ¬åœ°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-18T17:35:44.421754Z DEBUG src/im/conversation/service.rs:946: [ConvSync] è¿‡æ»¤åä¼šè¯æ•°: 0 (è¿‡æ»¤æ‰æ— æ¶ˆæ¯æ—¶é—´çš„ä¼šè¯)
2025-12-18T17:35:44.421770Z DEBUG src/im/conversation/service.rs:970: [ConvSync] è¿”å› 0 ä¸ªä¼šè¯ (èŒƒå›´: 0 - 0)
2025-12-18T17:35:44.421782Z  INFO src/bin/openim-cli.rs:246: [CLI] ğŸ“‹ ä¼šè¯åˆ—è¡¨ï¼ˆå…± 0 ä¸ªï¼‰:
2025-12-18T17:35:44.421891Z DEBUG src/im/conversation/dao.rs:156: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T17:35:44.422017Z DEBUG src/im/friend/dao.rs:75: [FriendDAO] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-18T17:35:44.422033Z  INFO src/bin/openim-cli.rs:262: [CLI] ğŸ‘¥ å¥½å‹åˆ—è¡¨ï¼ˆå…± 1 ä¸ªï¼‰
2025-12-18T17:35:44.422044Z DEBUG src/im/friend/dao.rs:75: [FriendDAO] è·å–æœ¬åœ°å¥½å‹åˆ—è¡¨ï¼Œå…± 1 ä¸ªå¥½å‹
2025-12-18T17:35:44.422223Z DEBUG src/im/friend/dao.rs:98: [FriendDAO] è·å–æœ¬åœ°å¥½å‹IDåˆ—è¡¨ï¼Œå…± 1 ä¸ª
2025-12-18T17:35:44.422229Z  INFO src/bin/openim-cli.rs:266: [CLI] ğŸ“¬ æ€»æœªè¯»æ•°: 37
2025-12-18T17:35:44.422248Z  INFO src/bin/openim-cli.rs:270: [CLI] ğŸ“¥ å¼€å§‹ç›‘å¬æ¶ˆæ¯...
2025-12-18T17:35:44.422255Z  INFO src/im/friend/api.rs:41: [FriendAPI] ğŸ“¡ è¯·æ±‚å¢é‡å¥½å‹åŒæ­¥
2025-12-18T17:35:44.422269Z  INFO src/bin/openim-cli.rs:271: [CLI] ğŸ’¡ æç¤ºï¼šç¨‹åºå°†æŒç»­è¿è¡Œå¹¶æ˜¾ç¤ºæ¥æ”¶åˆ°çš„æ‰€æœ‰æ¶ˆæ¯å’Œäº‹ä»¶
2025-12-18T17:35:44.422272Z DEBUG src/im/friend/api.rs:42: [FriendAPI]   è¯·æ±‚URL: http://localhost:10002/friend/get_incremental_friends
2025-12-18T17:35:44.422291Z  INFO src/bin/openim-cli.rs:277: [CLI] â° æŒç»­è¿è¡Œä¸­ï¼ŒæŒ‰ Ctrl+C é€€å‡º
2025-12-18T17:35:44.422297Z DEBUG src/im/friend/api.rs:43: [FriendAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: ae2d84c7-c562-4573-924a-bd86d7b53f3b
2025-12-18T17:35:44.422428Z DEBUG src/im/conversation/dao.rs:179: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-18T17:35:44.422447Z  INFO src/im/conversation/service.rs:639: [ConvSync] æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-18T17:35:44.422459Z  INFO src/im/conversation/service.rs:722: [ConvSync] ä½¿ç”¨å¢é‡åŒæ­¥ï¼Œç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: d1641889-2229-4396-b0e7-2947e842674a
2025-12-18T17:35:44.422472Z  INFO src/bin/openim-cli.rs:86: [CLI/Conversation] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-18T17:35:44.422483Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 10%
2025-12-18T17:35:44.422507Z  INFO src/im/conversation/api.rs:164: [ConvAPI] ğŸ“¡ è¯·æ±‚å¢é‡ä¼šè¯åŒæ­¥
   è¯·æ±‚URL: http://localhost:10002/conversation/get_incremental_conversations
   ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: d1641889-2229-4396-b0e7-2947e842674a
   ç”¨æˆ·ID: 3217717393
   æ“ä½œID: f61d3df5-97b7-4357-b6e5-775fe9d93ad4
2025-12-18T17:35:44.423747Z  INFO src/im/conversation/api.rs:186: [ConvAPI] å¢é‡ä¼šè¯åŒæ­¥å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"version":3,"versionID":"68e1e4982a00312739a80eef","full":true,"delete":null,"insert":null,"update":null}}
2025-12-18T17:35:44.423755Z  INFO src/im/friend/api.rs:65: [FriendAPI] å¢é‡å¥½å‹åŒæ­¥å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"version":2,"versionID":"68e1e49803980d63e228abfa","full":false,"delete":null,"insert":null,"update":null,"sortVersion":0}}
2025-12-18T17:35:44.423791Z  INFO src/im/conversation/service.rs:745: [ConvSync] âœ… å¢é‡ä¼šè¯åŒæ­¥å“åº”
   å…¨é‡åŒæ­¥: true
   ç‰ˆæœ¬ID: 68e1e4982a00312739a80eef
   ç‰ˆæœ¬: 3
   æ–°å¢: 0 ä¸ª, æ›´æ–°: 0 ä¸ª, åˆ é™¤: 0 ä¸ª
2025-12-18T17:35:44.423794Z  INFO src/im/friend/service.rs:151: [FriendSync] å¼€å§‹åŒæ­¥å¥½å‹ï¼ŒæœåŠ¡å™¨å¥½å‹æ•°: 0, æœ¬åœ°å¥½å‹æ•°: 1
2025-12-18T17:35:44.423812Z DEBUG src/im/conversation/service.rs:749: [ConvSync]   åˆ é™¤çš„ä¼šè¯ID: []
2025-12-18T17:35:44.423823Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 50%
2025-12-18T17:35:44.423827Z  INFO src/im/friend/service.rs:221: [FriendSync] å¥½å‹åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-18T17:35:44.423837Z  WARN src/im/conversation/service.rs:754: [ConvSync]   æœåŠ¡å™¨è¦æ±‚å…¨é‡åŒæ­¥...
2025-12-18T17:35:44.423848Z  INFO src/im/conversation/service.rs:839: [ConvSync] ğŸ”„ å¼€å§‹å…¨é‡åŒæ­¥ä¼šè¯...
2025-12-18T17:35:44.424089Z DEBUG src/im/conversation/dao.rs:179: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯IDåˆ—è¡¨ï¼Œå…± 2 ä¸ª
2025-12-18T17:35:44.424115Z DEBUG src/im/conversation/service.rs:842: [ConvSync] full_sync -> on_sync_server_start(reinstalled=false)
2025-12-18T17:35:44.424131Z  INFO src/bin/openim-cli.rs:86: [CLI/Conversation] ğŸ”„ åŒæ­¥å¼€å§‹: reinstalled=false
2025-12-18T17:35:44.424142Z DEBUG src/im/conversation/service.rs:847: [ConvSync] full_sync -> on_sync_server_progress(10)
2025-12-18T17:35:44.424152Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 10%
2025-12-18T17:35:44.424166Z  INFO src/im/conversation/api.rs:229: [ConvAPI] ğŸ“¡ è¯·æ±‚å…¨é‡ä¼šè¯åŒæ­¥
2025-12-18T17:35:44.424178Z DEBUG src/im/conversation/api.rs:230: [ConvAPI]   è¯·æ±‚URL: http://localhost:10002/conversation/get_all_conversations
2025-12-18T17:35:44.424194Z DEBUG src/im/conversation/api.rs:231: [ConvAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 662ea932-3694-46eb-86e0-01d0057560cf
2025-12-18T17:35:44.425166Z  INFO src/im/friend/service.rs:394: [FriendSync] å·²æ›´æ–°å¥½å‹ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 2 -> 2, ç‰ˆæœ¬ID: 68e1e49803980d63e228abfa
2025-12-18T17:35:44.425188Z  INFO src/im/friend/service.rs:400: [FriendSync] âœ… å¢é‡åŒæ­¥å¥½å‹å®Œæˆ
2025-12-18T17:35:44.425202Z  INFO src/im/friend/api.rs:270: [FriendAPI] ğŸ“¡ è¯·æ±‚é»‘åå•åˆ—è¡¨
2025-12-18T17:35:44.425214Z DEBUG src/im/friend/api.rs:271: [FriendAPI]   è¯·æ±‚URL: http://localhost:10002/friend/get_black_list
2025-12-18T17:35:44.425228Z DEBUG src/im/friend/api.rs:272: [FriendAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: a164f021-4c25-46d8-add4-5702a34a7c40
2025-12-18T17:35:44.425395Z  INFO src/im/conversation/api.rs:251: [ConvAPI] å…¨é‡ä¼šè¯åŒæ­¥å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"conversations":[{"ownerUserID":"3217717393","conversationID":"sg_3250046082","recvMsgOpt":0,"conversationType":3,"userID":"","groupID":"3250046082","isPinned":false,"attachedInfo":"","isPrivateChat":false,"groupAtType":0,"ex":"","burnDuration":0,"minSeq":0,"maxSeq":0,"msgDestructTime":0,"latestMsgDestructTime":-62135596800000,"isMsgDestruct":false},{"ownerUserID":"3217717393","conversationID":"si_1056224172_3217717393","recvMsgOpt":0,"conversationType":1,"userID":"1056224172","groupID":"","isPinned":false,"attachedInfo":"","isPrivateChat":false,"groupAtType":0,"ex":"","burnDuration":0,"minSeq":0,"maxSeq":0,"msgDestructTime":0,"latestMsgDestructTime":-62135596800000,"isMsgDestruct":false}]}}
2025-12-18T17:35:44.425464Z  INFO src/im/conversation/api.rs:286: [ConvAPI] âœ… å…¨é‡ä¼šè¯åŒæ­¥å“åº”ï¼Œä¼šè¯æ•°: 2
2025-12-18T17:35:44.425487Z DEBUG src/im/conversation/api.rs:290: [ConvAPI]   ä¼šè¯è¯¦æƒ…: ["sg_3250046082", "si_1056224172_3217717393"]
2025-12-18T17:35:44.425507Z  INFO src/im/conversation/service.rs:863: [ConvSync] ä»æœåŠ¡å™¨è·å–åˆ° 2 ä¸ªä¼šè¯
2025-12-18T17:35:44.425523Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 30%
2025-12-18T17:35:44.425542Z DEBUG src/im/conversation/service.rs:871: [ConvSync] å·²è½¬æ¢ 2 ä¸ªä¼šè¯ä¸ºæœ¬åœ°æ ¼å¼
2025-12-18T17:35:44.425558Z DEBUG src/im/conversation/service.rs:875: [ConvSync] full_sync -> on_sync_server_progress(50)
2025-12-18T17:35:44.425580Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 50%
2025-12-18T17:35:44.425894Z DEBUG src/im/conversation/dao.rs:156: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T17:35:44.425918Z  INFO src/im/conversation/service.rs:880: [ConvSync] æœ¬åœ°å·²æœ‰ 2 ä¸ªä¼šè¯
2025-12-18T17:35:44.425935Z  INFO src/im/conversation/api.rs:40: [ConvAPI/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-18T17:35:44.425951Z DEBUG src/im/conversation/api.rs:41: [ConvAPI/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-18T17:35:44.425966Z DEBUG src/im/conversation/api.rs:42: [ConvAPI/Seq]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 15ff7a33-241a-42ae-a406-ddc95811bca6
2025-12-18T17:35:44.426375Z  INFO src/im/friend/api.rs:305: [FriendAPI] é»‘åå•åˆ—è¡¨å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"blacks":null,"total":0}}
2025-12-18T17:35:44.426405Z  INFO src/im/friend/api.rs:340: [FriendAPI] âœ… é»‘åå•åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 0
2025-12-18T17:35:44.426424Z  INFO src/bin/openim-cli.rs:137: [CLI/Friend] ğŸš« é»‘åå•å˜æ›´: []
2025-12-18T17:35:44.426436Z  INFO src/im/friend/api.rs:355: [FriendAPI] ğŸ“¡ è¯·æ±‚å¥½å‹ç”³è¯·åˆ—è¡¨
2025-12-18T17:35:44.426447Z DEBUG src/im/friend/api.rs:356: [FriendAPI]   è¯·æ±‚URL: http://localhost:10002/friend/get_friend_apply_list
2025-12-18T17:35:44.426459Z DEBUG src/im/friend/api.rs:357: [FriendAPI]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 25e8038e-7a57-431e-a9bd-e24d0f069a13
2025-12-18T17:35:44.426887Z DEBUG src/im/conversation/api.rs:68: [ConvAPI/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-18T17:35:44.426920Z  INFO src/im/conversation/api.rs:88: [ConvAPI/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-18T17:35:44.426996Z  INFO src/im/conversation/api.rs:124: [ConvAPI/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data.seqs å­—æ®µ: {
  "sg_3250046082": {
    "maxSeq": 26,
    "hasReadSeq": 13,
    "maxSeqTime": 1765380998099
  },
  "si_1056224172_3217717393": {
    "maxSeq": 43,
    "hasReadSeq": 19,
    "maxSeqTime": 1765637683035
  }
}
2025-12-18T17:35:44.427021Z  INFO src/im/conversation/api.rs:128: [ConvAPI/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-18T17:35:44.427039Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-18T17:35:44.427061Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-18T17:35:44.427080Z  INFO src/im/conversation/api.rs:144: [ConvAPI/Seq] âœ… è§£æå®Œæˆï¼Œå…± 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-18T17:35:44.427099Z  INFO src/im/conversation/service.rs:885: [ConvSync] è·å–åˆ° 2 ä¸ªä¼šè¯çš„ seqs ä¿¡æ¯ï¼Œç”¨äºè®¾ç½®æœªè¯»æ•°
2025-12-18T17:35:44.427117Z  INFO src/im/conversation/service.rs:482: [ConvSync] å¼€å§‹åŒæ­¥ä¼šè¯ï¼ŒæœåŠ¡å™¨ä¼šè¯æ•°: 2, æœ¬åœ°ä¼šè¯æ•°: 2
2025-12-18T17:35:44.427147Z  INFO src/im/conversation/service.rs:510: [ConvSync]   ä¼šè¯ sg_3250046082 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-18T17:35:44.427166Z  INFO src/im/conversation/service.rs:510: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ ¹æ® seqs è®¾ç½®æœªè¯»æ•°: maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-18T17:35:44.427187Z DEBUG src/im/conversation/service.rs:547: [ConvSync]   ä¼šè¯ si_1056224172_3217717393 æ— éœ€æ›´æ–°
2025-12-18T17:35:44.427201Z DEBUG src/im/conversation/service.rs:547: [ConvSync]   ä¼šè¯ sg_3250046082 æ— éœ€æ›´æ–°
2025-12-18T17:35:44.427223Z  INFO src/im/conversation/service.rs:596: [ConvSync] ä¼šè¯åŒæ­¥å®Œæˆ - æ–°å¢: 0, æ›´æ–°: 0, åˆ é™¤: 0
2025-12-18T17:35:44.427241Z DEBUG src/im/conversation/service.rs:900: [ConvSync] full_sync -> on_sync_server_progress(80)
2025-12-18T17:35:44.427255Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 80%
2025-12-18T17:35:44.427891Z  INFO src/im/friend/api.rs:381: [FriendAPI] å¥½å‹ç”³è¯·åˆ—è¡¨å“åº” Body: {"errCode":0,"errMsg":"","errDlt":"","data":{"FriendRequests":[{"fromUserID":"1056224172","fromNickname":"test1","fromFaceURL":"","toUserID":"3217717393","toNickname":"test3","toFaceURL":"","handleResult":1,"reqMsg":"","createTime":1759634604964,"handlerUserID":"3217717393","handleMsg":"","handleTime":1759634610720,"ex":""}],"total":1}}
2025-12-18T17:35:44.427948Z  INFO src/im/friend/api.rs:416: [FriendAPI] âœ… å¥½å‹ç”³è¯·åˆ—è¡¨å“åº”ï¼Œæ¡ç›®æ•°: 1
2025-12-18T17:35:44.427981Z  INFO src/bin/openim-cli.rs:141: [CLI/Friend] ğŸ“ å¥½å‹ç”³è¯·å˜æ›´: [{"fromUserID":"1056224172","fromNickname":"test1","fromFaceURL":"","toUserID":"3217717393","toNickname":"test3","toFaceURL":"","handleResult":1,"reqMsg":"","createTime":1759634604964,"handlerUserID":"3217717393","handleMsg":"","handleTime":1759634610720,"ex":""}]
2025-12-18T17:35:44.427999Z  INFO src/im/client.rs:458: [Client] âœ… å¥½å‹åŒæ­¥å®Œæˆ
2025-12-18T17:35:44.430806Z  INFO src/im/conversation/service.rs:911: [ConvSync] å·²æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯ - ç‰ˆæœ¬: 1, ç‰ˆæœ¬ID: ae1caf0b-dd83-4cca-a3d2-2c83a83c36b1
2025-12-18T17:35:44.430827Z DEBUG src/im/conversation/service.rs:916: [ConvSync] full_sync -> on_sync_server_progress(100)
2025-12-18T17:35:44.430840Z  INFO src/bin/openim-cli.rs:100: [CLI/Conversation] ğŸ“Š åŒæ­¥è¿›åº¦: 100%
2025-12-18T17:35:44.430854Z DEBUG src/im/conversation/service.rs:918: [ConvSync] full_sync -> on_sync_server_finish(reinstalled=false)
2025-12-18T17:35:44.430870Z  INFO src/bin/openim-cli.rs:93: [CLI/Conversation] âœ… åŒæ­¥å®Œæˆ: reinstalled=false
2025-12-18T17:35:44.430890Z  INFO src/im/conversation/service.rs:317: [ConvSync/Seq] ğŸ”„ å¼€å§‹æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°...
2025-12-18T17:35:44.431210Z DEBUG src/im/conversation/dao.rs:156: [ConvDAO] è·å–æœ¬åœ°ä¼šè¯åˆ—è¡¨ï¼Œå…± 2 ä¸ªä¼šè¯
2025-12-18T17:35:44.431240Z  INFO src/im/conversation/api.rs:40: [ConvAPI/Seq] ğŸ“¡ è¯·æ±‚ä¼šè¯ Seq ä¿¡æ¯
2025-12-18T17:35:44.431254Z DEBUG src/im/conversation/api.rs:41: [ConvAPI/Seq]   è¯·æ±‚URL: http://localhost:10002/msg/get_conversations_has_read_and_max_seq
2025-12-18T17:35:44.431268Z DEBUG src/im/conversation/api.rs:42: [ConvAPI/Seq]   ç”¨æˆ·ID: 3217717393, æ“ä½œID: 4a573aa9-5240-4772-bc97-eecd4602ec0c
2025-12-18T17:35:44.432296Z DEBUG src/im/conversation/api.rs:68: [ConvAPI/Seq] ä¼šè¯ Seq è¯·æ±‚æˆåŠŸï¼ŒHTTPçŠ¶æ€: 200 OK
2025-12-18T17:35:44.432333Z  INFO src/im/conversation/api.rs:88: [ConvAPI/Seq] ğŸ“¥ æœåŠ¡å™¨å“åº”åŸå§‹æ•°æ®: {"errCode":0,"errMsg":"","errDlt":"","data":{"seqs":{"sg_3250046082":{"maxSeq":26,"hasReadSeq":13,"maxSeqTime":1765380998099},"si_1056224172_3217717393":{"maxSeq":43,"hasReadSeq":19,"maxSeqTime":1765637683035}},"pinnedConversationIDs":null}}
2025-12-18T17:35:44.432385Z  INFO src/im/conversation/api.rs:124: [ConvAPI/Seq] ğŸ“Š æœåŠ¡å™¨è¿”å›çš„ data.seqs å­—æ®µ: {
  "si_1056224172_3217717393": {
    "maxSeq": 43,
    "hasReadSeq": 19,
    "maxSeqTime": 1765637683035
  },
  "sg_3250046082": {
    "maxSeq": 26,
    "hasReadSeq": 13,
    "maxSeqTime": 1765380998099
  }
}
2025-12-18T17:35:44.432404Z  INFO src/im/conversation/api.rs:128: [ConvAPI/Seq] ğŸ“‹ è§£æä¼šè¯ Seq å¯¹è±¡ï¼Œæ¡ç›®æ•°: 2
2025-12-18T17:35:44.432415Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=si_1056224172_3217717393, maxSeq=43, hasReadSeq=19, unreadCount=24
2025-12-18T17:35:44.432434Z  INFO src/im/conversation/api.rs:137: [ConvAPI/Seq]   conversationID=sg_3250046082, maxSeq=26, hasReadSeq=13, unreadCount=13
2025-12-18T17:35:44.432450Z  INFO src/im/conversation/api.rs:144: [ConvAPI/Seq] âœ… è§£æå®Œæˆï¼Œå…± 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-18T17:35:44.432467Z  INFO src/im/conversation/service.rs:338: [ConvSync/Seq] ğŸ”„ å¼€å§‹æ ¡æ­£æœªè¯»æ•°ï¼ŒæœåŠ¡å™¨è¿”å› 2 ä¸ªä¼šè¯çš„ Seq ä¿¡æ¯
2025-12-18T17:35:44.432487Z DEBUG src/im/conversation/service.rs:358: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=si_1056224172_3217717393, unreadCount=24, maxSeq=43
2025-12-18T17:35:44.432503Z DEBUG src/im/conversation/service.rs:358: [ConvSync/Seq] âœ“ ä¼šè¯æœªè¯»æ•°æ— éœ€æ›´æ–°: conversationID=sg_3250046082, unreadCount=13, maxSeq=26
2025-12-18T17:35:44.432525Z  INFO src/im/conversation/service.rs:373: [ConvSync/Seq] ğŸ“Š æœªè¯»æ•°æ ¡æ­£ç»Ÿè®¡: å·²æ›´æ–° 0 ä¸ªä¼šè¯ï¼Œå‘ç° 0 ä¸ªæœ¬åœ°ç¼ºå¤±ä¼šè¯
2025-12-18T17:35:44.432720Z  INFO src/im/conversation/service.rs:381: [ConvSync/Seq] ğŸ“Š æ ¡æ­£å‰æ€»æœªè¯»æ•°: 37
2025-12-18T17:35:44.432740Z  INFO src/im/conversation/service.rs:464: [ConvSync/Seq] â„¹ï¸ æ— ä¼šè¯å˜æ›´ï¼Œè·³è¿‡å›è°ƒ
2025-12-18T17:35:44.432754Z  INFO src/im/conversation/service.rs:467: [ConvSync/Seq] âœ… æŒ‰ Seq æ ¡æ­£æœªè¯»æ•°å®Œæˆ
2025-12-18T17:35:44.432769Z  INFO src/im/conversation/service.rs:929: [ConvSync] âœ… å…¨é‡åŒæ­¥å®Œæˆ

2025-12-18T17:35:44.432782Z  INFO src/im/client.rs:432: [Client] âœ… ä¼šè¯åŒæ­¥å®Œæˆ
